(function(e, a) { for(var i in a) e[i] = a[i]; }(this, /******/ (function(modules) { // webpackBootstrap
/******/ 	// The module cache
/******/ 	var installedModules = {};
/******/
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/
/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId]) {
/******/ 			return installedModules[moduleId].exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			i: moduleId,
/******/ 			l: false,
/******/ 			exports: {}
/******/ 		};
/******/
/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/
/******/ 		// Flag the module as loaded
/******/ 		module.l = true;
/******/
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/
/******/
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;
/******/
/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;
/******/
/******/ 	// define getter function for harmony exports
/******/ 	__webpack_require__.d = function(exports, name, getter) {
/******/ 		if(!__webpack_require__.o(exports, name)) {
/******/ 			Object.defineProperty(exports, name, { enumerable: true, get: getter });
/******/ 		}
/******/ 	};
/******/
/******/ 	// define __esModule on exports
/******/ 	__webpack_require__.r = function(exports) {
/******/ 		if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 			Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 		}
/******/ 		Object.defineProperty(exports, '__esModule', { value: true });
/******/ 	};
/******/
/******/ 	// create a fake namespace object
/******/ 	// mode & 1: value is a module id, require it
/******/ 	// mode & 2: merge all properties of value into the ns
/******/ 	// mode & 4: return value when already ns object
/******/ 	// mode & 8|1: behave like require
/******/ 	__webpack_require__.t = function(value, mode) {
/******/ 		if(mode & 1) value = __webpack_require__(value);
/******/ 		if(mode & 8) return value;
/******/ 		if((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;
/******/ 		var ns = Object.create(null);
/******/ 		__webpack_require__.r(ns);
/******/ 		Object.defineProperty(ns, 'default', { enumerable: true, value: value });
/******/ 		if(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));
/******/ 		return ns;
/******/ 	};
/******/
/******/ 	// getDefaultExport function for compatibility with non-harmony modules
/******/ 	__webpack_require__.n = function(module) {
/******/ 		var getter = module && module.__esModule ?
/******/ 			function getDefault() { return module['default']; } :
/******/ 			function getModuleExports() { return module; };
/******/ 		__webpack_require__.d(getter, 'a', getter);
/******/ 		return getter;
/******/ 	};
/******/
/******/ 	// Object.prototype.hasOwnProperty.call
/******/ 	__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };
/******/
/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "";
/******/
/******/
/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(__webpack_require__.s = "../../../../../private/var/folders/yx/2npdvg6n20d63pq5hxj9n0bc0000gn/T/0.3170430410593632.WebWorker.js");
/******/ })
/************************************************************************/
/******/ ({

/***/ "../../../../../private/var/folders/yx/2npdvg6n20d63pq5hxj9n0bc0000gn/T/0.3170430410593632.WebWorker.js":
/*!************************************************************************************************!*\
  !*** /private/var/folders/yx/2npdvg6n20d63pq5hxj9n0bc0000gn/T/0.3170430410593632.WebWorker.js ***!
  \************************************************************************************************/
/*! no exports provided */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _Users_moliva_repos_explorer_kernel_node_modules_decentraland_rpc_lib_common_transports_WebWorker__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./node_modules/decentraland-rpc/lib/common/transports/WebWorker */ \"./node_modules/decentraland-rpc/lib/common/transports/WebWorker.js\");\n\n\nconst imported = __webpack_require__(/*! ./packages/decentraland-loader/lifecycle/worker.ts */ \"./packages/decentraland-loader/lifecycle/worker.ts\")\n\nif (imported && imported.__esModule && imported['default']) {\n  new imported['default'](Object(_Users_moliva_repos_explorer_kernel_node_modules_decentraland_rpc_lib_common_transports_WebWorker__WEBPACK_IMPORTED_MODULE_0__[\"WebWorkerTransport\"])(self))\n}\n\n\n//# sourceURL=webpack:////private/var/folders/yx/2npdvg6n20d63pq5hxj9n0bc0000gn/T/0.3170430410593632.WebWorker.js?");

/***/ }),

/***/ "./node_modules/decentraland-rpc/lib/client/EventSubscriber.js":
/*!*********************************************************************!*\
  !*** ./node_modules/decentraland-rpc/lib/client/EventSubscriber.js ***!
  \*********************************************************************/
/*! exports provided: EventSubscriber */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"EventSubscriber\", function() { return EventSubscriber; });\n/* harmony import */ var _common_core_EventDispatcher__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../common/core/EventDispatcher */ \"./node_modules/decentraland-rpc/lib/common/core/EventDispatcher.js\");\n\nclass EventSubscriber extends _common_core_EventDispatcher__WEBPACK_IMPORTED_MODULE_0__[\"EventDispatcher\"] {\n    constructor(component) {\n        super();\n        this.component = component;\n        component.onSubscribedEvent((data) => {\n            super.emit(data.event, data);\n        });\n    }\n    on(event, handler) {\n        if (this.getEventBindings(event).length === 0) {\n            this.component.subscribe(event).catch(e => this.emit('error', e));\n        }\n        return super.on.apply(this, arguments);\n    }\n    off(event) {\n        let theEventToValidate = null;\n        const offResult = super.off.apply(this, arguments);\n        if (typeof event === 'string') {\n            theEventToValidate = event;\n        }\n        else if (event instanceof _common_core_EventDispatcher__WEBPACK_IMPORTED_MODULE_0__[\"EventDispatcherBinding\"]) {\n            event = event.event;\n        }\n        if (theEventToValidate !== null) {\n            if (this.getEventBindings(theEventToValidate).length === 0) {\n                this.component.unsubscribe(theEventToValidate).catch(e => this.emit('error', e));\n            }\n        }\n        return offResult;\n    }\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiRXZlbnRTdWJzY3JpYmVyLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vc3JjL2NsaWVudC9FdmVudFN1YnNjcmliZXIudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsT0FBTyxFQUFFLGVBQWUsRUFBRSxzQkFBc0IsRUFBRSxNQUFNLGdDQUFnQyxDQUFBO0FBR3hGLE1BQU0sT0FBTyxlQUFnQixTQUFRLGVBQWU7SUFDbEQsWUFBb0IsU0FBMkI7UUFDN0MsS0FBSyxFQUFFLENBQUE7UUFEVyxjQUFTLEdBQVQsU0FBUyxDQUFrQjtRQUc3QyxTQUFTLENBQUMsaUJBQWlCLENBQUMsQ0FBQyxJQUFTLEVBQUUsRUFBRTtZQUN4QyxLQUFLLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxLQUFLLEVBQUUsSUFBSSxDQUFDLENBQUE7UUFDOUIsQ0FBQyxDQUFDLENBQUE7SUFDSixDQUFDO0lBU0QsRUFBRSxDQUFDLEtBQWEsRUFBRSxPQUFZO1FBQzVCLElBQUksSUFBSSxDQUFDLGdCQUFnQixDQUFDLEtBQUssQ0FBQyxDQUFDLE1BQU0sS0FBSyxDQUFDLEVBQUU7WUFDN0MsSUFBSSxDQUFDLFNBQVMsQ0FBQyxTQUFTLENBQUMsS0FBSyxDQUFDLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxPQUFPLEVBQUUsQ0FBQyxDQUFDLENBQUMsQ0FBQTtTQUNsRTtRQUNELE9BQU8sS0FBSyxDQUFDLEVBQUUsQ0FBQyxLQUFLLENBQUMsSUFBSSxFQUFFLFNBQWdCLENBQUMsQ0FBQTtJQUMvQyxDQUFDO0lBT0QsR0FBRyxDQUFDLEtBQWlEO1FBQ25ELElBQUksa0JBQWtCLEdBQWtCLElBQUksQ0FBQTtRQUM1QyxNQUFNLFNBQVMsR0FBRyxLQUFLLENBQUMsR0FBRyxDQUFDLEtBQUssQ0FBQyxJQUFJLEVBQUUsU0FBZ0IsQ0FBQyxDQUFBO1FBRXpELElBQUksT0FBTyxLQUFLLEtBQUssUUFBUSxFQUFFO1lBQzdCLGtCQUFrQixHQUFHLEtBQUssQ0FBQTtTQUMzQjthQUFNLElBQUksS0FBSyxZQUFZLHNCQUFzQixFQUFFO1lBQ2xELEtBQUssR0FBRyxLQUFLLENBQUMsS0FBSyxDQUFBO1NBQ3BCO1FBRUQsSUFBSSxrQkFBa0IsS0FBSyxJQUFJLEVBQUU7WUFDL0IsSUFBSSxJQUFJLENBQUMsZ0JBQWdCLENBQUMsa0JBQWtCLENBQUMsQ0FBQyxNQUFNLEtBQUssQ0FBQyxFQUFFO2dCQUkxRCxJQUFJLENBQUMsU0FBUyxDQUFDLFdBQVcsQ0FBQyxrQkFBa0IsQ0FBQyxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsT0FBTyxFQUFFLENBQUMsQ0FBQyxDQUFDLENBQUE7YUFDakY7U0FDRjtRQUVELE9BQU8sU0FBUyxDQUFBO0lBQ2xCLENBQUM7Q0FDRiIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEV2ZW50RGlzcGF0Y2hlciwgRXZlbnREaXNwYXRjaGVyQmluZGluZyB9IGZyb20gJy4uL2NvbW1vbi9jb3JlL0V2ZW50RGlzcGF0Y2hlcidcbmltcG9ydCB7IElTdWJzY3JpYmFibGVBUEkgfSBmcm9tICcuLi9ob3N0L0FQSSdcblxuZXhwb3J0IGNsYXNzIEV2ZW50U3Vic2NyaWJlciBleHRlbmRzIEV2ZW50RGlzcGF0Y2hlciB7XG4gIGNvbnN0cnVjdG9yKHByaXZhdGUgY29tcG9uZW50OiBJU3Vic2NyaWJhYmxlQVBJKSB7XG4gICAgc3VwZXIoKVxuXG4gICAgY29tcG9uZW50Lm9uU3Vic2NyaWJlZEV2ZW50KChkYXRhOiBhbnkpID0+IHtcbiAgICAgIHN1cGVyLmVtaXQoZGF0YS5ldmVudCwgZGF0YSlcbiAgICB9KVxuICB9XG5cbiAgLyoqXG4gICAqIFJlZ2lzdGVycyBhIG5ldyBsaXN0ZW5lciBmb3IgYW4gc3BlY2lmaWMgZXZlbnQuXG4gICAqIEBwYXJhbSBldmVudCBUaGUgbmFtZSBvZiB0aGUgZXZlbnRcbiAgICogQHBhcmFtIGhhbmRsZXIgQSBoYW5kbGVyIHdoaWNoIGJlIGNhbGxlZCBlYWNoIHRpbWUgdGhlIGV2ZW50IGlzIHJlY2VpdmVkXG4gICAqL1xuICBvbihldmVudDogc3RyaW5nLCBjYWxsYmFjazogKC4uLmFyZ3M6IGFueVtdKSA9PiB2b2lkLCBvbmNlPzogYm9vbGVhbik6IEV2ZW50RGlzcGF0Y2hlckJpbmRpbmdcbiAgb24oZXZlbnQ6IHN0cmluZywgY2FsbGJhY2s6IGFueSwgb25jZT86IGJvb2xlYW4pOiBFdmVudERpc3BhdGNoZXJCaW5kaW5nXG4gIG9uKGV2ZW50OiBzdHJpbmcsIGhhbmRsZXI6IGFueSkge1xuICAgIGlmICh0aGlzLmdldEV2ZW50QmluZGluZ3MoZXZlbnQpLmxlbmd0aCA9PT0gMCkge1xuICAgICAgdGhpcy5jb21wb25lbnQuc3Vic2NyaWJlKGV2ZW50KS5jYXRjaChlID0+IHRoaXMuZW1pdCgnZXJyb3InLCBlKSlcbiAgICB9XG4gICAgcmV0dXJuIHN1cGVyLm9uLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyBhcyBhbnkpXG4gIH1cblxuICAvKipcbiAgICogUmVtb3ZlcyBhIGxpc3RlbmVyIGZvciBhbiBzcGVjaWZpYyBldmVudFxuICAgKiBAcGFyYW0gZXZlbnQgVGhlIG5hbWUgb2YgdGhlIGV2ZW50XG4gICAqIEBwYXJhbSBiaW5kaW5nIEEgcmVmZXJlbmNlIHRvIGEgYmluZGluZyByZXR1cm5lZCBieSBhIHByZXZpb3VzIGBhZGRFdmVudExpc3RlbmVyYCBjYWxsXG4gICAqL1xuICBvZmYoZXZlbnQ6IHN0cmluZyB8IEV2ZW50RGlzcGF0Y2hlckJpbmRpbmcgfCBGdW5jdGlvbikge1xuICAgIGxldCB0aGVFdmVudFRvVmFsaWRhdGU6IHN0cmluZyB8IG51bGwgPSBudWxsXG4gICAgY29uc3Qgb2ZmUmVzdWx0ID0gc3VwZXIub2ZmLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyBhcyBhbnkpXG5cbiAgICBpZiAodHlwZW9mIGV2ZW50ID09PSAnc3RyaW5nJykge1xuICAgICAgdGhlRXZlbnRUb1ZhbGlkYXRlID0gZXZlbnRcbiAgICB9IGVsc2UgaWYgKGV2ZW50IGluc3RhbmNlb2YgRXZlbnREaXNwYXRjaGVyQmluZGluZykge1xuICAgICAgZXZlbnQgPSBldmVudC5ldmVudFxuICAgIH1cblxuICAgIGlmICh0aGVFdmVudFRvVmFsaWRhdGUgIT09IG51bGwpIHtcbiAgICAgIGlmICh0aGlzLmdldEV2ZW50QmluZGluZ3ModGhlRXZlbnRUb1ZhbGlkYXRlKS5sZW5ndGggPT09IDApIHtcbiAgICAgICAgLy8gSWYgd2UgYXJlIHJlbW92aW5nIHRoZSBsYXN0IGV2ZW50IGxpc3RlbmVyLCByZW1vdmUgaXQgYWxzbyBmcm9tIHRoZSBjb21wb25lbnRcbiAgICAgICAgLy8gdGhpcyB3aWxsIGtlZXAgbGlzdGVuZXJzIHVucmVsYXRlZCB0byB0aGUgY29tcG9uZW50IGludGFjdFxuXG4gICAgICAgIHRoaXMuY29tcG9uZW50LnVuc3Vic2NyaWJlKHRoZUV2ZW50VG9WYWxpZGF0ZSkuY2F0Y2goZSA9PiB0aGlzLmVtaXQoJ2Vycm9yJywgZSkpXG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIG9mZlJlc3VsdFxuICB9XG59XG4iXX0=\n\n//# sourceURL=webpack:///./node_modules/decentraland-rpc/lib/client/EventSubscriber.js?");

/***/ }),

/***/ "./node_modules/decentraland-rpc/lib/client/Script.js":
/*!************************************************************!*\
  !*** ./node_modules/decentraland-rpc/lib/client/Script.js ***!
  \************************************************************/
/*! exports provided: inject, getInjectedAPIs, Script */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"inject\", function() { return inject; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getInjectedAPIs\", function() { return getInjectedAPIs; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"Script\", function() { return Script; });\n/* harmony import */ var _common_json_rpc_Client__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../common/json-rpc/Client */ \"./node_modules/decentraland-rpc/lib/common/json-rpc/Client.js\");\n/* harmony import */ var _common_json_rpc_API__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../common/json-rpc/API */ \"./node_modules/decentraland-rpc/lib/common/json-rpc/API.js\");\n/* harmony import */ var _common_core_isPromiseLike__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../common/core/isPromiseLike */ \"./node_modules/decentraland-rpc/lib/common/core/isPromiseLike.js\");\n/* harmony import */ var _common_core_SymbolShim__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../common/core/SymbolShim */ \"./node_modules/decentraland-rpc/lib/common/core/SymbolShim.js\");\n\n\n\n\nconst loadAPIsNotificationName = 'LoadComponents';\nconst hasSymbol = typeof Symbol === 'function' && Symbol.for;\nconst injectedAPISymbol = hasSymbol ? Symbol('injectedAPIs') : 0xfea0;\nfunction inject(apiName) {\n    if (apiName !== undefined && !apiName) {\n        throw new TypeError('API name cannot be null / empty');\n    }\n    return function (target, propertyKey) {\n        if (typeof propertyKey === 'string') {\n            getInjectableMap(target).set(propertyKey, apiName || propertyKey);\n        }\n        else\n            throw new TypeError('Cannot inject APIs with non-string names');\n    };\n}\nfunction getInjectedAPIs(instance) {\n    const result = new Map();\n    let currentPrototype = Object.getPrototypeOf(instance);\n    while (!!currentPrototype) {\n        if (Object(_common_core_SymbolShim__WEBPACK_IMPORTED_MODULE_3__[\"hasOwnSymbol\"])(currentPrototype, injectedAPISymbol)) {\n            const currentList = currentPrototype[injectedAPISymbol];\n            currentList.forEach((v, k) => result.set(k, v));\n        }\n        currentPrototype = Object.getPrototypeOf(currentPrototype);\n    }\n    return result;\n}\nfunction getInjectableMap(target) {\n    const anyTarget = target;\n    if (!Object(_common_core_SymbolShim__WEBPACK_IMPORTED_MODULE_3__[\"hasOwnSymbol\"])(target, injectedAPISymbol)) {\n        anyTarget[injectedAPISymbol] = new Map();\n    }\n    return anyTarget[injectedAPISymbol];\n}\nasync function _injectAPIs(target) {\n    let injectedMap = getInjectedAPIs(target);\n    if (injectedMap.size === 0)\n        return;\n    await target.loadAPIs(Array.from(injectedMap.values()));\n    injectedMap.forEach(function (apiName, property) {\n        target[property] = target.loadedAPIs[apiName];\n    });\n}\nclass Script extends _common_json_rpc_Client__WEBPACK_IMPORTED_MODULE_0__[\"Client\"] {\n    constructor(transport, opt) {\n        super(opt);\n        this.transport = transport;\n        this.loadedAPIs = {};\n        this.started = false;\n        if (transport.onError) {\n            transport.onError(e => {\n                this.emit('error', e);\n            });\n        }\n        if (transport.onClose) {\n            transport.onClose(() => {\n                this.emit('transportClosed');\n            });\n        }\n        transport.onMessage(message => {\n            this.processMessage(message);\n        });\n        if (transport.onConnect) {\n            transport.onConnect(() => {\n                this.didConnect();\n            });\n        }\n        else {\n            this.didConnect();\n        }\n    }\n    sendMessage(message) {\n        this.transport.sendMessage(message);\n    }\n    async loadAPIs(apiName) {\n        const loadedKeys = Object.keys(this.loadedAPIs);\n        const keysToRequest = apiName.filter(function ($) {\n            return !loadedKeys.includes($);\n        });\n        if (keysToRequest.length) {\n            await this.call(loadAPIsNotificationName, [keysToRequest]);\n            keysToRequest.forEach(async (apiName) => {\n                this.loadedAPIs[apiName] = Object(_common_json_rpc_API__WEBPACK_IMPORTED_MODULE_1__[\"getApi\"])(this, apiName);\n            });\n        }\n        return this.loadedAPIs;\n    }\n    didConnect() {\n        const injection = _injectAPIs(this);\n        super.didConnect();\n        injection\n            .then(() => {\n            if (this.systemDidEnable && !this.started) {\n                this.started = true;\n                try {\n                    const r = this.systemDidEnable();\n                    if (r && Object(_common_core_isPromiseLike__WEBPACK_IMPORTED_MODULE_2__[\"isPromiseLike\"])(r)) {\n                        r.catch(e => this.emit('error', e));\n                    }\n                }\n                catch (e) {\n                    this.emit('error', e);\n                }\n            }\n        })\n            .catch(e => this.emit('error', e));\n    }\n}\nScript.inject = inject;\n\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiU2NyaXB0LmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vc3JjL2NsaWVudC9TY3JpcHQudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsT0FBTyxFQUFFLE1BQU0sRUFBRSxNQUFNLDJCQUEyQixDQUFBO0FBQ2xELE9BQU8sRUFBRSxNQUFNLEVBQUUsTUFBTSx3QkFBd0IsQ0FBQTtBQUUvQyxPQUFPLEVBQUUsYUFBYSxFQUFFLE1BQU0sOEJBQThCLENBQUE7QUFDNUQsT0FBTyxFQUFFLFlBQVksRUFBRSxNQUFNLDJCQUEyQixDQUFBO0FBR3hELE1BQU0sd0JBQXdCLEdBQUcsZ0JBQWdCLENBQUE7QUFNakQsTUFBTSxTQUFTLEdBQUcsT0FBTyxNQUFNLEtBQUssVUFBVSxJQUFJLE1BQU0sQ0FBQyxHQUFHLENBQUE7QUFFNUQsTUFBTSxpQkFBaUIsR0FBRyxTQUFTLENBQUMsQ0FBQyxDQUFDLE1BQU0sQ0FBQyxjQUFjLENBQUMsQ0FBQyxDQUFDLENBQUMsTUFBTSxDQUFBO0FBWXJFLE1BQU0sVUFBVSxNQUFNLENBQUMsT0FBZ0I7SUFDckMsSUFBSSxPQUFPLEtBQUssU0FBUyxJQUFJLENBQUMsT0FBTyxFQUFFO1FBQ3JDLE1BQU0sSUFBSSxTQUFTLENBQUMsaUNBQWlDLENBQUMsQ0FBQTtLQUN2RDtJQUNELE9BQU8sVUFBMkIsTUFBUyxFQUFFLFdBQW9CO1FBQy9ELElBQUksT0FBTyxXQUFXLEtBQUssUUFBUSxFQUFFO1lBQ25DLGdCQUFnQixDQUFDLE1BQU0sQ0FBQyxDQUFDLEdBQUcsQ0FBQyxXQUFXLEVBQUUsT0FBTyxJQUFJLFdBQVcsQ0FBQyxDQUFBO1NBQ2xFOztZQUFNLE1BQU0sSUFBSSxTQUFTLENBQUMsMENBQTBDLENBQUMsQ0FBQTtJQUN4RSxDQUFDLENBQUE7QUFDSCxDQUFDO0FBTUQsTUFBTSxVQUFVLGVBQWUsQ0FBbUIsUUFBVztJQUMzRCxNQUFNLE1BQU0sR0FBRyxJQUFJLEdBQUcsRUFBbUIsQ0FBQTtJQUN6QyxJQUFJLGdCQUFnQixHQUFHLE1BQU0sQ0FBQyxjQUFjLENBQUMsUUFBUSxDQUFDLENBQUE7SUFFdEQsT0FBTyxDQUFDLENBQUMsZ0JBQWdCLEVBQUU7UUFDekIsSUFBSSxZQUFZLENBQUMsZ0JBQWdCLEVBQUUsaUJBQWlCLENBQUMsRUFBRTtZQUNyRCxNQUFNLFdBQVcsR0FBeUIsZ0JBQWdCLENBQUMsaUJBQWlCLENBQUMsQ0FBQTtZQUM3RSxXQUFXLENBQUMsT0FBTyxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUMsRUFBRSxFQUFFLENBQUMsTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUMsQ0FBQTtTQUNoRDtRQUNELGdCQUFnQixHQUFHLE1BQU0sQ0FBQyxjQUFjLENBQUMsZ0JBQWdCLENBQUMsQ0FBQTtLQUMzRDtJQUVELE9BQU8sTUFBTSxDQUFBO0FBQ2YsQ0FBQztBQUVELFNBQVMsZ0JBQWdCLENBQUMsTUFBYztJQUN0QyxNQUFNLFNBQVMsR0FBUSxNQUFNLENBQUE7SUFFN0IsSUFBSSxDQUFDLFlBQVksQ0FBQyxNQUFNLEVBQUUsaUJBQWlCLENBQUMsRUFBRTtRQUM1QyxTQUFTLENBQUMsaUJBQWlCLENBQUMsR0FBRyxJQUFJLEdBQUcsRUFBRSxDQUFBO0tBQ3pDO0lBRUQsT0FBTyxTQUFTLENBQUMsaUJBQWlCLENBQUMsQ0FBQTtBQUNyQyxDQUFDO0FBRUQsS0FBSyxVQUFVLFdBQVcsQ0FBQyxNQUFjO0lBQ3ZDLElBQUksV0FBVyxHQUE4QixlQUFlLENBQUMsTUFBTSxDQUFDLENBQUE7SUFFcEUsSUFBSSxXQUFXLENBQUMsSUFBSSxLQUFLLENBQUM7UUFBRSxPQUFNO0lBRWxDLE1BQU0sTUFBTSxDQUFDLFFBQVEsQ0FBQyxLQUFLLENBQUMsSUFBSSxDQUFDLFdBQVcsQ0FBQyxNQUFNLEVBQUUsQ0FBQyxDQUFDLENBQUE7SUFFdkQsV0FBVyxDQUFDLE9BQU8sQ0FBQyxVQUFTLE9BQWUsRUFBRSxRQUFRO1FBQ3BELE1BQU0sQ0FBQyxRQUFRLENBQUMsR0FBRyxNQUFNLENBQUMsVUFBVSxDQUFDLE9BQU8sQ0FBQyxDQUFBO0lBQy9DLENBQUMsQ0FBQyxDQUFBO0FBQ0osQ0FBQztBQUVELE1BQU0sTUFBTyxTQUFRLE1BQU07SUFPekIsWUFBb0IsU0FBNkIsRUFBRSxHQUFjO1FBQy9ELEtBQUssQ0FBQyxHQUFHLENBQUMsQ0FBQTtRQURRLGNBQVMsR0FBVCxTQUFTLENBQW9CO1FBSmpELGVBQVUsR0FBMkIsRUFBRSxDQUFBO1FBRTdCLFlBQU8sR0FBRyxLQUFLLENBQUE7UUFLdkIsSUFBSSxTQUFTLENBQUMsT0FBTyxFQUFFO1lBQ3JCLFNBQVMsQ0FBQyxPQUFPLENBQUMsQ0FBQyxDQUFDLEVBQUU7Z0JBQ3BCLElBQUksQ0FBQyxJQUFJLENBQUMsT0FBTyxFQUFFLENBQUMsQ0FBQyxDQUFBO1lBQ3ZCLENBQUMsQ0FBQyxDQUFBO1NBQ0g7UUFFRCxJQUFJLFNBQVMsQ0FBQyxPQUFPLEVBQUU7WUFDckIsU0FBUyxDQUFDLE9BQU8sQ0FBQyxHQUFHLEVBQUU7Z0JBQ3JCLElBQUksQ0FBQyxJQUFJLENBQUMsaUJBQWlCLENBQUMsQ0FBQTtZQUM5QixDQUFDLENBQUMsQ0FBQTtTQUNIO1FBRUQsU0FBUyxDQUFDLFNBQVMsQ0FBQyxPQUFPLENBQUMsRUFBRTtZQUM1QixJQUFJLENBQUMsY0FBYyxDQUFDLE9BQU8sQ0FBQyxDQUFBO1FBQzlCLENBQUMsQ0FBQyxDQUFBO1FBRUYsSUFBSSxTQUFTLENBQUMsU0FBUyxFQUFFO1lBQ3ZCLFNBQVMsQ0FBQyxTQUFTLENBQUMsR0FBRyxFQUFFO2dCQUN2QixJQUFJLENBQUMsVUFBVSxFQUFFLENBQUE7WUFDbkIsQ0FBQyxDQUFDLENBQUE7U0FDSDthQUFNO1lBQ0wsSUFBSSxDQUFDLFVBQVUsRUFBRSxDQUFBO1NBQ2xCO0lBQ0gsQ0FBQztJQUVELFdBQVcsQ0FBQyxPQUFlO1FBQ3pCLElBQUksQ0FBQyxTQUFTLENBQUMsV0FBVyxDQUFDLE9BQU8sQ0FBQyxDQUFBO0lBQ3JDLENBQUM7SUFTRCxLQUFLLENBQUMsUUFBUSxDQUFDLE9BQWlCO1FBQzlCLE1BQU0sVUFBVSxHQUFHLE1BQU0sQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLFVBQVUsQ0FBQyxDQUFBO1FBRS9DLE1BQU0sYUFBYSxHQUFHLE9BQU8sQ0FBQyxNQUFNLENBQUMsVUFBUyxDQUFDO1lBQzdDLE9BQU8sQ0FBQyxVQUFVLENBQUMsUUFBUSxDQUFDLENBQUMsQ0FBQyxDQUFBO1FBQ2hDLENBQUMsQ0FBQyxDQUFBO1FBRUYsSUFBSSxhQUFhLENBQUMsTUFBTSxFQUFFO1lBQ3hCLE1BQU0sSUFBSSxDQUFDLElBQUksQ0FBQyx3QkFBd0IsRUFBRSxDQUFDLGFBQWEsQ0FBQyxDQUFDLENBQUE7WUFHMUQsYUFBYSxDQUFDLE9BQU8sQ0FBQyxLQUFLLEVBQUMsT0FBTyxFQUFDLEVBQUU7Z0JBQ3BDLElBQUksQ0FBQyxVQUFVLENBQUMsT0FBTyxDQUFDLEdBQUcsTUFBTSxDQUFDLElBQUksRUFBRSxPQUFPLENBQUMsQ0FBQTtZQUNsRCxDQUFDLENBQUMsQ0FBQTtTQUNIO1FBRUQsT0FBTyxJQUFJLENBQUMsVUFBVSxDQUFBO0lBQ3hCLENBQUM7SUFFUyxVQUFVO1FBQ2xCLE1BQU0sU0FBUyxHQUFHLFdBQVcsQ0FBQyxJQUFJLENBQUMsQ0FBQTtRQUVuQyxLQUFLLENBQUMsVUFBVSxFQUFFLENBQUE7UUFFbEIsU0FBUzthQUNOLElBQUksQ0FBQyxHQUFHLEVBQUU7WUFDVCxJQUFJLElBQUksQ0FBQyxlQUFlLElBQUksQ0FBQyxJQUFJLENBQUMsT0FBTyxFQUFFO2dCQUN6QyxJQUFJLENBQUMsT0FBTyxHQUFHLElBQUksQ0FBQTtnQkFDbkIsSUFBSTtvQkFDRixNQUFNLENBQUMsR0FBRyxJQUFJLENBQUMsZUFBZSxFQUFFLENBQUE7b0JBQ2hDLElBQUksQ0FBQyxJQUFJLGFBQWEsQ0FBQyxDQUFDLENBQUMsRUFBRTt3QkFDekIsQ0FBQyxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsT0FBTyxFQUFFLENBQUMsQ0FBQyxDQUFDLENBQUE7cUJBQ3BDO2lCQUNGO2dCQUFDLE9BQU8sQ0FBQyxFQUFFO29CQUNWLElBQUksQ0FBQyxJQUFJLENBQUMsT0FBTyxFQUFFLENBQUMsQ0FBQyxDQUFBO2lCQUN0QjthQUNGO1FBQ0gsQ0FBQyxDQUFDO2FBQ0QsS0FBSyxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxPQUFPLEVBQUUsQ0FBQyxDQUFDLENBQUMsQ0FBQTtJQUN0QyxDQUFDOztBQXBGTSxhQUFNLEdBQUcsTUFBTSxDQUFBO0FBdUZ4QixPQUFPLEVBQUUsTUFBTSxFQUFFLENBQUEiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBDbGllbnQgfSBmcm9tICcuLi9jb21tb24vanNvbi1ycGMvQ2xpZW50J1xuaW1wb3J0IHsgZ2V0QXBpIH0gZnJvbSAnLi4vY29tbW9uL2pzb24tcnBjL0FQSSdcbmltcG9ydCB7IElMb2dPcHRzLCBTY3JpcHRpbmdUcmFuc3BvcnQgfSBmcm9tICcuLi9jb21tb24vanNvbi1ycGMvdHlwZXMnXG5pbXBvcnQgeyBpc1Byb21pc2VMaWtlIH0gZnJvbSAnLi4vY29tbW9uL2NvcmUvaXNQcm9taXNlTGlrZSdcbmltcG9ydCB7IGhhc093blN5bWJvbCB9IGZyb20gJy4uL2NvbW1vbi9jb3JlL1N5bWJvbFNoaW0nXG5cbi8qKiB0aGlzIGlzIGRlZmluZWQgaW4gdGhlIGNvbnN0cnVjdG9yIFNjcmlwdGluZ0hvc3QoKSAqL1xuY29uc3QgbG9hZEFQSXNOb3RpZmljYXRpb25OYW1lID0gJ0xvYWRDb21wb25lbnRzJ1xuXG4vLyBJZiB0aGVyZSBpcyBubyBuYXRpdmUgU3ltYm9sXG4vLyBub3IgcG9seWZpbGwsIHRoZW4gYSBwbGFpbiBudW1iZXIgaXMgdXNlZCBmb3IgcGVyZm9ybWFuY2UuXG5cbi8vIHRzbGludDpkaXNhYmxlLW5leHQtbGluZVxuY29uc3QgaGFzU3ltYm9sID0gdHlwZW9mIFN5bWJvbCA9PT0gJ2Z1bmN0aW9uJyAmJiBTeW1ib2wuZm9yXG5cbmNvbnN0IGluamVjdGVkQVBJU3ltYm9sID0gaGFzU3ltYm9sID8gU3ltYm9sKCdpbmplY3RlZEFQSXMnKSA6IDB4ZmVhMFxuXG5pbnRlcmZhY2UgU2NyaXB0IHtcbiAgc3lzdGVtRGlkRW5hYmxlPygpOiBQcm9taXNlPHZvaWQ+IHwgdm9pZFxufVxuXG5leHBvcnQgdHlwZSBBUEkgPSBhbnlcblxuLyoqXG4gKiBUaGlzIGZ1bmN0aW9uIGRlY29yYXRlcyBwYXJhbWV0ZXJzIHRvIGxvYWQgQVBJc1xuICogQHBhcmFtIGFwaU5hbWUgbmFtZSBvZiB0aGUgQVBJIHRvIGxvYWRcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGluamVjdChhcGlOYW1lPzogc3RyaW5nKSB7XG4gIGlmIChhcGlOYW1lICE9PSB1bmRlZmluZWQgJiYgIWFwaU5hbWUpIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdBUEkgbmFtZSBjYW5ub3QgYmUgbnVsbCAvIGVtcHR5JylcbiAgfVxuICByZXR1cm4gZnVuY3Rpb248VCBleHRlbmRzIFNjcmlwdD4odGFyZ2V0OiBULCBwcm9wZXJ0eUtleToga2V5b2YgVCkge1xuICAgIGlmICh0eXBlb2YgcHJvcGVydHlLZXkgPT09ICdzdHJpbmcnKSB7XG4gICAgICBnZXRJbmplY3RhYmxlTWFwKHRhcmdldCkuc2V0KHByb3BlcnR5S2V5LCBhcGlOYW1lIHx8IHByb3BlcnR5S2V5KVxuICAgIH0gZWxzZSB0aHJvdyBuZXcgVHlwZUVycm9yKCdDYW5ub3QgaW5qZWN0IEFQSXMgd2l0aCBub24tc3RyaW5nIG5hbWVzJylcbiAgfVxufVxuXG4vKipcbiAqIEdldHMgYWxsIHRoZSBpbmplY3RlZCBBUElzIG9mIGEgc2NyaXB0XG4gKiBAcGFyYW0gaW5zdGFuY2UgQSBzY3JpcHQgdG8gZ2V0IHRoZSBBUElzXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRJbmplY3RlZEFQSXM8VCBleHRlbmRzIFNjcmlwdD4oaW5zdGFuY2U6IFQpOiBNYXA8a2V5b2YgVCwgc3RyaW5nPiB7XG4gIGNvbnN0IHJlc3VsdCA9IG5ldyBNYXA8a2V5b2YgVCwgc3RyaW5nPigpXG4gIGxldCBjdXJyZW50UHJvdG90eXBlID0gT2JqZWN0LmdldFByb3RvdHlwZU9mKGluc3RhbmNlKVxuXG4gIHdoaWxlICghIWN1cnJlbnRQcm90b3R5cGUpIHtcbiAgICBpZiAoaGFzT3duU3ltYm9sKGN1cnJlbnRQcm90b3R5cGUsIGluamVjdGVkQVBJU3ltYm9sKSkge1xuICAgICAgY29uc3QgY3VycmVudExpc3Q6IE1hcDxrZXlvZiBULCBzdHJpbmc+ID0gY3VycmVudFByb3RvdHlwZVtpbmplY3RlZEFQSVN5bWJvbF1cbiAgICAgIGN1cnJlbnRMaXN0LmZvckVhY2goKHYsIGspID0+IHJlc3VsdC5zZXQoaywgdikpXG4gICAgfVxuICAgIGN1cnJlbnRQcm90b3R5cGUgPSBPYmplY3QuZ2V0UHJvdG90eXBlT2YoY3VycmVudFByb3RvdHlwZSlcbiAgfVxuXG4gIHJldHVybiByZXN1bHRcbn1cblxuZnVuY3Rpb24gZ2V0SW5qZWN0YWJsZU1hcCh0YXJnZXQ6IFNjcmlwdCk6IE1hcDxhbnksIHN0cmluZz4ge1xuICBjb25zdCBhbnlUYXJnZXQ6IGFueSA9IHRhcmdldFxuXG4gIGlmICghaGFzT3duU3ltYm9sKHRhcmdldCwgaW5qZWN0ZWRBUElTeW1ib2wpKSB7XG4gICAgYW55VGFyZ2V0W2luamVjdGVkQVBJU3ltYm9sXSA9IG5ldyBNYXAoKVxuICB9XG5cbiAgcmV0dXJuIGFueVRhcmdldFtpbmplY3RlZEFQSVN5bWJvbF1cbn1cblxuYXN5bmMgZnVuY3Rpb24gX2luamVjdEFQSXModGFyZ2V0OiBTY3JpcHQpIHtcbiAgbGV0IGluamVjdGVkTWFwOiBNYXA8a2V5b2YgU2NyaXB0LCBzdHJpbmc+ID0gZ2V0SW5qZWN0ZWRBUElzKHRhcmdldClcblxuICBpZiAoaW5qZWN0ZWRNYXAuc2l6ZSA9PT0gMCkgcmV0dXJuXG5cbiAgYXdhaXQgdGFyZ2V0LmxvYWRBUElzKEFycmF5LmZyb20oaW5qZWN0ZWRNYXAudmFsdWVzKCkpKVxuXG4gIGluamVjdGVkTWFwLmZvckVhY2goZnVuY3Rpb24oYXBpTmFtZTogc3RyaW5nLCBwcm9wZXJ0eSkge1xuICAgIHRhcmdldFtwcm9wZXJ0eV0gPSB0YXJnZXQubG9hZGVkQVBJc1thcGlOYW1lXVxuICB9KVxufVxuXG5jbGFzcyBTY3JpcHQgZXh0ZW5kcyBDbGllbnQge1xuICBzdGF0aWMgaW5qZWN0ID0gaW5qZWN0XG5cbiAgbG9hZGVkQVBJczogeyBba2V5OiBzdHJpbmddOiBBUEkgfSA9IHt9XG5cbiAgcHJvdGVjdGVkIHN0YXJ0ZWQgPSBmYWxzZVxuXG4gIGNvbnN0cnVjdG9yKHByaXZhdGUgdHJhbnNwb3J0OiBTY3JpcHRpbmdUcmFuc3BvcnQsIG9wdD86IElMb2dPcHRzKSB7XG4gICAgc3VwZXIob3B0KVxuXG4gICAgaWYgKHRyYW5zcG9ydC5vbkVycm9yKSB7XG4gICAgICB0cmFuc3BvcnQub25FcnJvcihlID0+IHtcbiAgICAgICAgdGhpcy5lbWl0KCdlcnJvcicsIGUpXG4gICAgICB9KVxuICAgIH1cblxuICAgIGlmICh0cmFuc3BvcnQub25DbG9zZSkge1xuICAgICAgdHJhbnNwb3J0Lm9uQ2xvc2UoKCkgPT4ge1xuICAgICAgICB0aGlzLmVtaXQoJ3RyYW5zcG9ydENsb3NlZCcpXG4gICAgICB9KVxuICAgIH1cblxuICAgIHRyYW5zcG9ydC5vbk1lc3NhZ2UobWVzc2FnZSA9PiB7XG4gICAgICB0aGlzLnByb2Nlc3NNZXNzYWdlKG1lc3NhZ2UpXG4gICAgfSlcblxuICAgIGlmICh0cmFuc3BvcnQub25Db25uZWN0KSB7XG4gICAgICB0cmFuc3BvcnQub25Db25uZWN0KCgpID0+IHtcbiAgICAgICAgdGhpcy5kaWRDb25uZWN0KClcbiAgICAgIH0pXG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuZGlkQ29ubmVjdCgpXG4gICAgfVxuICB9XG5cbiAgc2VuZE1lc3NhZ2UobWVzc2FnZTogc3RyaW5nKSB7XG4gICAgdGhpcy50cmFuc3BvcnQuc2VuZE1lc3NhZ2UobWVzc2FnZSlcbiAgfVxuXG4gIC8qKlxuICAgKiBQcm92aWRlIGEgZ2xvYmFsIHBvaW50IG9mIGFjY2VzcyB0byBhIHNlcnZpY2Ugd2l0aG91dFxuICAgKiBjb3VwbGluZyB1c2VycyB0byB0aGUgY29uY3JldGUgY2xhc3MgdGhhdCBpbXBsZW1lbnRzIGl0LlxuICAgKlxuICAgKiBAcGFyYW0gYXBpTmFtZSBOYW1lIG9mIHRoZSBwbHVnaW4gd2UgYXJlIHRyeWluZyB0byBvYnRhaW5cbiAgICogQHJldHVybnMge29iamVjdH0gbG9hZGVkQVBJc1xuICAgKi9cbiAgYXN5bmMgbG9hZEFQSXMoYXBpTmFtZTogc3RyaW5nW10pOiBQcm9taXNlPHsgW2tleTogc3RyaW5nXTogYW55IH0+IHtcbiAgICBjb25zdCBsb2FkZWRLZXlzID0gT2JqZWN0LmtleXModGhpcy5sb2FkZWRBUElzKVxuXG4gICAgY29uc3Qga2V5c1RvUmVxdWVzdCA9IGFwaU5hbWUuZmlsdGVyKGZ1bmN0aW9uKCQpIHtcbiAgICAgIHJldHVybiAhbG9hZGVkS2V5cy5pbmNsdWRlcygkKVxuICAgIH0pXG5cbiAgICBpZiAoa2V5c1RvUmVxdWVzdC5sZW5ndGgpIHtcbiAgICAgIGF3YWl0IHRoaXMuY2FsbChsb2FkQVBJc05vdGlmaWNhdGlvbk5hbWUsIFtrZXlzVG9SZXF1ZXN0XSlcblxuICAgICAgLy8gTG9hZCAvIHJlcXVlc3QgdGhlIEFQSVxuICAgICAga2V5c1RvUmVxdWVzdC5mb3JFYWNoKGFzeW5jIGFwaU5hbWUgPT4ge1xuICAgICAgICB0aGlzLmxvYWRlZEFQSXNbYXBpTmFtZV0gPSBnZXRBcGkodGhpcywgYXBpTmFtZSlcbiAgICAgIH0pXG4gICAgfVxuXG4gICAgcmV0dXJuIHRoaXMubG9hZGVkQVBJc1xuICB9XG5cbiAgcHJvdGVjdGVkIGRpZENvbm5lY3QoKSB7XG4gICAgY29uc3QgaW5qZWN0aW9uID0gX2luamVjdEFQSXModGhpcylcblxuICAgIHN1cGVyLmRpZENvbm5lY3QoKVxuXG4gICAgaW5qZWN0aW9uXG4gICAgICAudGhlbigoKSA9PiB7XG4gICAgICAgIGlmICh0aGlzLnN5c3RlbURpZEVuYWJsZSAmJiAhdGhpcy5zdGFydGVkKSB7XG4gICAgICAgICAgdGhpcy5zdGFydGVkID0gdHJ1ZVxuICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICBjb25zdCByID0gdGhpcy5zeXN0ZW1EaWRFbmFibGUoKVxuICAgICAgICAgICAgaWYgKHIgJiYgaXNQcm9taXNlTGlrZShyKSkge1xuICAgICAgICAgICAgICByLmNhdGNoKGUgPT4gdGhpcy5lbWl0KCdlcnJvcicsIGUpKVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgIHRoaXMuZW1pdCgnZXJyb3InLCBlKVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSlcbiAgICAgIC5jYXRjaChlID0+IHRoaXMuZW1pdCgnZXJyb3InLCBlKSlcbiAgfVxufVxuXG5leHBvcnQgeyBTY3JpcHQgfVxuIl19\n\n//# sourceURL=webpack:///./node_modules/decentraland-rpc/lib/client/Script.js?");

/***/ }),

/***/ "./node_modules/decentraland-rpc/lib/client/index.js":
/*!***********************************************************!*\
  !*** ./node_modules/decentraland-rpc/lib/client/index.js ***!
  \***********************************************************/
/*! exports provided: WebWorkerTransport, WebSocketTransport, MemoryTransport, inject, getInjectedAPIs, Script, EventSubscriber */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _Script__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Script */ \"./node_modules/decentraland-rpc/lib/client/Script.js\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"inject\", function() { return _Script__WEBPACK_IMPORTED_MODULE_0__[\"inject\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"getInjectedAPIs\", function() { return _Script__WEBPACK_IMPORTED_MODULE_0__[\"getInjectedAPIs\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"Script\", function() { return _Script__WEBPACK_IMPORTED_MODULE_0__[\"Script\"]; });\n\n/* harmony import */ var _EventSubscriber__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./EventSubscriber */ \"./node_modules/decentraland-rpc/lib/client/EventSubscriber.js\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"EventSubscriber\", function() { return _EventSubscriber__WEBPACK_IMPORTED_MODULE_1__[\"EventSubscriber\"]; });\n\n/* harmony import */ var _common_transports_WebWorker__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../common/transports/WebWorker */ \"./node_modules/decentraland-rpc/lib/common/transports/WebWorker.js\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"WebWorkerTransport\", function() { return _common_transports_WebWorker__WEBPACK_IMPORTED_MODULE_2__[\"WebWorkerTransport\"]; });\n\n/* harmony import */ var _common_transports_WebSocket__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../common/transports/WebSocket */ \"./node_modules/decentraland-rpc/lib/common/transports/WebSocket.js\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"WebSocketTransport\", function() { return _common_transports_WebSocket__WEBPACK_IMPORTED_MODULE_3__[\"WebSocketTransport\"]; });\n\n/* harmony import */ var _common_transports_Memory__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../common/transports/Memory */ \"./node_modules/decentraland-rpc/lib/common/transports/Memory.js\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"MemoryTransport\", function() { return _common_transports_Memory__WEBPACK_IMPORTED_MODULE_4__[\"MemoryTransport\"]; });\n\n\n\n\n\n\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW5kZXguanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi9zcmMvY2xpZW50L2luZGV4LnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUVBLGNBQWMsVUFBVSxDQUFBO0FBQ3hCLGNBQWMsbUJBQW1CLENBQUE7QUFFakMsT0FBTyxFQUFFLGtCQUFrQixFQUFFLE1BQU0sZ0NBQWdDLENBQUE7QUFDbkUsT0FBTyxFQUFFLGtCQUFrQixFQUFFLE1BQU0sZ0NBQWdDLENBQUE7QUFDbkUsT0FBTyxFQUFFLGVBQWUsRUFBRSxNQUFNLDZCQUE2QixDQUFBIiwic291cmNlc0NvbnRlbnQiOlsiLy8gRXhwb3J0c1xuXG5leHBvcnQgKiBmcm9tICcuL1NjcmlwdCdcbmV4cG9ydCAqIGZyb20gJy4vRXZlbnRTdWJzY3JpYmVyJ1xuXG5leHBvcnQgeyBXZWJXb3JrZXJUcmFuc3BvcnQgfSBmcm9tICcuLi9jb21tb24vdHJhbnNwb3J0cy9XZWJXb3JrZXInXG5leHBvcnQgeyBXZWJTb2NrZXRUcmFuc3BvcnQgfSBmcm9tICcuLi9jb21tb24vdHJhbnNwb3J0cy9XZWJTb2NrZXQnXG5leHBvcnQgeyBNZW1vcnlUcmFuc3BvcnQgfSBmcm9tICcuLi9jb21tb24vdHJhbnNwb3J0cy9NZW1vcnknXG4iXX0=\n\n//# sourceURL=webpack:///./node_modules/decentraland-rpc/lib/client/index.js?");

/***/ }),

/***/ "./node_modules/decentraland-rpc/lib/common/core/EventDispatcher.js":
/*!**************************************************************************!*\
  !*** ./node_modules/decentraland-rpc/lib/common/core/EventDispatcher.js ***!
  \**************************************************************************/
/*! exports provided: EventDispatcherBinding, EventDispatcher */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"EventDispatcherBinding\", function() { return EventDispatcherBinding; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"EventDispatcher\", function() { return EventDispatcher; });\nconst eventSplitter = /\\s+/g;\nclass EventDispatcherBinding {\n    constructor(id, cb, event, sharedList, object) {\n        this.id = id;\n        this.cb = cb;\n        this.event = event;\n        this.sharedList = sharedList;\n        this.object = object;\n        this.enabled = true;\n    }\n    off() {\n        if (this.object) {\n            this.cb && this.object.off(this);\n            this.cb = null;\n            this.object = null;\n            if (this.sharedList) {\n                delete this.sharedList;\n            }\n        }\n    }\n    enable() {\n        if (this.sharedList) {\n            for (let i = 0; i < this.sharedList.length; i++) {\n                this.sharedList[i].enabled = true;\n            }\n        }\n        else\n            this.enabled = true;\n    }\n    disable() {\n        if (this.sharedList) {\n            for (let i = 0; i < this.sharedList.length; i++) {\n                this.sharedList[i].enabled = false;\n            }\n        }\n        else {\n            this.enabled = false;\n        }\n    }\n}\nfunction turnOffCallback(f) {\n    delete f.cb;\n}\nclass EventDispatcher {\n    constructor() {\n        this.edBindings = {};\n        this.edBindCount = 0;\n    }\n    on(event, callback, once) {\n        this.edBindCount++;\n        let events = event.split(eventSplitter);\n        let bindList = [];\n        let latest = null;\n        for (let evt of events) {\n            let tmp = new EventDispatcherBinding(this.edBindCount, null, evt, bindList, this);\n            bindList && bindList.push(tmp);\n            if (once) {\n                tmp.cb = function () {\n                    callback.apply(this, arguments);\n                    tmp.cb = null;\n                }.bind(this);\n            }\n            else {\n                tmp.cb = callback.bind(this);\n            }\n            this.edBindings[evt] = this.edBindings[evt] || [];\n            this.edBindings[evt].push(tmp);\n            latest = tmp;\n        }\n        return latest;\n    }\n    once(event, callback) {\n        return this.on(event, callback, true);\n    }\n    off(arg0, arg1) {\n        if (arguments.length === 0) {\n            for (let i in this.edBindings) {\n                for (let e in this.edBindings[i]) {\n                    delete this.edBindings[i][e].cb;\n                }\n                this.edBindings[i].length = 0;\n            }\n        }\n        else if (arg0 instanceof EventDispatcherBinding) {\n            arg0.cb = null;\n            arg0.sharedList && arg0.sharedList.length && arg0.sharedList.forEach(turnOffCallback);\n        }\n        else if (typeof arg0 === 'string') {\n            if (typeof arg1 === 'function') {\n                for (let i in this.edBindings[arg0]) {\n                    if (this.edBindings[arg0][i].cb === arg1) {\n                        this.edBindings[arg0][i].cb = null;\n                    }\n                }\n            }\n            else if (typeof arg0 === 'string') {\n                this.edBindings[arg0] = [];\n            }\n        }\n        else if (typeof arg0 === 'function') {\n            for (let evt in this.edBindings) {\n                for (let i in this.edBindings[evt]) {\n                    if (this.edBindings[evt][i].cb === arg0) {\n                        this.edBindings[evt][i].cb = null;\n                    }\n                }\n            }\n        }\n    }\n    emit(event) {\n        if (event in this.edBindings) {\n            if (arguments.length === 1) {\n                for (let i = 0; i < this.edBindings[event].length; i++) {\n                    let e = this.edBindings[event][i];\n                    e && e.cb && e.enabled && e.cb();\n                }\n            }\n            else if (arguments.length === 2) {\n                for (let i = 0; i < this.edBindings[event].length; i++) {\n                    let e = this.edBindings[event][i];\n                    e && e.cb && e.enabled && e.cb(arguments[1]);\n                }\n            }\n            else if (arguments.length === 3) {\n                for (let i = 0; i < this.edBindings[event].length; i++) {\n                    let e = this.edBindings[event][i];\n                    e && e.cb && e.enabled && e.cb(arguments[1], arguments[2]);\n                }\n            }\n            else if (arguments.length === 4) {\n                for (let i = 0; i < this.edBindings[event].length; i++) {\n                    let e = this.edBindings[event][i];\n                    e && e.cb && e.enabled && e.cb(arguments[1], arguments[2], arguments[3]);\n                }\n            }\n            else if (arguments.length === 5) {\n                for (let i = 0; i < this.edBindings[event].length; i++) {\n                    let e = this.edBindings[event][i];\n                    e && e.cb && e.enabled && e.cb(arguments[1], arguments[2], arguments[3], arguments[4]);\n                }\n            }\n            else if (arguments.length > 4) {\n                let args = Array.prototype.slice.call(arguments, 1);\n                for (let i = 0; i < this.edBindings[event].length; i++) {\n                    let e = this.edBindings[event][i];\n                    e && e.cb && e.enabled && e.cb.apply(this, args);\n                }\n            }\n        }\n        else if (event === 'error') {\n            const firstArgument = arguments[1];\n            let error = null;\n            if (firstArgument instanceof Error) {\n                error = firstArgument;\n            }\n            else {\n                error = Object.assign(new Error('EventDispatcher: Unhandled \"error\" event'), { data: arguments });\n            }\n            console.error(error);\n            console.trace(arguments);\n            throw error;\n        }\n    }\n    getEventBindings(event) {\n        return (this.edBindings[event] || []).filter($ => $ && $.enabled);\n    }\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiRXZlbnREaXNwYXRjaGVyLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vc3JjL2NvbW1vbi9jb3JlL0V2ZW50RGlzcGF0Y2hlci50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFJQSxNQUFNLGFBQWEsR0FBRyxNQUFNLENBQUE7QUFFNUIsTUFBTSxPQUFPLHNCQUFzQjtJQUVqQyxZQUNTLEVBQVUsRUFDVixFQUFtQixFQUNuQixLQUFhLEVBQ2IsVUFBb0MsRUFDcEMsTUFBbUM7UUFKbkMsT0FBRSxHQUFGLEVBQUUsQ0FBUTtRQUNWLE9BQUUsR0FBRixFQUFFLENBQWlCO1FBQ25CLFVBQUssR0FBTCxLQUFLLENBQVE7UUFDYixlQUFVLEdBQVYsVUFBVSxDQUEwQjtRQUNwQyxXQUFNLEdBQU4sTUFBTSxDQUE2QjtRQU41QyxZQUFPLEdBQVksSUFBSSxDQUFBO0lBT3BCLENBQUM7SUFFSixHQUFHO1FBQ0QsSUFBSSxJQUFJLENBQUMsTUFBTSxFQUFFO1lBQ2YsSUFBSSxDQUFDLEVBQUUsSUFBSSxJQUFJLENBQUMsTUFBTSxDQUFDLEdBQUcsQ0FBQyxJQUFJLENBQUMsQ0FBQTtZQUNoQyxJQUFJLENBQUMsRUFBRSxHQUFHLElBQUksQ0FBQTtZQUNkLElBQUksQ0FBQyxNQUFNLEdBQUcsSUFBSSxDQUFBO1lBQ2xCLElBQUksSUFBSSxDQUFDLFVBQVUsRUFBRTtnQkFDbkIsT0FBTyxJQUFJLENBQUMsVUFBVSxDQUFBO2FBQ3ZCO1NBQ0Y7SUFDSCxDQUFDO0lBRUQsTUFBTTtRQUNKLElBQUksSUFBSSxDQUFDLFVBQVUsRUFBRTtZQUNuQixLQUFLLElBQUksQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLEdBQUcsSUFBSSxDQUFDLFVBQVUsQ0FBQyxNQUFNLEVBQUUsQ0FBQyxFQUFFLEVBQUU7Z0JBQy9DLElBQUksQ0FBQyxVQUFVLENBQUMsQ0FBQyxDQUFDLENBQUMsT0FBTyxHQUFHLElBQUksQ0FBQTthQUNsQztTQUNGOztZQUFNLElBQUksQ0FBQyxPQUFPLEdBQUcsSUFBSSxDQUFBO0lBQzVCLENBQUM7SUFFRCxPQUFPO1FBQ0wsSUFBSSxJQUFJLENBQUMsVUFBVSxFQUFFO1lBQ25CLEtBQUssSUFBSSxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUMsR0FBRyxJQUFJLENBQUMsVUFBVSxDQUFDLE1BQU0sRUFBRSxDQUFDLEVBQUUsRUFBRTtnQkFDL0MsSUFBSSxDQUFDLFVBQVUsQ0FBQyxDQUFDLENBQUMsQ0FBQyxPQUFPLEdBQUcsS0FBSyxDQUFBO2FBQ25DO1NBQ0Y7YUFBTTtZQUNMLElBQUksQ0FBQyxPQUFPLEdBQUcsS0FBSyxDQUFBO1NBQ3JCO0lBQ0gsQ0FBQztDQUNGO0FBRUQsU0FBUyxlQUFlLENBQUMsQ0FBeUI7SUFDaEQsT0FBTyxDQUFDLENBQUMsRUFBRSxDQUFBO0FBQ2IsQ0FBQztBQU1ELE1BQU0sT0FBTyxlQUFlO0lBQTVCO1FBQ1UsZUFBVSxHQUF5QyxFQUFFLENBQUE7UUFDckQsZ0JBQVcsR0FBRyxDQUFDLENBQUE7SUFzSXpCLENBQUM7SUFsSUMsRUFBRSxDQUFDLEtBQWEsRUFBRSxRQUFhLEVBQUUsSUFBYztRQUM3QyxJQUFJLENBQUMsV0FBVyxFQUFFLENBQUE7UUFFbEIsSUFBSSxNQUFNLEdBQUcsS0FBSyxDQUFDLEtBQUssQ0FBQyxhQUFhLENBQUMsQ0FBQTtRQUV2QyxJQUFJLFFBQVEsR0FBNkIsRUFBRSxDQUFBO1FBQzNDLElBQUksTUFBTSxHQUFrQyxJQUFJLENBQUE7UUFFaEQsS0FBSyxJQUFJLEdBQUcsSUFBSSxNQUFNLEVBQUU7WUFDdEIsSUFBSSxHQUFHLEdBQUcsSUFBSSxzQkFBc0IsQ0FBQyxJQUFJLENBQUMsV0FBVyxFQUFFLElBQUksRUFBRSxHQUFHLEVBQUUsUUFBUSxFQUFFLElBQUksQ0FBQyxDQUFBO1lBRWpGLFFBQVEsSUFBSSxRQUFRLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxDQUFBO1lBRTlCLElBQUksSUFBSSxFQUFFO2dCQUNSLEdBQUcsQ0FBQyxFQUFFLEdBQUc7b0JBQ1AsUUFBUSxDQUFDLEtBQUssQ0FBQyxJQUFJLEVBQUUsU0FBUyxDQUFDLENBQUE7b0JBQy9CLEdBQUcsQ0FBQyxFQUFFLEdBQUcsSUFBSSxDQUFBO2dCQUNmLENBQUMsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUE7YUFDYjtpQkFBTTtnQkFDTCxHQUFHLENBQUMsRUFBRSxHQUFHLFFBQVEsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUE7YUFDN0I7WUFFRCxJQUFJLENBQUMsVUFBVSxDQUFDLEdBQUcsQ0FBQyxHQUFHLElBQUksQ0FBQyxVQUFVLENBQUMsR0FBRyxDQUFDLElBQUksRUFBRSxDQUFBO1lBQ2pELElBQUksQ0FBQyxVQUFVLENBQUMsR0FBRyxDQUFDLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxDQUFBO1lBRTlCLE1BQU0sR0FBRyxHQUFHLENBQUE7U0FDYjtRQUVELE9BQU8sTUFBZ0MsQ0FBQTtJQUN6QyxDQUFDO0lBSUQsSUFBSSxDQUFDLEtBQWEsRUFBRSxRQUFhO1FBQy9CLE9BQU8sSUFBSSxDQUFDLEVBQUUsQ0FBQyxLQUFLLEVBQUUsUUFBUSxFQUFFLElBQUksQ0FBQyxDQUFBO0lBQ3ZDLENBQUM7SUFLRCxHQUFHLENBQUMsSUFBaUQsRUFBRSxJQUFlO1FBQ3BFLElBQUksU0FBUyxDQUFDLE1BQU0sS0FBSyxDQUFDLEVBQUU7WUFDMUIsS0FBSyxJQUFJLENBQUMsSUFBSSxJQUFJLENBQUMsVUFBVSxFQUFFO2dCQUM3QixLQUFLLElBQUksQ0FBQyxJQUFJLElBQUksQ0FBQyxVQUFVLENBQUMsQ0FBQyxDQUFDLEVBQUU7b0JBQ2hDLE9BQU8sSUFBSSxDQUFDLFVBQVUsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUE7aUJBQ2hDO2dCQUNELElBQUksQ0FBQyxVQUFVLENBQUMsQ0FBQyxDQUFDLENBQUMsTUFBTSxHQUFHLENBQUMsQ0FBQTthQUM5QjtTQUNGO2FBQU0sSUFBSSxJQUFJLFlBQVksc0JBQXNCLEVBQUU7WUFDakQsSUFBSSxDQUFDLEVBQUUsR0FBRyxJQUFJLENBQUE7WUFDZCxJQUFJLENBQUMsVUFBVSxJQUFJLElBQUksQ0FBQyxVQUFVLENBQUMsTUFBTSxJQUFJLElBQUksQ0FBQyxVQUFVLENBQUMsT0FBTyxDQUFDLGVBQWUsQ0FBQyxDQUFBO1NBQ3RGO2FBQU0sSUFBSSxPQUFPLElBQUksS0FBSyxRQUFRLEVBQUU7WUFDbkMsSUFBSSxPQUFPLElBQUksS0FBSyxVQUFVLEVBQUU7Z0JBQzlCLEtBQUssSUFBSSxDQUFDLElBQUksSUFBSSxDQUFDLFVBQVUsQ0FBQyxJQUFJLENBQUMsRUFBRTtvQkFDbkMsSUFBSSxJQUFJLENBQUMsVUFBVSxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLEVBQUUsS0FBSyxJQUFJLEVBQUU7d0JBQ3hDLElBQUksQ0FBQyxVQUFVLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsRUFBRSxHQUFHLElBQUksQ0FBQTtxQkFDbkM7aUJBQ0Y7YUFDRjtpQkFBTSxJQUFJLE9BQVEsSUFBWSxLQUFLLFFBQVEsRUFBRTtnQkFDNUMsSUFBSSxDQUFDLFVBQVUsQ0FBQyxJQUFJLENBQUMsR0FBRyxFQUFFLENBQUE7YUFDM0I7U0FDRjthQUFNLElBQUksT0FBTyxJQUFJLEtBQUssVUFBVSxFQUFFO1lBQ3JDLEtBQUssSUFBSSxHQUFHLElBQUksSUFBSSxDQUFDLFVBQVUsRUFBRTtnQkFDL0IsS0FBSyxJQUFJLENBQUMsSUFBSSxJQUFJLENBQUMsVUFBVSxDQUFDLEdBQUcsQ0FBQyxFQUFFO29CQUNsQyxJQUFJLElBQUksQ0FBQyxVQUFVLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsRUFBRSxLQUFLLElBQUksRUFBRTt3QkFDdkMsSUFBSSxDQUFDLFVBQVUsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxFQUFFLEdBQUcsSUFBSSxDQUFBO3FCQUNsQztpQkFDRjthQUNGO1NBQ0Y7SUFDSCxDQUFDO0lBS0QsSUFBSSxDQUFDLEtBQWE7UUFDaEIsSUFBSSxLQUFLLElBQUksSUFBSSxDQUFDLFVBQVUsRUFBRTtZQUM1QixJQUFJLFNBQVMsQ0FBQyxNQUFNLEtBQUssQ0FBQyxFQUFFO2dCQUMxQixLQUFLLElBQUksQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLEdBQUcsSUFBSSxDQUFDLFVBQVUsQ0FBQyxLQUFLLENBQUMsQ0FBQyxNQUFNLEVBQUUsQ0FBQyxFQUFFLEVBQUU7b0JBQ3RELElBQUksQ0FBQyxHQUFHLElBQUksQ0FBQyxVQUFVLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUE7b0JBQ2pDLENBQUMsSUFBSSxDQUFDLENBQUMsRUFBRSxJQUFJLENBQUMsQ0FBQyxPQUFPLElBQUksQ0FBQyxDQUFDLEVBQUUsRUFBRSxDQUFBO2lCQUNqQzthQUNGO2lCQUFNLElBQUksU0FBUyxDQUFDLE1BQU0sS0FBSyxDQUFDLEVBQUU7Z0JBQ2pDLEtBQUssSUFBSSxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUMsR0FBRyxJQUFJLENBQUMsVUFBVSxDQUFDLEtBQUssQ0FBQyxDQUFDLE1BQU0sRUFBRSxDQUFDLEVBQUUsRUFBRTtvQkFDdEQsSUFBSSxDQUFDLEdBQUcsSUFBSSxDQUFDLFVBQVUsQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQTtvQkFDakMsQ0FBQyxJQUFJLENBQUMsQ0FBQyxFQUFFLElBQUksQ0FBQyxDQUFDLE9BQU8sSUFBSSxDQUFDLENBQUMsRUFBRSxDQUFDLFNBQVMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFBO2lCQUM3QzthQUNGO2lCQUFNLElBQUksU0FBUyxDQUFDLE1BQU0sS0FBSyxDQUFDLEVBQUU7Z0JBQ2pDLEtBQUssSUFBSSxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUMsR0FBRyxJQUFJLENBQUMsVUFBVSxDQUFDLEtBQUssQ0FBQyxDQUFDLE1BQU0sRUFBRSxDQUFDLEVBQUUsRUFBRTtvQkFDdEQsSUFBSSxDQUFDLEdBQUcsSUFBSSxDQUFDLFVBQVUsQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQTtvQkFDakMsQ0FBQyxJQUFJLENBQUMsQ0FBQyxFQUFFLElBQUksQ0FBQyxDQUFDLE9BQU8sSUFBSSxDQUFDLENBQUMsRUFBRSxDQUFDLFNBQVMsQ0FBQyxDQUFDLENBQUMsRUFBRSxTQUFTLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQTtpQkFDM0Q7YUFDRjtpQkFBTSxJQUFJLFNBQVMsQ0FBQyxNQUFNLEtBQUssQ0FBQyxFQUFFO2dCQUNqQyxLQUFLLElBQUksQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLEdBQUcsSUFBSSxDQUFDLFVBQVUsQ0FBQyxLQUFLLENBQUMsQ0FBQyxNQUFNLEVBQUUsQ0FBQyxFQUFFLEVBQUU7b0JBQ3RELElBQUksQ0FBQyxHQUFHLElBQUksQ0FBQyxVQUFVLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUE7b0JBQ2pDLENBQUMsSUFBSSxDQUFDLENBQUMsRUFBRSxJQUFJLENBQUMsQ0FBQyxPQUFPLElBQUksQ0FBQyxDQUFDLEVBQUUsQ0FBQyxTQUFTLENBQUMsQ0FBQyxDQUFDLEVBQUUsU0FBUyxDQUFDLENBQUMsQ0FBQyxFQUFFLFNBQVMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFBO2lCQUN6RTthQUNGO2lCQUFNLElBQUksU0FBUyxDQUFDLE1BQU0sS0FBSyxDQUFDLEVBQUU7Z0JBQ2pDLEtBQUssSUFBSSxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUMsR0FBRyxJQUFJLENBQUMsVUFBVSxDQUFDLEtBQUssQ0FBQyxDQUFDLE1BQU0sRUFBRSxDQUFDLEVBQUUsRUFBRTtvQkFDdEQsSUFBSSxDQUFDLEdBQUcsSUFBSSxDQUFDLFVBQVUsQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQTtvQkFDakMsQ0FBQyxJQUFJLENBQUMsQ0FBQyxFQUFFLElBQUksQ0FBQyxDQUFDLE9BQU8sSUFBSSxDQUFDLENBQUMsRUFBRSxDQUFDLFNBQVMsQ0FBQyxDQUFDLENBQUMsRUFBRSxTQUFTLENBQUMsQ0FBQyxDQUFDLEVBQUUsU0FBUyxDQUFDLENBQUMsQ0FBQyxFQUFFLFNBQVMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFBO2lCQUN2RjthQUNGO2lCQUFNLElBQUksU0FBUyxDQUFDLE1BQU0sR0FBRyxDQUFDLEVBQUU7Z0JBQy9CLElBQUksSUFBSSxHQUFHLEtBQUssQ0FBQyxTQUFTLENBQUMsS0FBSyxDQUFDLElBQUksQ0FBQyxTQUFTLEVBQUUsQ0FBQyxDQUFDLENBQUE7Z0JBRW5ELEtBQUssSUFBSSxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUMsR0FBRyxJQUFJLENBQUMsVUFBVSxDQUFDLEtBQUssQ0FBQyxDQUFDLE1BQU0sRUFBRSxDQUFDLEVBQUUsRUFBRTtvQkFDdEQsSUFBSSxDQUFDLEdBQUcsSUFBSSxDQUFDLFVBQVUsQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQTtvQkFDakMsQ0FBQyxJQUFJLENBQUMsQ0FBQyxFQUFFLElBQUksQ0FBQyxDQUFDLE9BQU8sSUFBSSxDQUFDLENBQUMsRUFBRSxDQUFDLEtBQUssQ0FBQyxJQUFJLEVBQUUsSUFBSSxDQUFDLENBQUE7aUJBQ2pEO2FBQ0Y7U0FDRjthQUFNLElBQUksS0FBSyxLQUFLLE9BQU8sRUFBRTtZQUM1QixNQUFNLGFBQWEsR0FBUSxTQUFTLENBQUMsQ0FBQyxDQUFDLENBQUE7WUFDdkMsSUFBSSxLQUFLLEdBQWlCLElBQUksQ0FBQTtZQUU5QixJQUFJLGFBQWEsWUFBWSxLQUFLLEVBQUU7Z0JBQ2xDLEtBQUssR0FBRyxhQUFhLENBQUE7YUFDdEI7aUJBQU07Z0JBQ0wsS0FBSyxHQUFHLE1BQU0sQ0FBQyxNQUFNLENBQUMsSUFBSSxLQUFLLENBQUMsMENBQTBDLENBQUMsRUFBRSxFQUFFLElBQUksRUFBRSxTQUFTLEVBQUUsQ0FBQyxDQUFBO2FBQ2xHO1lBRUQsT0FBTyxDQUFDLEtBQUssQ0FBQyxLQUFLLENBQUMsQ0FBQTtZQUNwQixPQUFPLENBQUMsS0FBSyxDQUFDLFNBQVMsQ0FBQyxDQUFBO1lBRXhCLE1BQU0sS0FBSyxDQUFBO1NBQ1o7SUFDSCxDQUFDO0lBRVMsZ0JBQWdCLENBQUMsS0FBYTtRQUN0QyxPQUFPLENBQUMsSUFBSSxDQUFDLFVBQVUsQ0FBQyxLQUFLLENBQUMsSUFBSSxFQUFFLENBQUMsQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLElBQUksQ0FBQyxDQUFDLE9BQU8sQ0FBQyxDQUFBO0lBQ25FLENBQUM7Q0FDRiIsInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBpbnRlcmZhY2UgRGljdGlvbmFyeTxUID0gYW55PiB7XG4gIFtrZXk6IHN0cmluZ106IFRcbn1cblxuY29uc3QgZXZlbnRTcGxpdHRlciA9IC9cXHMrL2dcblxuZXhwb3J0IGNsYXNzIEV2ZW50RGlzcGF0Y2hlckJpbmRpbmcge1xuICBlbmFibGVkOiBib29sZWFuID0gdHJ1ZVxuICBjb25zdHJ1Y3RvcihcbiAgICBwdWJsaWMgaWQ6IG51bWJlcixcbiAgICBwdWJsaWMgY2I6IEZ1bmN0aW9uIHwgbnVsbCxcbiAgICBwdWJsaWMgZXZlbnQ6IHN0cmluZyxcbiAgICBwdWJsaWMgc2hhcmVkTGlzdDogRXZlbnREaXNwYXRjaGVyQmluZGluZ1tdLFxuICAgIHB1YmxpYyBvYmplY3Q6IEV2ZW50RGlzcGF0Y2hlcjxhbnk+IHwgbnVsbFxuICApIHt9XG5cbiAgb2ZmKCkge1xuICAgIGlmICh0aGlzLm9iamVjdCkge1xuICAgICAgdGhpcy5jYiAmJiB0aGlzLm9iamVjdC5vZmYodGhpcylcbiAgICAgIHRoaXMuY2IgPSBudWxsXG4gICAgICB0aGlzLm9iamVjdCA9IG51bGxcbiAgICAgIGlmICh0aGlzLnNoYXJlZExpc3QpIHtcbiAgICAgICAgZGVsZXRlIHRoaXMuc2hhcmVkTGlzdFxuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIGVuYWJsZSgpIHtcbiAgICBpZiAodGhpcy5zaGFyZWRMaXN0KSB7XG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuc2hhcmVkTGlzdC5sZW5ndGg7IGkrKykge1xuICAgICAgICB0aGlzLnNoYXJlZExpc3RbaV0uZW5hYmxlZCA9IHRydWVcbiAgICAgIH1cbiAgICB9IGVsc2UgdGhpcy5lbmFibGVkID0gdHJ1ZVxuICB9XG5cbiAgZGlzYWJsZSgpIHtcbiAgICBpZiAodGhpcy5zaGFyZWRMaXN0KSB7XG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuc2hhcmVkTGlzdC5sZW5ndGg7IGkrKykge1xuICAgICAgICB0aGlzLnNoYXJlZExpc3RbaV0uZW5hYmxlZCA9IGZhbHNlXG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuZW5hYmxlZCA9IGZhbHNlXG4gICAgfVxuICB9XG59XG5cbmZ1bmN0aW9uIHR1cm5PZmZDYWxsYmFjayhmOiBFdmVudERpc3BhdGNoZXJCaW5kaW5nKSB7XG4gIGRlbGV0ZSBmLmNiXG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgRXZlbnREaXNwYXRjaGVyRXZlbnRzQmFzZSB7XG4gIFtrZXk6IHN0cmluZ106IEZ1bmN0aW9uXG59XG5cbmV4cG9ydCBjbGFzcyBFdmVudERpc3BhdGNoZXI8VCA9IEV2ZW50RGlzcGF0Y2hlckV2ZW50c0Jhc2U+IHtcbiAgcHJpdmF0ZSBlZEJpbmRpbmdzOiBEaWN0aW9uYXJ5PEV2ZW50RGlzcGF0Y2hlckJpbmRpbmdbXT4gPSB7fVxuICBwcml2YXRlIGVkQmluZENvdW50ID0gMFxuXG4gIG9uPEsgZXh0ZW5kcyBrZXlvZiBUPihldmVudDogSywgY2FsbGJhY2s6IFRbS10sIG9uY2U/OiBib29sZWFuKTogRXZlbnREaXNwYXRjaGVyQmluZGluZ1xuICBvbihldmVudDogc3RyaW5nLCBjYWxsYmFjazogKC4uLmFyZ3M6IGFueVtdKSA9PiB2b2lkLCBvbmNlPzogYm9vbGVhbik6IEV2ZW50RGlzcGF0Y2hlckJpbmRpbmdcbiAgb24oZXZlbnQ6IHN0cmluZywgY2FsbGJhY2s6IGFueSwgb25jZT86IGJvb2xlYW4pOiBFdmVudERpc3BhdGNoZXJCaW5kaW5nIHtcbiAgICB0aGlzLmVkQmluZENvdW50KytcblxuICAgIGxldCBldmVudHMgPSBldmVudC5zcGxpdChldmVudFNwbGl0dGVyKVxuXG4gICAgbGV0IGJpbmRMaXN0OiBFdmVudERpc3BhdGNoZXJCaW5kaW5nW10gPSBbXVxuICAgIGxldCBsYXRlc3Q6IEV2ZW50RGlzcGF0Y2hlckJpbmRpbmcgfCBudWxsID0gbnVsbFxuXG4gICAgZm9yIChsZXQgZXZ0IG9mIGV2ZW50cykge1xuICAgICAgbGV0IHRtcCA9IG5ldyBFdmVudERpc3BhdGNoZXJCaW5kaW5nKHRoaXMuZWRCaW5kQ291bnQsIG51bGwsIGV2dCwgYmluZExpc3QsIHRoaXMpXG5cbiAgICAgIGJpbmRMaXN0ICYmIGJpbmRMaXN0LnB1c2godG1wKVxuXG4gICAgICBpZiAob25jZSkge1xuICAgICAgICB0bXAuY2IgPSBmdW5jdGlvbih0aGlzOiBFdmVudERpc3BhdGNoZXI8VD4pIHtcbiAgICAgICAgICBjYWxsYmFjay5hcHBseSh0aGlzLCBhcmd1bWVudHMpXG4gICAgICAgICAgdG1wLmNiID0gbnVsbFxuICAgICAgICB9LmJpbmQodGhpcylcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRtcC5jYiA9IGNhbGxiYWNrLmJpbmQodGhpcylcbiAgICAgIH1cblxuICAgICAgdGhpcy5lZEJpbmRpbmdzW2V2dF0gPSB0aGlzLmVkQmluZGluZ3NbZXZ0XSB8fCBbXVxuICAgICAgdGhpcy5lZEJpbmRpbmdzW2V2dF0ucHVzaCh0bXApXG5cbiAgICAgIGxhdGVzdCA9IHRtcFxuICAgIH1cblxuICAgIHJldHVybiBsYXRlc3QgYXMgRXZlbnREaXNwYXRjaGVyQmluZGluZ1xuICB9XG5cbiAgb25jZTxLIGV4dGVuZHMga2V5b2YgVD4oZXZlbnQ6IEssIGNhbGxiYWNrOiBUW0tdKTogRXZlbnREaXNwYXRjaGVyQmluZGluZ1xuICBvbmNlKGV2ZW50OiBzdHJpbmcsIGNhbGxiYWNrOiBGdW5jdGlvbik6IEV2ZW50RGlzcGF0Y2hlckJpbmRpbmdcbiAgb25jZShldmVudDogc3RyaW5nLCBjYWxsYmFjazogYW55KSB7XG4gICAgcmV0dXJuIHRoaXMub24oZXZlbnQsIGNhbGxiYWNrLCB0cnVlKVxuICB9XG5cbiAgb2ZmKGJpbmRpbmc6IEV2ZW50RGlzcGF0Y2hlckJpbmRpbmcpOiB2b2lkXG4gIG9mZihldmVudE5hbWU6IHN0cmluZywgYm91bmRDYWxsYmFjaz86IEZ1bmN0aW9uKTogdm9pZFxuICBvZmYoYm91bmRDYWxsYmFjazogRnVuY3Rpb24pOiB2b2lkXG4gIG9mZihhcmcwPzogc3RyaW5nIHwgRnVuY3Rpb24gfCBFdmVudERpc3BhdGNoZXJCaW5kaW5nLCBhcmcxPzogRnVuY3Rpb24pOiB2b2lkIHtcbiAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgZm9yIChsZXQgaSBpbiB0aGlzLmVkQmluZGluZ3MpIHtcbiAgICAgICAgZm9yIChsZXQgZSBpbiB0aGlzLmVkQmluZGluZ3NbaV0pIHtcbiAgICAgICAgICBkZWxldGUgdGhpcy5lZEJpbmRpbmdzW2ldW2VdLmNiXG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5lZEJpbmRpbmdzW2ldLmxlbmd0aCA9IDBcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKGFyZzAgaW5zdGFuY2VvZiBFdmVudERpc3BhdGNoZXJCaW5kaW5nKSB7XG4gICAgICBhcmcwLmNiID0gbnVsbFxuICAgICAgYXJnMC5zaGFyZWRMaXN0ICYmIGFyZzAuc2hhcmVkTGlzdC5sZW5ndGggJiYgYXJnMC5zaGFyZWRMaXN0LmZvckVhY2godHVybk9mZkNhbGxiYWNrKVxuICAgIH0gZWxzZSBpZiAodHlwZW9mIGFyZzAgPT09ICdzdHJpbmcnKSB7XG4gICAgICBpZiAodHlwZW9mIGFyZzEgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgZm9yIChsZXQgaSBpbiB0aGlzLmVkQmluZGluZ3NbYXJnMF0pIHtcbiAgICAgICAgICBpZiAodGhpcy5lZEJpbmRpbmdzW2FyZzBdW2ldLmNiID09PSBhcmcxKSB7XG4gICAgICAgICAgICB0aGlzLmVkQmluZGluZ3NbYXJnMF1baV0uY2IgPSBudWxsXG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKHR5cGVvZiAoYXJnMCBhcyBhbnkpID09PSAnc3RyaW5nJykge1xuICAgICAgICB0aGlzLmVkQmluZGluZ3NbYXJnMF0gPSBbXVxuICAgICAgfVxuICAgIH0gZWxzZSBpZiAodHlwZW9mIGFyZzAgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgIGZvciAobGV0IGV2dCBpbiB0aGlzLmVkQmluZGluZ3MpIHtcbiAgICAgICAgZm9yIChsZXQgaSBpbiB0aGlzLmVkQmluZGluZ3NbZXZ0XSkge1xuICAgICAgICAgIGlmICh0aGlzLmVkQmluZGluZ3NbZXZ0XVtpXS5jYiA9PT0gYXJnMCkge1xuICAgICAgICAgICAgdGhpcy5lZEJpbmRpbmdzW2V2dF1baV0uY2IgPSBudWxsXG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgZW1pdChldmVudDogJ2Vycm9yJywgZXJyb3I6IGFueSk6IHZvaWRcbiAgZW1pdDxLIGV4dGVuZHMga2V5b2YgVD4oZXZlbnQ6IEssIC4uLnBhcmFtczogYW55W10pOiB2b2lkXG4gIGVtaXQoZXZlbnQ6IHN0cmluZywgLi4ucGFyYW1zOiBhbnlbXSk6IHZvaWRcbiAgZW1pdChldmVudDogc3RyaW5nKSB7XG4gICAgaWYgKGV2ZW50IGluIHRoaXMuZWRCaW5kaW5ncykge1xuICAgICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPT09IDEpIHtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLmVkQmluZGluZ3NbZXZlbnRdLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgbGV0IGUgPSB0aGlzLmVkQmluZGluZ3NbZXZlbnRdW2ldXG4gICAgICAgICAgZSAmJiBlLmNiICYmIGUuZW5hYmxlZCAmJiBlLmNiKClcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIGlmIChhcmd1bWVudHMubGVuZ3RoID09PSAyKSB7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5lZEJpbmRpbmdzW2V2ZW50XS5sZW5ndGg7IGkrKykge1xuICAgICAgICAgIGxldCBlID0gdGhpcy5lZEJpbmRpbmdzW2V2ZW50XVtpXVxuICAgICAgICAgIGUgJiYgZS5jYiAmJiBlLmVuYWJsZWQgJiYgZS5jYihhcmd1bWVudHNbMV0pXG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAoYXJndW1lbnRzLmxlbmd0aCA9PT0gMykge1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuZWRCaW5kaW5nc1tldmVudF0ubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICBsZXQgZSA9IHRoaXMuZWRCaW5kaW5nc1tldmVudF1baV1cbiAgICAgICAgICBlICYmIGUuY2IgJiYgZS5lbmFibGVkICYmIGUuY2IoYXJndW1lbnRzWzFdLCBhcmd1bWVudHNbMl0pXG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAoYXJndW1lbnRzLmxlbmd0aCA9PT0gNCkge1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuZWRCaW5kaW5nc1tldmVudF0ubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICBsZXQgZSA9IHRoaXMuZWRCaW5kaW5nc1tldmVudF1baV1cbiAgICAgICAgICBlICYmIGUuY2IgJiYgZS5lbmFibGVkICYmIGUuY2IoYXJndW1lbnRzWzFdLCBhcmd1bWVudHNbMl0sIGFyZ3VtZW50c1szXSlcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIGlmIChhcmd1bWVudHMubGVuZ3RoID09PSA1KSB7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5lZEJpbmRpbmdzW2V2ZW50XS5sZW5ndGg7IGkrKykge1xuICAgICAgICAgIGxldCBlID0gdGhpcy5lZEJpbmRpbmdzW2V2ZW50XVtpXVxuICAgICAgICAgIGUgJiYgZS5jYiAmJiBlLmVuYWJsZWQgJiYgZS5jYihhcmd1bWVudHNbMV0sIGFyZ3VtZW50c1syXSwgYXJndW1lbnRzWzNdLCBhcmd1bWVudHNbNF0pXG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAoYXJndW1lbnRzLmxlbmd0aCA+IDQpIHtcbiAgICAgICAgbGV0IGFyZ3MgPSBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMsIDEpXG5cbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLmVkQmluZGluZ3NbZXZlbnRdLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgbGV0IGUgPSB0aGlzLmVkQmluZGluZ3NbZXZlbnRdW2ldXG4gICAgICAgICAgZSAmJiBlLmNiICYmIGUuZW5hYmxlZCAmJiBlLmNiLmFwcGx5KHRoaXMsIGFyZ3MpXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKGV2ZW50ID09PSAnZXJyb3InKSB7XG4gICAgICBjb25zdCBmaXJzdEFyZ3VtZW50OiBhbnkgPSBhcmd1bWVudHNbMV1cbiAgICAgIGxldCBlcnJvcjogRXJyb3IgfCBudWxsID0gbnVsbFxuXG4gICAgICBpZiAoZmlyc3RBcmd1bWVudCBpbnN0YW5jZW9mIEVycm9yKSB7XG4gICAgICAgIGVycm9yID0gZmlyc3RBcmd1bWVudFxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZXJyb3IgPSBPYmplY3QuYXNzaWduKG5ldyBFcnJvcignRXZlbnREaXNwYXRjaGVyOiBVbmhhbmRsZWQgXCJlcnJvclwiIGV2ZW50JyksIHsgZGF0YTogYXJndW1lbnRzIH0pXG4gICAgICB9XG5cbiAgICAgIGNvbnNvbGUuZXJyb3IoZXJyb3IpXG4gICAgICBjb25zb2xlLnRyYWNlKGFyZ3VtZW50cylcblxuICAgICAgdGhyb3cgZXJyb3JcbiAgICB9XG4gIH1cblxuICBwcm90ZWN0ZWQgZ2V0RXZlbnRCaW5kaW5ncyhldmVudDogc3RyaW5nKSB7XG4gICAgcmV0dXJuICh0aGlzLmVkQmluZGluZ3NbZXZlbnRdIHx8IFtdKS5maWx0ZXIoJCA9PiAkICYmICQuZW5hYmxlZClcbiAgfVxufVxuIl19\n\n//# sourceURL=webpack:///./node_modules/decentraland-rpc/lib/common/core/EventDispatcher.js?");

/***/ }),

/***/ "./node_modules/decentraland-rpc/lib/common/core/SymbolShim.js":
/*!*********************************************************************!*\
  !*** ./node_modules/decentraland-rpc/lib/common/core/SymbolShim.js ***!
  \*********************************************************************/
/*! exports provided: hasOwnSymbol */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"hasOwnSymbol\", function() { return hasOwnSymbol; });\nconst hasSymbol = typeof Symbol === 'function' && Symbol.for;\nfunction hasOwnSymbol(object, symbol) {\n    return hasSymbol\n        ? Object.getOwnPropertySymbols(object).includes(symbol)\n        : Object.getOwnPropertyNames(object).includes(symbol);\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiU3ltYm9sU2hpbS5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uL3NyYy9jb21tb24vY29yZS9TeW1ib2xTaGltLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE1BQU0sU0FBUyxHQUFHLE9BQU8sTUFBTSxLQUFLLFVBQVUsSUFBSSxNQUFNLENBQUMsR0FBRyxDQUFBO0FBRTVELE1BQU0sVUFBVSxZQUFZLENBQUMsTUFBVyxFQUFFLE1BQVc7SUFDbkQsT0FBTyxTQUFTO1FBQ2QsQ0FBQyxDQUFDLE1BQU0sQ0FBQyxxQkFBcUIsQ0FBQyxNQUFNLENBQUMsQ0FBQyxRQUFRLENBQUMsTUFBTSxDQUFDO1FBQ3ZELENBQUMsQ0FBQyxNQUFNLENBQUMsbUJBQW1CLENBQUMsTUFBTSxDQUFDLENBQUMsUUFBUSxDQUFDLE1BQU0sQ0FBQyxDQUFBO0FBQ3pELENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBoYXNTeW1ib2wgPSB0eXBlb2YgU3ltYm9sID09PSAnZnVuY3Rpb24nICYmIFN5bWJvbC5mb3JcblxuZXhwb3J0IGZ1bmN0aW9uIGhhc093blN5bWJvbChvYmplY3Q6IGFueSwgc3ltYm9sOiBhbnkpIHtcbiAgcmV0dXJuIGhhc1N5bWJvbFxuICAgID8gT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhvYmplY3QpLmluY2x1ZGVzKHN5bWJvbClcbiAgICA6IE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKG9iamVjdCkuaW5jbHVkZXMoc3ltYm9sKVxufVxuIl19\n\n//# sourceURL=webpack:///./node_modules/decentraland-rpc/lib/common/core/SymbolShim.js?");

/***/ }),

/***/ "./node_modules/decentraland-rpc/lib/common/core/isPromiseLike.js":
/*!************************************************************************!*\
  !*** ./node_modules/decentraland-rpc/lib/common/core/isPromiseLike.js ***!
  \************************************************************************/
/*! exports provided: isPromiseLike */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"isPromiseLike\", function() { return isPromiseLike; });\nfunction isPromiseLike(thing) {\n    return (thing &&\n        typeof thing === 'object' &&\n        typeof thing['then'] === 'function' &&\n        typeof thing['catch'] === 'function');\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaXNQcm9taXNlTGlrZS5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uL3NyYy9jb21tb24vY29yZS9pc1Byb21pc2VMaWtlLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUdBLE1BQU0sVUFBVSxhQUFhLENBQUMsS0FBVTtJQUN0QyxPQUFPLENBQ0wsS0FBSztRQUVMLE9BQU8sS0FBSyxLQUFLLFFBQVE7UUFFekIsT0FBTyxLQUFLLENBQUMsTUFBTSxDQUFDLEtBQUssVUFBVTtRQUVuQyxPQUFPLEtBQUssQ0FBQyxPQUFPLENBQUMsS0FBSyxVQUFVLENBQ3JDLENBQUE7QUFDSCxDQUFDIiwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGZ1bmN0aW9uIGlzUHJvbWlzZUxpa2UodGhpbmc6IFByb21pc2U8YW55Pik6IHRydWVcbmV4cG9ydCBmdW5jdGlvbiBpc1Byb21pc2VMaWtlKHRoaW5nOiB2b2lkKTogZmFsc2VcbmV4cG9ydCBmdW5jdGlvbiBpc1Byb21pc2VMaWtlKHRoaW5nOiBhbnkpOiBmYWxzZVxuZXhwb3J0IGZ1bmN0aW9uIGlzUHJvbWlzZUxpa2UodGhpbmc6IGFueSk6IGJvb2xlYW4ge1xuICByZXR1cm4gKFxuICAgIHRoaW5nICYmXG4gICAgLy8gaXQgaXMgYW4gb2JqZWN0XG4gICAgdHlwZW9mIHRoaW5nID09PSAnb2JqZWN0JyAmJlxuICAgIC8vIGl0IGhhcyB0aGVuXG4gICAgdHlwZW9mIHRoaW5nWyd0aGVuJ10gPT09ICdmdW5jdGlvbicgJiZcbiAgICAvLyBpdCBoYXMgY2F0Y2hcbiAgICB0eXBlb2YgdGhpbmdbJ2NhdGNoJ10gPT09ICdmdW5jdGlvbidcbiAgKVxufVxuIl19\n\n//# sourceURL=webpack:///./node_modules/decentraland-rpc/lib/common/core/isPromiseLike.js?");

/***/ }),

/***/ "./node_modules/decentraland-rpc/lib/common/json-rpc/API.js":
/*!******************************************************************!*\
  !*** ./node_modules/decentraland-rpc/lib/common/json-rpc/API.js ***!
  \******************************************************************/
/*! exports provided: getApi */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getApi\", function() { return getApi; });\nconst blacklistedMethods = ['then', 'catch'];\nfunction getApi(rpcClient, _prefix = '') {\n    if (!Proxy) {\n        throw new Error('getApi() requires ES6 Proxy. Please use an ES6 compatible engine');\n    }\n    const prefix = _prefix === '' ? '' : `${_prefix}.`;\n    return new Proxy({}, {\n        get: (target, prop) => {\n            if (target[prop]) {\n                return target[prop];\n            }\n            if (prop === '__proto__' || prop === 'prototype') {\n                return Object.prototype;\n            }\n            else if (prop.substr(0, 2) === 'on' && prop.length > 3) {\n                const method = prop.substr(2);\n                target[prop] = (handler) => rpcClient.on(`${prefix}${method}`, (params) => {\n                    try {\n                        if (params && params instanceof Array) {\n                            handler.apply(null, params);\n                        }\n                        else {\n                            handler.call(null, params);\n                        }\n                    }\n                    catch (e) {\n                        rpcClient.emit('error', e);\n                    }\n                });\n            }\n            else if (prop.substr(0, 4) === 'emit' && prop.length > 5) {\n                const method = prop.substr(4);\n                target[prop] = (...args) => rpcClient.notify(`${prefix}${method}`, args);\n            }\n            else if (blacklistedMethods.indexOf(prop) !== -1) {\n                return undefined;\n            }\n            else {\n                const method = prop;\n                target[prop] = (...args) => rpcClient.call(`${prefix}${method}`, args);\n            }\n            return target[prop];\n        }\n    });\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiQVBJLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vc3JjL2NvbW1vbi9qc29uLXJwYy9BUEkudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBRUEsTUFBTSxrQkFBa0IsR0FBRyxDQUFDLE1BQU0sRUFBRSxPQUFPLENBQUMsQ0FBQTtBQVU1QyxNQUFNLFVBQVUsTUFBTSxDQUF5QixTQUFpQixFQUFFLFVBQWtCLEVBQUU7SUFDcEYsSUFBSSxDQUFDLEtBQUssRUFBRTtRQUNWLE1BQU0sSUFBSSxLQUFLLENBQUMsa0VBQWtFLENBQUMsQ0FBQTtLQUNwRjtJQUVELE1BQU0sTUFBTSxHQUFHLE9BQU8sS0FBSyxFQUFFLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUMsR0FBRyxPQUFPLEdBQUcsQ0FBQTtJQUVsRCxPQUFPLElBQUksS0FBSyxDQUFDLEVBQU8sRUFBRTtRQUN4QixHQUFHLEVBQUUsQ0FBQyxNQUFXLEVBQUUsSUFBWSxFQUFFLEVBQUU7WUFDakMsSUFBSSxNQUFNLENBQUMsSUFBSSxDQUFDLEVBQUU7Z0JBQ2hCLE9BQU8sTUFBTSxDQUFDLElBQUksQ0FBQyxDQUFBO2FBQ3BCO1lBRUQsSUFBSSxJQUFJLEtBQUssV0FBVyxJQUFJLElBQUksS0FBSyxXQUFXLEVBQUU7Z0JBQ2hELE9BQU8sTUFBTSxDQUFDLFNBQVMsQ0FBQTthQUN4QjtpQkFBTSxJQUFJLElBQUksQ0FBQyxNQUFNLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxLQUFLLElBQUksSUFBSSxJQUFJLENBQUMsTUFBTSxHQUFHLENBQUMsRUFBRTtnQkFDeEQsTUFBTSxNQUFNLEdBQUcsSUFBSSxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUMsQ0FBQTtnQkFDN0IsTUFBTSxDQUFDLElBQUksQ0FBQyxHQUFHLENBQUMsT0FBaUIsRUFBRSxFQUFFLENBQ25DLFNBQVMsQ0FBQyxFQUFFLENBQUMsR0FBRyxNQUFNLEdBQUcsTUFBTSxFQUFFLEVBQUUsQ0FBQyxNQUFXLEVBQUUsRUFBRTtvQkFDakQsSUFBSTt3QkFDRixJQUFJLE1BQU0sSUFBSSxNQUFNLFlBQVksS0FBSyxFQUFFOzRCQUNyQyxPQUFPLENBQUMsS0FBSyxDQUFDLElBQUksRUFBRSxNQUFNLENBQUMsQ0FBQTt5QkFDNUI7NkJBQU07NEJBQ0wsT0FBTyxDQUFDLElBQUksQ0FBQyxJQUFJLEVBQUUsTUFBTSxDQUFDLENBQUE7eUJBQzNCO3FCQUNGO29CQUFDLE9BQU8sQ0FBQyxFQUFFO3dCQUNWLFNBQVMsQ0FBQyxJQUFJLENBQUMsT0FBTyxFQUFFLENBQUMsQ0FBQyxDQUFBO3FCQUMzQjtnQkFDSCxDQUFDLENBQUMsQ0FBQTthQUNMO2lCQUFNLElBQUksSUFBSSxDQUFDLE1BQU0sQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLEtBQUssTUFBTSxJQUFJLElBQUksQ0FBQyxNQUFNLEdBQUcsQ0FBQyxFQUFFO2dCQUMxRCxNQUFNLE1BQU0sR0FBRyxJQUFJLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQyxDQUFBO2dCQUM3QixNQUFNLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxHQUFHLElBQVcsRUFBRSxFQUFFLENBQUMsU0FBUyxDQUFDLE1BQU0sQ0FBQyxHQUFHLE1BQU0sR0FBRyxNQUFNLEVBQUUsRUFBRSxJQUFJLENBQUMsQ0FBQTthQUNoRjtpQkFBTSxJQUFJLGtCQUFrQixDQUFDLE9BQU8sQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLENBQUMsRUFBRTtnQkFDbEQsT0FBTyxTQUFTLENBQUE7YUFDakI7aUJBQU07Z0JBQ0wsTUFBTSxNQUFNLEdBQUcsSUFBSSxDQUFBO2dCQUNuQixNQUFNLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxHQUFHLElBQVcsRUFBRSxFQUFFLENBQUMsU0FBUyxDQUFDLElBQUksQ0FBQyxHQUFHLE1BQU0sR0FBRyxNQUFNLEVBQUUsRUFBRSxJQUFJLENBQUMsQ0FBQTthQUM5RTtZQUVELE9BQU8sTUFBTSxDQUFDLElBQUksQ0FBQyxDQUFBO1FBQ3JCLENBQUM7S0FDRixDQUFDLENBQUE7QUFDSixDQUFDIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQ2xpZW50IH0gZnJvbSAnLi9DbGllbnQnXG5cbmNvbnN0IGJsYWNrbGlzdGVkTWV0aG9kcyA9IFsndGhlbicsICdjYXRjaCddXG5cbi8qKlxuICogQnVpbGRzIGFuIEVTNiBQcm94eSB3aGVyZSBhcGkuZG9tYWluLm1ldGhvZChwYXJhbXMpIHRyYW5zYXRlcyBpbnRvIGNsaWVudC5zZW5kKCd7ZG9tYWlufS57bWV0aG9kfScsIHBhcmFtcykgY2FsbHNcbiAqIGFwaS5kb21haW4ub257bWV0aG9kfSB3aWxsIGFkZCBldmVudCBoYW5kbGVycyBmb3Ige21ldGhvZH0gZXZlbnRzXG4gKiBhcGkuZG9tYWluLmVtaXR7bWV0aG9kfSB3aWxsIHNlbmQge21ldGhvZH0gbm90aWZpY2F0aW9ucyB0byB0aGUgc2VydmVyXG4gKiBUaGUgYXBpIG9iamVjdCBsZWFkcyBpdHNlbGYgdG8gYSB2ZXJ5IGNsZWFuIGludGVyZmFjZSBpLmUgYGF3YWl0IGFwaS5Eb21haW4uZnVuYyhwYXJhbXMpYCBjYWxsc1xuICogVGhpcyBhbGxvd3MgdGhlIGNvbnN1bWVyIHRvIGFic3RyYWN0IGFsbCB0aGUgaW50ZXJuYWwgZGV0YWlscyBvZiBtYXJzaGFsbGluZyB0aGUgbWVzc2FnZSBmcm9tIGZ1bmN0aW9uIGNhbGwgdG8gYSBzdHJpbmdcbiAqIENhbGxpbmcgY2xpZW50LmFwaSgnJykgd2lsbCByZXR1cm4gYW4gdW5wcmVmaXhlZCBjbGllbnQuIGUuZyBhcGkuaGVsbG8oKSBpcyBlcXVpdmFsaWVudCB0byBjbGllbnQuc2VuZCgnaGVsbG8nKVxuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0QXBpPFQgZXh0ZW5kcyBvYmplY3QgPSBhbnk+KHJwY0NsaWVudDogQ2xpZW50LCBfcHJlZml4OiBzdHJpbmcgPSAnJyk6IFQge1xuICBpZiAoIVByb3h5KSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdnZXRBcGkoKSByZXF1aXJlcyBFUzYgUHJveHkuIFBsZWFzZSB1c2UgYW4gRVM2IGNvbXBhdGlibGUgZW5naW5lJylcbiAgfVxuXG4gIGNvbnN0IHByZWZpeCA9IF9wcmVmaXggPT09ICcnID8gJycgOiBgJHtfcHJlZml4fS5gXG5cbiAgcmV0dXJuIG5ldyBQcm94eSh7fSBhcyBULCB7XG4gICAgZ2V0OiAodGFyZ2V0OiBhbnksIHByb3A6IHN0cmluZykgPT4ge1xuICAgICAgaWYgKHRhcmdldFtwcm9wXSkge1xuICAgICAgICByZXR1cm4gdGFyZ2V0W3Byb3BdXG4gICAgICB9XG4gICAgICAvLyBTcGVjaWFsIGhhbmRsaW5nIGZvciBwcm90b3R5cGUgc28gY29uc29sZSBpbnRlbGxpc2Vuc2Ugd29ya3Mgb24gb2JqZWN0c1xuICAgICAgaWYgKHByb3AgPT09ICdfX3Byb3RvX18nIHx8IHByb3AgPT09ICdwcm90b3R5cGUnKSB7XG4gICAgICAgIHJldHVybiBPYmplY3QucHJvdG90eXBlXG4gICAgICB9IGVsc2UgaWYgKHByb3Auc3Vic3RyKDAsIDIpID09PSAnb24nICYmIHByb3AubGVuZ3RoID4gMykge1xuICAgICAgICBjb25zdCBtZXRob2QgPSBwcm9wLnN1YnN0cigyKVxuICAgICAgICB0YXJnZXRbcHJvcF0gPSAoaGFuZGxlcjogRnVuY3Rpb24pID0+XG4gICAgICAgICAgcnBjQ2xpZW50Lm9uKGAke3ByZWZpeH0ke21ldGhvZH1gLCAocGFyYW1zOiBhbnkpID0+IHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgIGlmIChwYXJhbXMgJiYgcGFyYW1zIGluc3RhbmNlb2YgQXJyYXkpIHtcbiAgICAgICAgICAgICAgICBoYW5kbGVyLmFwcGx5KG51bGwsIHBhcmFtcylcbiAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBoYW5kbGVyLmNhbGwobnVsbCwgcGFyYW1zKVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgIHJwY0NsaWVudC5lbWl0KCdlcnJvcicsIGUpXG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSlcbiAgICAgIH0gZWxzZSBpZiAocHJvcC5zdWJzdHIoMCwgNCkgPT09ICdlbWl0JyAmJiBwcm9wLmxlbmd0aCA+IDUpIHtcbiAgICAgICAgY29uc3QgbWV0aG9kID0gcHJvcC5zdWJzdHIoNClcbiAgICAgICAgdGFyZ2V0W3Byb3BdID0gKC4uLmFyZ3M6IGFueVtdKSA9PiBycGNDbGllbnQubm90aWZ5KGAke3ByZWZpeH0ke21ldGhvZH1gLCBhcmdzKVxuICAgICAgfSBlbHNlIGlmIChibGFja2xpc3RlZE1ldGhvZHMuaW5kZXhPZihwcm9wKSAhPT0gLTEpIHtcbiAgICAgICAgcmV0dXJuIHVuZGVmaW5lZFxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY29uc3QgbWV0aG9kID0gcHJvcFxuICAgICAgICB0YXJnZXRbcHJvcF0gPSAoLi4uYXJnczogYW55W10pID0+IHJwY0NsaWVudC5jYWxsKGAke3ByZWZpeH0ke21ldGhvZH1gLCBhcmdzKVxuICAgICAgfVxuXG4gICAgICByZXR1cm4gdGFyZ2V0W3Byb3BdXG4gICAgfVxuICB9KVxufVxuIl19\n\n//# sourceURL=webpack:///./node_modules/decentraland-rpc/lib/common/json-rpc/API.js?");

/***/ }),

/***/ "./node_modules/decentraland-rpc/lib/common/json-rpc/Client.js":
/*!*********************************************************************!*\
  !*** ./node_modules/decentraland-rpc/lib/common/json-rpc/Client.js ***!
  \*********************************************************************/
/*! exports provided: Client */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"Client\", function() { return Client; });\n/* harmony import */ var _core_EventDispatcher__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../core/EventDispatcher */ \"./node_modules/decentraland-rpc/lib/common/core/EventDispatcher.js\");\n\nclass Client extends _core_EventDispatcher__WEBPACK_IMPORTED_MODULE_0__[\"EventDispatcher\"] {\n    constructor(opts) {\n        super();\n        this._responsePromiseMap = new Map();\n        this._nextMessageId = 0;\n        this._consoleLog = false;\n        this._requestQueue = [];\n        this._connected = false;\n        this.setLogging(opts);\n    }\n    processMessage(messageStr) {\n        let message;\n        if (typeof messageStr === 'string') {\n            this._logMessage(messageStr, 'receive');\n            try {\n                message = JSON.parse(messageStr);\n            }\n            catch (e) {\n                return this.emit('error', e);\n            }\n        }\n        else {\n            message = messageStr;\n        }\n        if (!message) {\n            this.emit('error', new Error(`Message cannot be null, empty or undefined`));\n        }\n        else if (message.id) {\n            if (this._responsePromiseMap.has(message.id)) {\n                const promise = this._responsePromiseMap.get(message.id);\n                this._responsePromiseMap.delete(message.id);\n                if ('result' in message) {\n                    promise.resolve(message.result);\n                }\n                else if ('error' in message) {\n                    const error = Object.assign(new Error('Remote error'), message.error, (message.error && message.error.data) || {});\n                    promise.reject(error);\n                }\n                else {\n                    promise.reject(Object.assign(new Error(`Response must have result or error: ${messageStr}`), {\n                        code: -32700\n                    }));\n                }\n            }\n            else {\n                this.emit('error', new Error(`Response with id:${message.id} has no pending request`));\n            }\n        }\n        else if (message.method) {\n            this.emit(message.method, message.params);\n        }\n        else {\n            this.emit('error', new Error(`Invalid message: ${messageStr}`));\n        }\n    }\n    setLogging({ logConsole } = {}) {\n        this._consoleLog = !!logConsole;\n    }\n    call(method, params) {\n        if (typeof params !== 'undefined' && typeof params !== 'object') {\n            throw new Error(`Client#call Params must be structured data (Array | Object) got ${JSON.stringify(params)}`);\n        }\n        const id = ++this._nextMessageId;\n        const message = { id, method, params, jsonrpc: '2.0' };\n        return new Promise((resolve, reject) => {\n            try {\n                this._responsePromiseMap.set(id, { resolve, reject });\n                this._send(message);\n            }\n            catch (error) {\n                return reject(error);\n            }\n        });\n    }\n    notify(method, params) {\n        if (typeof params !== 'undefined' && typeof params !== 'object') {\n            throw new Error(`Client#notify Params must be structured data (Array | Object) got ${JSON.stringify(params)}`);\n        }\n        this._send({ method, params, jsonrpc: '2.0' });\n    }\n    didConnect() {\n        if (this._connected === false) {\n            this._connected = true;\n            this._sendQueuedRequests();\n        }\n    }\n    _send(message) {\n        this._requestQueue.push(JSON.stringify(message));\n        this._sendQueuedRequests();\n    }\n    _sendQueuedRequests() {\n        if (this._connected) {\n            const queue = this._requestQueue.splice(0, this._requestQueue.length);\n            for (let messageStr of queue) {\n                this._logMessage(messageStr, 'send');\n                this.sendMessage(messageStr);\n            }\n        }\n    }\n    _logMessage(message, direction) {\n        if (this._consoleLog) {\n            console.log(`Client ${direction === 'send' ? '>' : '<'}`, message.toString());\n        }\n    }\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiQ2xpZW50LmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vc3JjL2NvbW1vbi9qc29uLXJwYy9DbGllbnQudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsT0FBTyxFQUFFLGVBQWUsRUFBRSxNQUFNLHlCQUF5QixDQUFBO0FBT3pELE1BQU0sT0FBZ0IsTUFBTyxTQUFRLGVBQWU7SUFPbEQsWUFBWSxJQUEyQjtRQUNyQyxLQUFLLEVBQUUsQ0FBQTtRQVBELHdCQUFtQixHQUFxQyxJQUFJLEdBQUcsRUFBRSxDQUFBO1FBQ2pFLG1CQUFjLEdBQVcsQ0FBQyxDQUFBO1FBQzFCLGdCQUFXLEdBQVksS0FBSyxDQUFBO1FBQzVCLGtCQUFhLEdBQWEsRUFBRSxDQUFBO1FBQzVCLGVBQVUsR0FBRyxLQUFLLENBQUE7UUFJeEIsSUFBSSxDQUFDLFVBQVUsQ0FBQyxJQUFJLENBQUMsQ0FBQTtJQUN2QixDQUFDO0lBSU0sY0FBYyxDQUFDLFVBQWtFO1FBQ3RGLElBQUksT0FBb0QsQ0FBQTtRQUV4RCxJQUFJLE9BQU8sVUFBVSxLQUFLLFFBQVEsRUFBRTtZQUNsQyxJQUFJLENBQUMsV0FBVyxDQUFDLFVBQVUsRUFBRSxTQUFTLENBQUMsQ0FBQTtZQUd2QyxJQUFJO2dCQUNGLE9BQU8sR0FBRyxJQUFJLENBQUMsS0FBSyxDQUFDLFVBQVUsQ0FBQyxDQUFBO2FBQ2pDO1lBQUMsT0FBTyxDQUFDLEVBQUU7Z0JBQ1YsT0FBTyxJQUFJLENBQUMsSUFBSSxDQUFDLE9BQU8sRUFBRSxDQUFDLENBQUMsQ0FBQTthQUM3QjtTQUNGO2FBQU07WUFDTCxPQUFPLEdBQUcsVUFBVSxDQUFBO1NBQ3JCO1FBR0QsSUFBSSxDQUFDLE9BQU8sRUFBRTtZQUNaLElBQUksQ0FBQyxJQUFJLENBQUMsT0FBTyxFQUFFLElBQUksS0FBSyxDQUFDLDRDQUE0QyxDQUFDLENBQUMsQ0FBQTtTQUM1RTthQUFNLElBQUksT0FBTyxDQUFDLEVBQUUsRUFBRTtZQUNyQixJQUFJLElBQUksQ0FBQyxtQkFBbUIsQ0FBQyxHQUFHLENBQUMsT0FBTyxDQUFDLEVBQUUsQ0FBQyxFQUFFO2dCQUU1QyxNQUFNLE9BQU8sR0FBRyxJQUFJLENBQUMsbUJBQW1CLENBQUMsR0FBRyxDQUFDLE9BQU8sQ0FBQyxFQUFFLENBQXdCLENBQUE7Z0JBQy9FLElBQUksQ0FBQyxtQkFBbUIsQ0FBQyxNQUFNLENBQUMsT0FBTyxDQUFDLEVBQUUsQ0FBQyxDQUFBO2dCQUUzQyxJQUFJLFFBQVEsSUFBSSxPQUFPLEVBQUU7b0JBQ3ZCLE9BQU8sQ0FBQyxPQUFPLENBQUMsT0FBTyxDQUFDLE1BQU0sQ0FBQyxDQUFBO2lCQUNoQztxQkFBTSxJQUFJLE9BQU8sSUFBSSxPQUFPLEVBQUU7b0JBQzdCLE1BQU0sS0FBSyxHQUFHLE1BQU0sQ0FBQyxNQUFNLENBQ3pCLElBQUksS0FBSyxDQUFDLGNBQWMsQ0FBQyxFQUN6QixPQUFPLENBQUMsS0FBSyxFQUNiLENBQUMsT0FBTyxDQUFDLEtBQUssSUFBSSxPQUFPLENBQUMsS0FBSyxDQUFDLElBQUksQ0FBQyxJQUFJLEVBQUUsQ0FDNUMsQ0FBQTtvQkFDRCxPQUFPLENBQUMsTUFBTSxDQUFDLEtBQUssQ0FBQyxDQUFBO2lCQUN0QjtxQkFBTTtvQkFDTCxPQUFPLENBQUMsTUFBTSxDQUNaLE1BQU0sQ0FBQyxNQUFNLENBQUMsSUFBSSxLQUFLLENBQUMsdUNBQXVDLFVBQVUsRUFBRSxDQUFDLEVBQUU7d0JBQzVFLElBQUksUUFBK0I7cUJBQ3BDLENBQUMsQ0FDSCxDQUFBO2lCQUNGO2FBQ0Y7aUJBQU07Z0JBQ0wsSUFBSSxDQUFDLElBQUksQ0FBQyxPQUFPLEVBQUUsSUFBSSxLQUFLLENBQUMsb0JBQW9CLE9BQU8sQ0FBQyxFQUFFLHlCQUF5QixDQUFDLENBQUMsQ0FBQTthQUN2RjtTQUNGO2FBQU0sSUFBSSxPQUFPLENBQUMsTUFBTSxFQUFFO1lBRXpCLElBQUksQ0FBQyxJQUFJLENBQUMsT0FBTyxDQUFDLE1BQU0sRUFBRSxPQUFPLENBQUMsTUFBTSxDQUFDLENBQUE7U0FDMUM7YUFBTTtZQUNMLElBQUksQ0FBQyxJQUFJLENBQUMsT0FBTyxFQUFFLElBQUksS0FBSyxDQUFDLG9CQUFvQixVQUFVLEVBQUUsQ0FBQyxDQUFDLENBQUE7U0FDaEU7SUFDSCxDQUFDO0lBS00sVUFBVSxDQUFDLEVBQUUsVUFBVSxLQUF3QixFQUFFO1FBQ3RELElBQUksQ0FBQyxXQUFXLEdBQUcsQ0FBQyxDQUFDLFVBQVUsQ0FBQTtJQUNqQyxDQUFDO0lBU0QsSUFBSSxDQUFDLE1BQWMsRUFBRSxNQUFZO1FBQy9CLElBQUksT0FBTyxNQUFNLEtBQUssV0FBVyxJQUFJLE9BQU8sTUFBTSxLQUFLLFFBQVEsRUFBRTtZQUMvRCxNQUFNLElBQUksS0FBSyxDQUFDLG1FQUFtRSxJQUFJLENBQUMsU0FBUyxDQUFDLE1BQU0sQ0FBQyxFQUFFLENBQUMsQ0FBQTtTQUM3RztRQUVELE1BQU0sRUFBRSxHQUFHLEVBQUUsSUFBSSxDQUFDLGNBQWMsQ0FBQTtRQUNoQyxNQUFNLE9BQU8sR0FBc0IsRUFBRSxFQUFFLEVBQUUsTUFBTSxFQUFFLE1BQU0sRUFBRSxPQUFPLEVBQUUsS0FBSyxFQUFFLENBQUE7UUFFekUsT0FBTyxJQUFJLE9BQU8sQ0FBQyxDQUFDLE9BQU8sRUFBRSxNQUFNLEVBQUUsRUFBRTtZQUNyQyxJQUFJO2dCQUNGLElBQUksQ0FBQyxtQkFBbUIsQ0FBQyxHQUFHLENBQUMsRUFBRSxFQUFFLEVBQUUsT0FBTyxFQUFFLE1BQU0sRUFBRSxDQUFDLENBQUE7Z0JBQ3JELElBQUksQ0FBQyxLQUFLLENBQUMsT0FBTyxDQUFDLENBQUE7YUFDcEI7WUFBQyxPQUFPLEtBQUssRUFBRTtnQkFDZCxPQUFPLE1BQU0sQ0FBQyxLQUFLLENBQUMsQ0FBQTthQUNyQjtRQUNILENBQUMsQ0FBQyxDQUFBO0lBQ0osQ0FBQztJQVNELE1BQU0sQ0FBQyxNQUFjLEVBQUUsTUFBWTtRQUNqQyxJQUFJLE9BQU8sTUFBTSxLQUFLLFdBQVcsSUFBSSxPQUFPLE1BQU0sS0FBSyxRQUFRLEVBQUU7WUFDL0QsTUFBTSxJQUFJLEtBQUssQ0FBQyxxRUFBcUUsSUFBSSxDQUFDLFNBQVMsQ0FBQyxNQUFNLENBQUMsRUFBRSxDQUFDLENBQUE7U0FDL0c7UUFFRCxJQUFJLENBQUMsS0FBSyxDQUFDLEVBQUUsTUFBTSxFQUFFLE1BQU0sRUFBRSxPQUFPLEVBQUUsS0FBSyxFQUFFLENBQUMsQ0FBQTtJQUNoRCxDQUFDO0lBRVMsVUFBVTtRQUNsQixJQUFJLElBQUksQ0FBQyxVQUFVLEtBQUssS0FBSyxFQUFFO1lBQzdCLElBQUksQ0FBQyxVQUFVLEdBQUcsSUFBSSxDQUFBO1lBQ3RCLElBQUksQ0FBQyxtQkFBbUIsRUFBRSxDQUFBO1NBQzNCO0lBQ0gsQ0FBQztJQUVPLEtBQUssQ0FBQyxPQUFtRDtRQUMvRCxJQUFJLENBQUMsYUFBYSxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsU0FBUyxDQUFDLE9BQU8sQ0FBQyxDQUFDLENBQUE7UUFFaEQsSUFBSSxDQUFDLG1CQUFtQixFQUFFLENBQUE7SUFDNUIsQ0FBQztJQUVPLG1CQUFtQjtRQUN6QixJQUFJLElBQUksQ0FBQyxVQUFVLEVBQUU7WUFDbkIsTUFBTSxLQUFLLEdBQUcsSUFBSSxDQUFDLGFBQWEsQ0FBQyxNQUFNLENBQUMsQ0FBQyxFQUFFLElBQUksQ0FBQyxhQUFhLENBQUMsTUFBTSxDQUFDLENBQUE7WUFDckUsS0FBSyxJQUFJLFVBQVUsSUFBSSxLQUFLLEVBQUU7Z0JBQzVCLElBQUksQ0FBQyxXQUFXLENBQUMsVUFBVSxFQUFFLE1BQU0sQ0FBQyxDQUFBO2dCQUNwQyxJQUFJLENBQUMsV0FBVyxDQUFDLFVBQVUsQ0FBQyxDQUFBO2FBQzdCO1NBQ0Y7SUFDSCxDQUFDO0lBRU8sV0FBVyxDQUFDLE9BQWUsRUFBRSxTQUE2QjtRQUNoRSxJQUFJLElBQUksQ0FBQyxXQUFXLEVBQUU7WUFDcEIsT0FBTyxDQUFDLEdBQUcsQ0FBQyxVQUFVLFNBQVMsS0FBSyxNQUFNLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsR0FBRyxFQUFFLEVBQUUsT0FBTyxDQUFDLFFBQVEsRUFBRSxDQUFDLENBQUE7U0FDOUU7SUFDSCxDQUFDO0NBQ0YiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBFdmVudERpc3BhdGNoZXIgfSBmcm9tICcuLi9jb3JlL0V2ZW50RGlzcGF0Y2hlcidcbmltcG9ydCAqIGFzIEpzb25ScGMyIGZyb20gJy4vdHlwZXMnXG5cbi8qKlxuICogQ3JlYXRlcyBhIFJQQyBDbGllbnQuXG4gKiBJdCBpcyBpbnRlbnRpb25hbCB0aGF0IENsaWVudCBkb2VzIG5vdCBjcmVhdGUgYSBXZWJTb2NrZXQgb2JqZWN0IHNpbmNlIHdlIHByZWZlciBjb21wb3NhYmlsaXR5XG4gKi9cbmV4cG9ydCBhYnN0cmFjdCBjbGFzcyBDbGllbnQgZXh0ZW5kcyBFdmVudERpc3BhdGNoZXIgaW1wbGVtZW50cyBKc29uUnBjMi5JQ2xpZW50IHtcbiAgcHJpdmF0ZSBfcmVzcG9uc2VQcm9taXNlTWFwOiBNYXA8bnVtYmVyLCBKc29uUnBjMi5SZXNvbHZhYmxlPiA9IG5ldyBNYXAoKVxuICBwcml2YXRlIF9uZXh0TWVzc2FnZUlkOiBudW1iZXIgPSAwXG4gIHByaXZhdGUgX2NvbnNvbGVMb2c6IGJvb2xlYW4gPSBmYWxzZVxuICBwcml2YXRlIF9yZXF1ZXN0UXVldWU6IHN0cmluZ1tdID0gW11cbiAgcHJpdmF0ZSBfY29ubmVjdGVkID0gZmFsc2VcblxuICBjb25zdHJ1Y3RvcihvcHRzPzogSnNvblJwYzIuSUNsaWVudE9wdHMpIHtcbiAgICBzdXBlcigpXG4gICAgdGhpcy5zZXRMb2dnaW5nKG9wdHMpXG4gIH1cblxuICBhYnN0cmFjdCBzZW5kTWVzc2FnZShtZXNzYWdlOiBzdHJpbmcpOiB2b2lkXG5cbiAgcHVibGljIHByb2Nlc3NNZXNzYWdlKG1lc3NhZ2VTdHI6IHN0cmluZyB8IChKc29uUnBjMi5JUmVzcG9uc2UgJiBKc29uUnBjMi5JTm90aWZpY2F0aW9uKSkge1xuICAgIGxldCBtZXNzYWdlOiBKc29uUnBjMi5JUmVzcG9uc2UgJiBKc29uUnBjMi5JTm90aWZpY2F0aW9uXG5cbiAgICBpZiAodHlwZW9mIG1lc3NhZ2VTdHIgPT09ICdzdHJpbmcnKSB7XG4gICAgICB0aGlzLl9sb2dNZXNzYWdlKG1lc3NhZ2VTdHIsICdyZWNlaXZlJylcblxuICAgICAgLy8gRW5zdXJlIEpTT04gaXMgbm90IG1hbGZvcm1lZFxuICAgICAgdHJ5IHtcbiAgICAgICAgbWVzc2FnZSA9IEpTT04ucGFyc2UobWVzc2FnZVN0cilcbiAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZW1pdCgnZXJyb3InLCBlKVxuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBtZXNzYWdlID0gbWVzc2FnZVN0clxuICAgIH1cblxuICAgIC8vIENoZWNrIHRoYXQgbWVzc2FnZXMgaXMgd2VsbCBmb3JtZWRcbiAgICBpZiAoIW1lc3NhZ2UpIHtcbiAgICAgIHRoaXMuZW1pdCgnZXJyb3InLCBuZXcgRXJyb3IoYE1lc3NhZ2UgY2Fubm90IGJlIG51bGwsIGVtcHR5IG9yIHVuZGVmaW5lZGApKVxuICAgIH0gZWxzZSBpZiAobWVzc2FnZS5pZCkge1xuICAgICAgaWYgKHRoaXMuX3Jlc3BvbnNlUHJvbWlzZU1hcC5oYXMobWVzc2FnZS5pZCkpIHtcbiAgICAgICAgLy8gUmVzb2x2ZSBwcm9taXNlIGZyb20gcGVuZGluZyBtZXNzYWdlXG4gICAgICAgIGNvbnN0IHByb21pc2UgPSB0aGlzLl9yZXNwb25zZVByb21pc2VNYXAuZ2V0KG1lc3NhZ2UuaWQpIGFzIEpzb25ScGMyLlJlc29sdmFibGVcbiAgICAgICAgdGhpcy5fcmVzcG9uc2VQcm9taXNlTWFwLmRlbGV0ZShtZXNzYWdlLmlkKVxuXG4gICAgICAgIGlmICgncmVzdWx0JyBpbiBtZXNzYWdlKSB7XG4gICAgICAgICAgcHJvbWlzZS5yZXNvbHZlKG1lc3NhZ2UucmVzdWx0KVxuICAgICAgICB9IGVsc2UgaWYgKCdlcnJvcicgaW4gbWVzc2FnZSkge1xuICAgICAgICAgIGNvbnN0IGVycm9yID0gT2JqZWN0LmFzc2lnbihcbiAgICAgICAgICAgIG5ldyBFcnJvcignUmVtb3RlIGVycm9yJyksXG4gICAgICAgICAgICBtZXNzYWdlLmVycm9yLFxuICAgICAgICAgICAgKG1lc3NhZ2UuZXJyb3IgJiYgbWVzc2FnZS5lcnJvci5kYXRhKSB8fCB7fVxuICAgICAgICAgIClcbiAgICAgICAgICBwcm9taXNlLnJlamVjdChlcnJvcilcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBwcm9taXNlLnJlamVjdChcbiAgICAgICAgICAgIE9iamVjdC5hc3NpZ24obmV3IEVycm9yKGBSZXNwb25zZSBtdXN0IGhhdmUgcmVzdWx0IG9yIGVycm9yOiAke21lc3NhZ2VTdHJ9YCksIHtcbiAgICAgICAgICAgICAgY29kZTogSnNvblJwYzIuRXJyb3JDb2RlLlBhcnNlRXJyb3JcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgKVxuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLmVtaXQoJ2Vycm9yJywgbmV3IEVycm9yKGBSZXNwb25zZSB3aXRoIGlkOiR7bWVzc2FnZS5pZH0gaGFzIG5vIHBlbmRpbmcgcmVxdWVzdGApKVxuICAgICAgfVxuICAgIH0gZWxzZSBpZiAobWVzc2FnZS5tZXRob2QpIHtcbiAgICAgIC8vIFNlcnZlciBoYXMgc2VudCBhIG5vdGlmaWNhdGlvblxuICAgICAgdGhpcy5lbWl0KG1lc3NhZ2UubWV0aG9kLCBtZXNzYWdlLnBhcmFtcylcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5lbWl0KCdlcnJvcicsIG5ldyBFcnJvcihgSW52YWxpZCBtZXNzYWdlOiAke21lc3NhZ2VTdHJ9YCkpXG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFNldCBsb2dnaW5nIGZvciBhbGwgcmVjZWl2ZWQgYW5kIHNlbnQgbWVzc2FnZXNcbiAgICovXG4gIHB1YmxpYyBzZXRMb2dnaW5nKHsgbG9nQ29uc29sZSB9OiBKc29uUnBjMi5JTG9nT3B0cyA9IHt9KSB7XG4gICAgdGhpcy5fY29uc29sZUxvZyA9ICEhbG9nQ29uc29sZVxuICB9XG5cbiAgY2FsbChtZXRob2Q6IHN0cmluZyk6IFByb21pc2U8YW55PlxuICBjYWxsKG1ldGhvZDogc3RyaW5nLCBwYXJhbXM6IHN0cmluZyk6IG5ldmVyXG4gIGNhbGwobWV0aG9kOiBzdHJpbmcsIHBhcmFtczogbnVtYmVyKTogbmV2ZXJcbiAgY2FsbChtZXRob2Q6IHN0cmluZywgcGFyYW1zOiBib29sZWFuKTogbmV2ZXJcbiAgY2FsbChtZXRob2Q6IHN0cmluZywgcGFyYW1zOiBudWxsKTogbmV2ZXJcbiAgY2FsbDxUPihtZXRob2Q6IHN0cmluZywgcGFyYW1zOiBJdGVyYWJsZTxUPik6IFByb21pc2U8YW55PlxuICBjYWxsKG1ldGhvZDogc3RyaW5nLCBwYXJhbXM6IHsgW2tleTogc3RyaW5nXTogYW55IH0pOiBQcm9taXNlPGFueT5cbiAgY2FsbChtZXRob2Q6IHN0cmluZywgcGFyYW1zPzogYW55KSB7XG4gICAgaWYgKHR5cGVvZiBwYXJhbXMgIT09ICd1bmRlZmluZWQnICYmIHR5cGVvZiBwYXJhbXMgIT09ICdvYmplY3QnKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoYENsaWVudCNjYWxsIFBhcmFtcyBtdXN0IGJlIHN0cnVjdHVyZWQgZGF0YSAoQXJyYXkgfCBPYmplY3QpIGdvdCAke0pTT04uc3RyaW5naWZ5KHBhcmFtcyl9YClcbiAgICB9XG5cbiAgICBjb25zdCBpZCA9ICsrdGhpcy5fbmV4dE1lc3NhZ2VJZFxuICAgIGNvbnN0IG1lc3NhZ2U6IEpzb25ScGMyLklSZXF1ZXN0ID0geyBpZCwgbWV0aG9kLCBwYXJhbXMsIGpzb25ycGM6ICcyLjAnIH1cblxuICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICB0cnkge1xuICAgICAgICB0aGlzLl9yZXNwb25zZVByb21pc2VNYXAuc2V0KGlkLCB7IHJlc29sdmUsIHJlamVjdCB9KVxuICAgICAgICB0aGlzLl9zZW5kKG1lc3NhZ2UpXG4gICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICByZXR1cm4gcmVqZWN0KGVycm9yKVxuICAgICAgfVxuICAgIH0pXG4gIH1cblxuICBub3RpZnkobWV0aG9kOiBzdHJpbmcpOiB2b2lkXG4gIG5vdGlmeShtZXRob2Q6IHN0cmluZywgcGFyYW1zOiBzdHJpbmcpOiBuZXZlclxuICBub3RpZnkobWV0aG9kOiBzdHJpbmcsIHBhcmFtczogbnVtYmVyKTogbmV2ZXJcbiAgbm90aWZ5KG1ldGhvZDogc3RyaW5nLCBwYXJhbXM6IGJvb2xlYW4pOiBuZXZlclxuICBub3RpZnkobWV0aG9kOiBzdHJpbmcsIHBhcmFtczogbnVsbCk6IG5ldmVyXG4gIG5vdGlmeTxUPihtZXRob2Q6IHN0cmluZywgcGFyYW1zOiBJdGVyYWJsZTxUPik6IHZvaWRcbiAgbm90aWZ5KG1ldGhvZDogc3RyaW5nLCBwYXJhbXM6IHsgW2tleTogc3RyaW5nXTogYW55IH0pOiB2b2lkXG4gIG5vdGlmeShtZXRob2Q6IHN0cmluZywgcGFyYW1zPzogYW55KTogdm9pZCB7XG4gICAgaWYgKHR5cGVvZiBwYXJhbXMgIT09ICd1bmRlZmluZWQnICYmIHR5cGVvZiBwYXJhbXMgIT09ICdvYmplY3QnKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoYENsaWVudCNub3RpZnkgUGFyYW1zIG11c3QgYmUgc3RydWN0dXJlZCBkYXRhIChBcnJheSB8IE9iamVjdCkgZ290ICR7SlNPTi5zdHJpbmdpZnkocGFyYW1zKX1gKVxuICAgIH1cblxuICAgIHRoaXMuX3NlbmQoeyBtZXRob2QsIHBhcmFtcywganNvbnJwYzogJzIuMCcgfSlcbiAgfVxuXG4gIHByb3RlY3RlZCBkaWRDb25uZWN0KCkge1xuICAgIGlmICh0aGlzLl9jb25uZWN0ZWQgPT09IGZhbHNlKSB7XG4gICAgICB0aGlzLl9jb25uZWN0ZWQgPSB0cnVlXG4gICAgICB0aGlzLl9zZW5kUXVldWVkUmVxdWVzdHMoKVxuICAgIH1cbiAgfVxuXG4gIHByaXZhdGUgX3NlbmQobWVzc2FnZTogSnNvblJwYzIuSU5vdGlmaWNhdGlvbiB8IEpzb25ScGMyLklSZXF1ZXN0KSB7XG4gICAgdGhpcy5fcmVxdWVzdFF1ZXVlLnB1c2goSlNPTi5zdHJpbmdpZnkobWVzc2FnZSkpXG5cbiAgICB0aGlzLl9zZW5kUXVldWVkUmVxdWVzdHMoKVxuICB9XG5cbiAgcHJpdmF0ZSBfc2VuZFF1ZXVlZFJlcXVlc3RzKCkge1xuICAgIGlmICh0aGlzLl9jb25uZWN0ZWQpIHtcbiAgICAgIGNvbnN0IHF1ZXVlID0gdGhpcy5fcmVxdWVzdFF1ZXVlLnNwbGljZSgwLCB0aGlzLl9yZXF1ZXN0UXVldWUubGVuZ3RoKVxuICAgICAgZm9yIChsZXQgbWVzc2FnZVN0ciBvZiBxdWV1ZSkge1xuICAgICAgICB0aGlzLl9sb2dNZXNzYWdlKG1lc3NhZ2VTdHIsICdzZW5kJylcbiAgICAgICAgdGhpcy5zZW5kTWVzc2FnZShtZXNzYWdlU3RyKVxuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHByaXZhdGUgX2xvZ01lc3NhZ2UobWVzc2FnZTogc3RyaW5nLCBkaXJlY3Rpb246ICdzZW5kJyB8ICdyZWNlaXZlJykge1xuICAgIGlmICh0aGlzLl9jb25zb2xlTG9nKSB7XG4gICAgICBjb25zb2xlLmxvZyhgQ2xpZW50ICR7ZGlyZWN0aW9uID09PSAnc2VuZCcgPyAnPicgOiAnPCd9YCwgbWVzc2FnZS50b1N0cmluZygpKVxuICAgIH1cbiAgfVxufVxuIl19\n\n//# sourceURL=webpack:///./node_modules/decentraland-rpc/lib/common/json-rpc/Client.js?");

/***/ }),

/***/ "./node_modules/decentraland-rpc/lib/common/transports/Memory.js":
/*!***********************************************************************!*\
  !*** ./node_modules/decentraland-rpc/lib/common/transports/Memory.js ***!
  \***********************************************************************/
/*! exports provided: MemoryTransport */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"MemoryTransport\", function() { return MemoryTransport; });\n/* harmony import */ var _core_EventDispatcher__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../core/EventDispatcher */ \"./node_modules/decentraland-rpc/lib/common/core/EventDispatcher.js\");\n\nfunction MemoryTransport() {\n    const onConnectList = [];\n    let connected = false;\n    const clientEd = new _core_EventDispatcher__WEBPACK_IMPORTED_MODULE_0__[\"EventDispatcher\"]();\n    const serverEd = new _core_EventDispatcher__WEBPACK_IMPORTED_MODULE_0__[\"EventDispatcher\"]();\n    function configureMemoryTransport(receiver, sender) {\n        return {\n            sendMessage(message) {\n                sender.emit('message', message);\n            },\n            close() {\n                sender.emit('close');\n            },\n            onMessage(handler) {\n                receiver.on('message', handler);\n            },\n            onClose(handler) {\n                receiver.on('close', handler);\n            },\n            onError(handler) {\n                receiver.on('error', handler);\n            },\n            onConnect(handler) {\n                if (connected == false) {\n                    onConnectList.push(handler);\n                }\n            }\n        };\n    }\n    const client = configureMemoryTransport(clientEd, serverEd);\n    const server = configureMemoryTransport(serverEd, clientEd);\n    clientEd.on('message', () => {\n        if (connected === false) {\n            onConnectList.forEach($ => $());\n            onConnectList.length = 0;\n            connected = true;\n        }\n    });\n    return {\n        client,\n        server\n    };\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiTWVtb3J5LmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vc3JjL2NvbW1vbi90cmFuc3BvcnRzL01lbW9yeS50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFDQSxPQUFPLEVBQUUsZUFBZSxFQUFFLE1BQU0seUJBQXlCLENBQUE7QUFFekQsTUFBTSxVQUFVLGVBQWU7SUFDN0IsTUFBTSxhQUFhLEdBQWUsRUFBRSxDQUFBO0lBQ3BDLElBQUksU0FBUyxHQUFHLEtBQUssQ0FBQTtJQUVyQixNQUFNLFFBQVEsR0FBRyxJQUFJLGVBQWUsRUFBRSxDQUFBO0lBQ3RDLE1BQU0sUUFBUSxHQUFHLElBQUksZUFBZSxFQUFFLENBQUE7SUFFdEMsU0FBUyx3QkFBd0IsQ0FBQyxRQUF5QixFQUFFLE1BQXVCO1FBQ2xGLE9BQU87WUFDTCxXQUFXLENBQUMsT0FBTztnQkFDakIsTUFBTSxDQUFDLElBQUksQ0FBQyxTQUFTLEVBQUUsT0FBTyxDQUFDLENBQUE7WUFDakMsQ0FBQztZQUVELEtBQUs7Z0JBQ0gsTUFBTSxDQUFDLElBQUksQ0FBQyxPQUFPLENBQUMsQ0FBQTtZQUN0QixDQUFDO1lBRUQsU0FBUyxDQUFDLE9BQU87Z0JBQ2YsUUFBUSxDQUFDLEVBQUUsQ0FBQyxTQUFTLEVBQUUsT0FBTyxDQUFDLENBQUE7WUFDakMsQ0FBQztZQUVELE9BQU8sQ0FBQyxPQUFPO2dCQUNiLFFBQVEsQ0FBQyxFQUFFLENBQUMsT0FBTyxFQUFFLE9BQU8sQ0FBQyxDQUFBO1lBQy9CLENBQUM7WUFFRCxPQUFPLENBQUMsT0FBTztnQkFDYixRQUFRLENBQUMsRUFBRSxDQUFDLE9BQU8sRUFBRSxPQUFPLENBQUMsQ0FBQTtZQUMvQixDQUFDO1lBRUQsU0FBUyxDQUFDLE9BQU87Z0JBQ2YsSUFBSSxTQUFTLElBQUksS0FBSyxFQUFFO29CQUN0QixhQUFhLENBQUMsSUFBSSxDQUFDLE9BQU8sQ0FBQyxDQUFBO2lCQUM1QjtZQUNILENBQUM7U0FDRixDQUFBO0lBQ0gsQ0FBQztJQUVELE1BQU0sTUFBTSxHQUFHLHdCQUF3QixDQUFDLFFBQVEsRUFBRSxRQUFRLENBQUMsQ0FBQTtJQUMzRCxNQUFNLE1BQU0sR0FBRyx3QkFBd0IsQ0FBQyxRQUFRLEVBQUUsUUFBUSxDQUFDLENBQUE7SUFHM0QsUUFBUSxDQUFDLEVBQUUsQ0FBQyxTQUFTLEVBQUUsR0FBRyxFQUFFO1FBQzFCLElBQUksU0FBUyxLQUFLLEtBQUssRUFBRTtZQUN2QixhQUFhLENBQUMsT0FBTyxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQTtZQUMvQixhQUFhLENBQUMsTUFBTSxHQUFHLENBQUMsQ0FBQTtZQUN4QixTQUFTLEdBQUcsSUFBSSxDQUFBO1NBQ2pCO0lBQ0gsQ0FBQyxDQUFDLENBQUE7SUFFRixPQUFPO1FBQ0wsTUFBTTtRQUNOLE1BQU07S0FDUCxDQUFBO0FBQ0gsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFNjcmlwdGluZ1RyYW5zcG9ydCB9IGZyb20gJy4uL2pzb24tcnBjL3R5cGVzJ1xuaW1wb3J0IHsgRXZlbnREaXNwYXRjaGVyIH0gZnJvbSAnLi4vY29yZS9FdmVudERpc3BhdGNoZXInXG5cbmV4cG9ydCBmdW5jdGlvbiBNZW1vcnlUcmFuc3BvcnQoKSB7XG4gIGNvbnN0IG9uQ29ubmVjdExpc3Q6IEZ1bmN0aW9uW10gPSBbXVxuICBsZXQgY29ubmVjdGVkID0gZmFsc2VcblxuICBjb25zdCBjbGllbnRFZCA9IG5ldyBFdmVudERpc3BhdGNoZXIoKVxuICBjb25zdCBzZXJ2ZXJFZCA9IG5ldyBFdmVudERpc3BhdGNoZXIoKVxuXG4gIGZ1bmN0aW9uIGNvbmZpZ3VyZU1lbW9yeVRyYW5zcG9ydChyZWNlaXZlcjogRXZlbnREaXNwYXRjaGVyLCBzZW5kZXI6IEV2ZW50RGlzcGF0Y2hlcik6IFNjcmlwdGluZ1RyYW5zcG9ydCB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHNlbmRNZXNzYWdlKG1lc3NhZ2UpIHtcbiAgICAgICAgc2VuZGVyLmVtaXQoJ21lc3NhZ2UnLCBtZXNzYWdlKVxuICAgICAgfSxcblxuICAgICAgY2xvc2UoKSB7XG4gICAgICAgIHNlbmRlci5lbWl0KCdjbG9zZScpXG4gICAgICB9LFxuXG4gICAgICBvbk1lc3NhZ2UoaGFuZGxlcikge1xuICAgICAgICByZWNlaXZlci5vbignbWVzc2FnZScsIGhhbmRsZXIpXG4gICAgICB9LFxuXG4gICAgICBvbkNsb3NlKGhhbmRsZXIpIHtcbiAgICAgICAgcmVjZWl2ZXIub24oJ2Nsb3NlJywgaGFuZGxlcilcbiAgICAgIH0sXG5cbiAgICAgIG9uRXJyb3IoaGFuZGxlcikge1xuICAgICAgICByZWNlaXZlci5vbignZXJyb3InLCBoYW5kbGVyKVxuICAgICAgfSxcblxuICAgICAgb25Db25uZWN0KGhhbmRsZXIpIHtcbiAgICAgICAgaWYgKGNvbm5lY3RlZCA9PSBmYWxzZSkge1xuICAgICAgICAgIG9uQ29ubmVjdExpc3QucHVzaChoYW5kbGVyKVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgY29uc3QgY2xpZW50ID0gY29uZmlndXJlTWVtb3J5VHJhbnNwb3J0KGNsaWVudEVkLCBzZXJ2ZXJFZClcbiAgY29uc3Qgc2VydmVyID0gY29uZmlndXJlTWVtb3J5VHJhbnNwb3J0KHNlcnZlckVkLCBjbGllbnRFZClcblxuICAvLyB3ZSBzZW5kIGEgUlBDLkVuYWJsZSBtZXNzYWdlIHdoZW4gdGhlIHNlcnZlciBnZXRzIGNvbm5lY3RlZCBhcyBzdGFydCBzaWduYWxcbiAgY2xpZW50RWQub24oJ21lc3NhZ2UnLCAoKSA9PiB7XG4gICAgaWYgKGNvbm5lY3RlZCA9PT0gZmFsc2UpIHtcbiAgICAgIG9uQ29ubmVjdExpc3QuZm9yRWFjaCgkID0+ICQoKSlcbiAgICAgIG9uQ29ubmVjdExpc3QubGVuZ3RoID0gMFxuICAgICAgY29ubmVjdGVkID0gdHJ1ZVxuICAgIH1cbiAgfSlcblxuICByZXR1cm4ge1xuICAgIGNsaWVudCxcbiAgICBzZXJ2ZXJcbiAgfVxufVxuIl19\n\n//# sourceURL=webpack:///./node_modules/decentraland-rpc/lib/common/transports/Memory.js?");

/***/ }),

/***/ "./node_modules/decentraland-rpc/lib/common/transports/WebSocket.js":
/*!**************************************************************************!*\
  !*** ./node_modules/decentraland-rpc/lib/common/transports/WebSocket.js ***!
  \**************************************************************************/
/*! exports provided: WebSocketTransport */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"WebSocketTransport\", function() { return WebSocketTransport; });\nfunction WebSocketTransport(socket) {\n    const queue = [];\n    socket.addEventListener('open', function () {\n        flush();\n    });\n    function flush() {\n        if (socket.readyState === socket.OPEN) {\n            queue.forEach($ => send($));\n            queue.length = 0;\n        }\n    }\n    function send(msg) {\n        if (typeof msg === 'string') {\n            socket.send(msg, { binary: false });\n        }\n        else if (msg instanceof Uint8Array || msg instanceof ArrayBuffer || msg instanceof SharedArrayBuffer) {\n            ;\n            socket.binaryType = 'arraybuffer';\n            socket.send(msg, { binary: true });\n        }\n    }\n    const api = {\n        onConnect(handler) {\n            if (socket.readyState === socket.OPEN) {\n                handler();\n            }\n            else {\n                socket.addEventListener('open', () => handler(), { once: true });\n            }\n        },\n        onError(handler) {\n            socket.addEventListener('error', (err) => {\n                if (err.error) {\n                    handler(err.error);\n                }\n                else if (err.message) {\n                    handler(Object.assign(new Error(err.message), {\n                        colno: err.colno,\n                        error: err.error,\n                        filename: err.filename,\n                        lineno: err.lineno,\n                        message: err.message\n                    }));\n                }\n            });\n        },\n        onMessage(handler) {\n            socket.addEventListener('message', (message) => {\n                handler(message.data);\n            });\n        },\n        sendMessage(message) {\n            const toSend = message instanceof Uint8Array ? message.buffer : message;\n            if (socket.readyState === socket.OPEN) {\n                send(toSend);\n            }\n            else {\n                queue.push(toSend);\n            }\n        },\n        close() {\n            socket.close();\n        }\n    };\n    return api;\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiV2ViU29ja2V0LmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vc3JjL2NvbW1vbi90cmFuc3BvcnRzL1dlYlNvY2tldC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFtQ0EsTUFBTSxVQUFVLGtCQUFrQixDQUFDLE1BQWtCO0lBQ25ELE1BQU0sS0FBSyxHQUE4RCxFQUFFLENBQUE7SUFFM0UsTUFBTSxDQUFDLGdCQUFnQixDQUFDLE1BQU0sRUFBRTtRQUM5QixLQUFLLEVBQUUsQ0FBQTtJQUNULENBQUMsQ0FBQyxDQUFBO0lBRUYsU0FBUyxLQUFLO1FBQ1osSUFBSSxNQUFNLENBQUMsVUFBVSxLQUFLLE1BQU0sQ0FBQyxJQUFJLEVBQUU7WUFDckMsS0FBSyxDQUFDLE9BQU8sQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFBO1lBQzNCLEtBQUssQ0FBQyxNQUFNLEdBQUcsQ0FBQyxDQUFBO1NBQ2pCO0lBQ0gsQ0FBQztJQUVELFNBQVMsSUFBSSxDQUFDLEdBQTBEO1FBQ3RFLElBQUksT0FBTyxHQUFHLEtBQUssUUFBUSxFQUFFO1lBQzNCLE1BQU0sQ0FBQyxJQUFJLENBQUMsR0FBRyxFQUFFLEVBQUUsTUFBTSxFQUFFLEtBQUssRUFBRSxDQUFDLENBQUE7U0FDcEM7YUFBTSxJQUFJLEdBQUcsWUFBWSxVQUFVLElBQUksR0FBRyxZQUFZLFdBQVcsSUFBSSxHQUFHLFlBQVksaUJBQWlCLEVBQUU7WUFFdEcsQ0FBQztZQUFDLE1BQWMsQ0FBQyxVQUFVLEdBQUcsYUFBYSxDQUFBO1lBQzNDLE1BQU0sQ0FBQyxJQUFJLENBQUMsR0FBRyxFQUFFLEVBQUUsTUFBTSxFQUFFLElBQUksRUFBRSxDQUFDLENBQUE7U0FDbkM7SUFDSCxDQUFDO0lBRUQsTUFBTSxHQUFHLEdBQXVCO1FBQzlCLFNBQVMsQ0FBQyxPQUFPO1lBQ2YsSUFBSSxNQUFNLENBQUMsVUFBVSxLQUFLLE1BQU0sQ0FBQyxJQUFJLEVBQUU7Z0JBQ3JDLE9BQU8sRUFBRSxDQUFBO2FBQ1Y7aUJBQU07Z0JBQ0wsTUFBTSxDQUFDLGdCQUFnQixDQUFDLE1BQU0sRUFBRSxHQUFHLEVBQUUsQ0FBQyxPQUFPLEVBQUUsRUFBRSxFQUFFLElBQUksRUFBRSxJQUFJLEVBQUUsQ0FBQyxDQUFBO2FBQ2pFO1FBQ0gsQ0FBQztRQUNELE9BQU8sQ0FBQyxPQUFPO1lBQ2IsTUFBTSxDQUFDLGdCQUFnQixDQUFDLE9BQU8sRUFBRSxDQUFDLEdBQWUsRUFBRSxFQUFFO2dCQUNuRCxJQUFJLEdBQUcsQ0FBQyxLQUFLLEVBQUU7b0JBQ2IsT0FBTyxDQUFDLEdBQUcsQ0FBQyxLQUFLLENBQUMsQ0FBQTtpQkFDbkI7cUJBQU0sSUFBSSxHQUFHLENBQUMsT0FBTyxFQUFFO29CQUN0QixPQUFPLENBQ0wsTUFBTSxDQUFDLE1BQU0sQ0FBQyxJQUFJLEtBQUssQ0FBQyxHQUFHLENBQUMsT0FBTyxDQUFDLEVBQUU7d0JBQ3BDLEtBQUssRUFBRSxHQUFHLENBQUMsS0FBSzt3QkFDaEIsS0FBSyxFQUFFLEdBQUcsQ0FBQyxLQUFLO3dCQUNoQixRQUFRLEVBQUUsR0FBRyxDQUFDLFFBQVE7d0JBQ3RCLE1BQU0sRUFBRSxHQUFHLENBQUMsTUFBTTt3QkFDbEIsT0FBTyxFQUFFLEdBQUcsQ0FBQyxPQUFPO3FCQUNyQixDQUFDLENBQ0gsQ0FBQTtpQkFDRjtZQUNILENBQUMsQ0FBQyxDQUFBO1FBQ0osQ0FBQztRQUNELFNBQVMsQ0FBQyxPQUFPO1lBQ2YsTUFBTSxDQUFDLGdCQUFnQixDQUFDLFNBQVMsRUFBRSxDQUFDLE9BQXNCLEVBQUUsRUFBRTtnQkFDNUQsT0FBTyxDQUFDLE9BQU8sQ0FBQyxJQUFJLENBQUMsQ0FBQTtZQUN2QixDQUFDLENBQUMsQ0FBQTtRQUNKLENBQUM7UUFDRCxXQUFXLENBQUMsT0FBWTtZQUN0QixNQUFNLE1BQU0sR0FBRyxPQUFPLFlBQVksVUFBVSxDQUFDLENBQUMsQ0FBQyxPQUFPLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQyxPQUFPLENBQUE7WUFFdkUsSUFBSSxNQUFNLENBQUMsVUFBVSxLQUFLLE1BQU0sQ0FBQyxJQUFJLEVBQUU7Z0JBQ3JDLElBQUksQ0FBQyxNQUFNLENBQUMsQ0FBQTthQUNiO2lCQUFNO2dCQUNMLEtBQUssQ0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDLENBQUE7YUFDbkI7UUFDSCxDQUFDO1FBQ0QsS0FBSztZQUNILE1BQU0sQ0FBQyxLQUFLLEVBQUUsQ0FBQTtRQUNoQixDQUFDO0tBQ0YsQ0FBQTtJQUVELE9BQU8sR0FBRyxDQUFBO0FBQ1osQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFNjcmlwdGluZ1RyYW5zcG9ydCB9IGZyb20gJy4uL2pzb24tcnBjL3R5cGVzJ1xuXG5leHBvcnQgaW50ZXJmYWNlIElXZWJTb2NrZXRFdmVudE1hcCB7XG4gIGNsb3NlOiBhbnlcbiAgZXJyb3I6IGFueVxuICBtZXNzYWdlOiB7IGRhdGE6IGFueSB9XG4gIG9wZW46IGFueVxufVxuXG4vKipcbiAqIFRoaXMgaW50ZXJmYWNlIHNob3VsZCBiZSBjb21wYXRpYmxlIHdpdGggdGhlIEJyb3dzZXJzIGludGVyZmFjZVxuICogYW5kIG5wbSB3cyBwYWNrYWdlIGZvciBzZXJ2ZXJzXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgSVdlYlNvY2tldCB7XG4gIENPTk5FQ1RJTkc6IG51bWJlclxuICBPUEVOOiBudW1iZXJcbiAgQ0xPU0lORzogbnVtYmVyXG4gIENMT1NFRDogbnVtYmVyXG5cbiAgcmVhZHlTdGF0ZTogbnVtYmVyXG5cbiAgY2xvc2UoY29kZT86IG51bWJlciwgZGF0YT86IHN0cmluZyk6IHZvaWRcblxuICBzZW5kKGRhdGE6IGFueSwgY2I/OiAoZXJyOiBFcnJvcikgPT4gdm9pZCk6IHZvaWRcbiAgc2VuZChkYXRhOiBhbnksIG9wdGlvbnM6IGFueSwgY2I/OiAoZXJyOiBFcnJvcikgPT4gdm9pZCk6IHZvaWRcblxuICB0ZXJtaW5hdGU/KCk6IHZvaWRcblxuICBhZGRFdmVudExpc3RlbmVyPEsgZXh0ZW5kcyBrZXlvZiBJV2ViU29ja2V0RXZlbnRNYXA+KFxuICAgIHR5cGU6IEssXG4gICAgbGlzdGVuZXI6IChldjogSVdlYlNvY2tldEV2ZW50TWFwW0tdKSA9PiBhbnksXG4gICAgb3B0aW9ucz86IGFueVxuICApOiB2b2lkXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBXZWJTb2NrZXRUcmFuc3BvcnQoc29ja2V0OiBJV2ViU29ja2V0KTogU2NyaXB0aW5nVHJhbnNwb3J0IHtcbiAgY29uc3QgcXVldWU6IChzdHJpbmcgfCBVaW50OEFycmF5IHwgQXJyYXlCdWZmZXIgfCBTaGFyZWRBcnJheUJ1ZmZlcilbXSA9IFtdXG5cbiAgc29ja2V0LmFkZEV2ZW50TGlzdGVuZXIoJ29wZW4nLCBmdW5jdGlvbigpIHtcbiAgICBmbHVzaCgpXG4gIH0pXG5cbiAgZnVuY3Rpb24gZmx1c2goKSB7XG4gICAgaWYgKHNvY2tldC5yZWFkeVN0YXRlID09PSBzb2NrZXQuT1BFTikge1xuICAgICAgcXVldWUuZm9yRWFjaCgkID0+IHNlbmQoJCkpXG4gICAgICBxdWV1ZS5sZW5ndGggPSAwXG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gc2VuZChtc2c6IHN0cmluZyB8IFVpbnQ4QXJyYXkgfCBBcnJheUJ1ZmZlciB8IFNoYXJlZEFycmF5QnVmZmVyKSB7XG4gICAgaWYgKHR5cGVvZiBtc2cgPT09ICdzdHJpbmcnKSB7XG4gICAgICBzb2NrZXQuc2VuZChtc2csIHsgYmluYXJ5OiBmYWxzZSB9KVxuICAgIH0gZWxzZSBpZiAobXNnIGluc3RhbmNlb2YgVWludDhBcnJheSB8fCBtc2cgaW5zdGFuY2VvZiBBcnJheUJ1ZmZlciB8fCBtc2cgaW5zdGFuY2VvZiBTaGFyZWRBcnJheUJ1ZmZlcikge1xuICAgICAgLy8gdHNsaW50OmRpc2FibGUtbmV4dC1saW5lOnNlbWljb2xvblxuICAgICAgOyhzb2NrZXQgYXMgYW55KS5iaW5hcnlUeXBlID0gJ2FycmF5YnVmZmVyJ1xuICAgICAgc29ja2V0LnNlbmQobXNnLCB7IGJpbmFyeTogdHJ1ZSB9KVxuICAgIH1cbiAgfVxuXG4gIGNvbnN0IGFwaTogU2NyaXB0aW5nVHJhbnNwb3J0ID0ge1xuICAgIG9uQ29ubmVjdChoYW5kbGVyKSB7XG4gICAgICBpZiAoc29ja2V0LnJlYWR5U3RhdGUgPT09IHNvY2tldC5PUEVOKSB7XG4gICAgICAgIGhhbmRsZXIoKVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgc29ja2V0LmFkZEV2ZW50TGlzdGVuZXIoJ29wZW4nLCAoKSA9PiBoYW5kbGVyKCksIHsgb25jZTogdHJ1ZSB9KVxuICAgICAgfVxuICAgIH0sXG4gICAgb25FcnJvcihoYW5kbGVyKSB7XG4gICAgICBzb2NrZXQuYWRkRXZlbnRMaXN0ZW5lcignZXJyb3InLCAoZXJyOiBFcnJvckV2ZW50KSA9PiB7XG4gICAgICAgIGlmIChlcnIuZXJyb3IpIHtcbiAgICAgICAgICBoYW5kbGVyKGVyci5lcnJvcilcbiAgICAgICAgfSBlbHNlIGlmIChlcnIubWVzc2FnZSkge1xuICAgICAgICAgIGhhbmRsZXIoXG4gICAgICAgICAgICBPYmplY3QuYXNzaWduKG5ldyBFcnJvcihlcnIubWVzc2FnZSksIHtcbiAgICAgICAgICAgICAgY29sbm86IGVyci5jb2xubyxcbiAgICAgICAgICAgICAgZXJyb3I6IGVyci5lcnJvcixcbiAgICAgICAgICAgICAgZmlsZW5hbWU6IGVyci5maWxlbmFtZSxcbiAgICAgICAgICAgICAgbGluZW5vOiBlcnIubGluZW5vLFxuICAgICAgICAgICAgICBtZXNzYWdlOiBlcnIubWVzc2FnZVxuICAgICAgICAgICAgfSlcbiAgICAgICAgICApXG4gICAgICAgIH1cbiAgICAgIH0pXG4gICAgfSxcbiAgICBvbk1lc3NhZ2UoaGFuZGxlcikge1xuICAgICAgc29ja2V0LmFkZEV2ZW50TGlzdGVuZXIoJ21lc3NhZ2UnLCAobWVzc2FnZTogeyBkYXRhOiBhbnkgfSkgPT4ge1xuICAgICAgICBoYW5kbGVyKG1lc3NhZ2UuZGF0YSlcbiAgICAgIH0pXG4gICAgfSxcbiAgICBzZW5kTWVzc2FnZShtZXNzYWdlOiBhbnkpIHtcbiAgICAgIGNvbnN0IHRvU2VuZCA9IG1lc3NhZ2UgaW5zdGFuY2VvZiBVaW50OEFycmF5ID8gbWVzc2FnZS5idWZmZXIgOiBtZXNzYWdlXG5cbiAgICAgIGlmIChzb2NrZXQucmVhZHlTdGF0ZSA9PT0gc29ja2V0Lk9QRU4pIHtcbiAgICAgICAgc2VuZCh0b1NlbmQpXG4gICAgICB9IGVsc2Uge1xuICAgICAgICBxdWV1ZS5wdXNoKHRvU2VuZClcbiAgICAgIH1cbiAgICB9LFxuICAgIGNsb3NlKCkge1xuICAgICAgc29ja2V0LmNsb3NlKClcbiAgICB9XG4gIH1cblxuICByZXR1cm4gYXBpXG59XG4iXX0=\n\n//# sourceURL=webpack:///./node_modules/decentraland-rpc/lib/common/transports/WebSocket.js?");

/***/ }),

/***/ "./node_modules/decentraland-rpc/lib/common/transports/WebWorker.js":
/*!**************************************************************************!*\
  !*** ./node_modules/decentraland-rpc/lib/common/transports/WebWorker.js ***!
  \**************************************************************************/
/*! exports provided: WebWorkerTransport */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"WebWorkerTransport\", function() { return WebWorkerTransport; });\nfunction WebWorkerTransport(worker) {\n    const api = {\n        onConnect(handler) {\n            worker.addEventListener('message', () => handler(), { once: true });\n        },\n        onError(handler) {\n            worker.addEventListener('error', (err) => {\n                if (err.error) {\n                    handler(err.error);\n                }\n                else if (err.message) {\n                    handler(Object.assign(new Error(err.message), {\n                        colno: err.colno,\n                        error: err.error,\n                        filename: err.filename,\n                        lineno: err.lineno,\n                        message: err.message\n                    }));\n                }\n            });\n        },\n        onMessage(handler) {\n            worker.addEventListener('message', (message) => {\n                handler(message.data);\n            });\n        },\n        sendMessage(message) {\n            worker.postMessage(message);\n        },\n        close() {\n            if ('terminate' in worker) {\n                ;\n                worker.terminate();\n            }\n            else if ('close' in worker) {\n                ;\n                worker.close();\n            }\n        }\n    };\n    return api;\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiV2ViV29ya2VyLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vc3JjL2NvbW1vbi90cmFuc3BvcnRzL1dlYldvcmtlci50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFTQSxNQUFNLFVBQVUsa0JBQWtCLENBQUMsTUFBZTtJQUNoRCxNQUFNLEdBQUcsR0FBdUI7UUFDOUIsU0FBUyxDQUFDLE9BQU87WUFDZixNQUFNLENBQUMsZ0JBQWdCLENBQUMsU0FBUyxFQUFFLEdBQUcsRUFBRSxDQUFDLE9BQU8sRUFBRSxFQUFFLEVBQUUsSUFBSSxFQUFFLElBQUksRUFBRSxDQUFDLENBQUE7UUFDckUsQ0FBQztRQUNELE9BQU8sQ0FBQyxPQUFPO1lBQ2IsTUFBTSxDQUFDLGdCQUFnQixDQUFDLE9BQU8sRUFBRSxDQUFDLEdBQWUsRUFBRSxFQUFFO2dCQUNuRCxJQUFJLEdBQUcsQ0FBQyxLQUFLLEVBQUU7b0JBQ2IsT0FBTyxDQUFDLEdBQUcsQ0FBQyxLQUFLLENBQUMsQ0FBQTtpQkFDbkI7cUJBQU0sSUFBSSxHQUFHLENBQUMsT0FBTyxFQUFFO29CQUN0QixPQUFPLENBQ0wsTUFBTSxDQUFDLE1BQU0sQ0FBQyxJQUFJLEtBQUssQ0FBQyxHQUFHLENBQUMsT0FBTyxDQUFDLEVBQUU7d0JBQ3BDLEtBQUssRUFBRSxHQUFHLENBQUMsS0FBSzt3QkFDaEIsS0FBSyxFQUFFLEdBQUcsQ0FBQyxLQUFLO3dCQUNoQixRQUFRLEVBQUUsR0FBRyxDQUFDLFFBQVE7d0JBQ3RCLE1BQU0sRUFBRSxHQUFHLENBQUMsTUFBTTt3QkFDbEIsT0FBTyxFQUFFLEdBQUcsQ0FBQyxPQUFPO3FCQUNyQixDQUFDLENBQ0gsQ0FBQTtpQkFDRjtZQUNILENBQUMsQ0FBQyxDQUFBO1FBQ0osQ0FBQztRQUNELFNBQVMsQ0FBQyxPQUFPO1lBQ2YsTUFBTSxDQUFDLGdCQUFnQixDQUFDLFNBQVMsRUFBRSxDQUFDLE9BQXFCLEVBQUUsRUFBRTtnQkFDM0QsT0FBTyxDQUFDLE9BQU8sQ0FBQyxJQUFJLENBQUMsQ0FBQTtZQUN2QixDQUFDLENBQUMsQ0FBQTtRQUNKLENBQUM7UUFDRCxXQUFXLENBQUMsT0FBTztZQUNqQixNQUFNLENBQUMsV0FBVyxDQUFDLE9BQU8sQ0FBQyxDQUFBO1FBQzdCLENBQUM7UUFDRCxLQUFLO1lBQ0gsSUFBSSxXQUFXLElBQUksTUFBTSxFQUFFO2dCQUV6QixDQUFDO2dCQUFDLE1BQWMsQ0FBQyxTQUFTLEVBQUUsQ0FBQTthQUM3QjtpQkFBTSxJQUFJLE9BQU8sSUFBSSxNQUFNLEVBQUU7Z0JBRTVCLENBQUM7Z0JBQUMsTUFBYyxDQUFDLEtBQUssRUFBRSxDQUFBO2FBQ3pCO1FBQ0gsQ0FBQztLQUNGLENBQUE7SUFFRCxPQUFPLEdBQUcsQ0FBQTtBQUNaLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBTY3JpcHRpbmdUcmFuc3BvcnQgfSBmcm9tICcuLi9qc29uLXJwYy90eXBlcydcblxuZXhwb3J0IGludGVyZmFjZSBJV29ya2VyIHtcbiAgdGVybWluYXRlPygpOiB2b2lkXG4gIGNsb3NlPygpOiB2b2lkXG4gIHBvc3RNZXNzYWdlKG1lc3NhZ2U6IGFueSk6IHZvaWRcbiAgYWRkRXZlbnRMaXN0ZW5lcih0eXBlOiAnbWVzc2FnZScgfCAnZXJyb3InLCBsaXN0ZW5lcjogRnVuY3Rpb24sIG9wdGlvbnM/OiBhbnkpOiB2b2lkXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBXZWJXb3JrZXJUcmFuc3BvcnQod29ya2VyOiBJV29ya2VyKTogU2NyaXB0aW5nVHJhbnNwb3J0IHtcbiAgY29uc3QgYXBpOiBTY3JpcHRpbmdUcmFuc3BvcnQgPSB7XG4gICAgb25Db25uZWN0KGhhbmRsZXIpIHtcbiAgICAgIHdvcmtlci5hZGRFdmVudExpc3RlbmVyKCdtZXNzYWdlJywgKCkgPT4gaGFuZGxlcigpLCB7IG9uY2U6IHRydWUgfSlcbiAgICB9LFxuICAgIG9uRXJyb3IoaGFuZGxlcikge1xuICAgICAgd29ya2VyLmFkZEV2ZW50TGlzdGVuZXIoJ2Vycm9yJywgKGVycjogRXJyb3JFdmVudCkgPT4ge1xuICAgICAgICBpZiAoZXJyLmVycm9yKSB7XG4gICAgICAgICAgaGFuZGxlcihlcnIuZXJyb3IpXG4gICAgICAgIH0gZWxzZSBpZiAoZXJyLm1lc3NhZ2UpIHtcbiAgICAgICAgICBoYW5kbGVyKFxuICAgICAgICAgICAgT2JqZWN0LmFzc2lnbihuZXcgRXJyb3IoZXJyLm1lc3NhZ2UpLCB7XG4gICAgICAgICAgICAgIGNvbG5vOiBlcnIuY29sbm8sXG4gICAgICAgICAgICAgIGVycm9yOiBlcnIuZXJyb3IsXG4gICAgICAgICAgICAgIGZpbGVuYW1lOiBlcnIuZmlsZW5hbWUsXG4gICAgICAgICAgICAgIGxpbmVubzogZXJyLmxpbmVubyxcbiAgICAgICAgICAgICAgbWVzc2FnZTogZXJyLm1lc3NhZ2VcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgKVxuICAgICAgICB9XG4gICAgICB9KVxuICAgIH0sXG4gICAgb25NZXNzYWdlKGhhbmRsZXIpIHtcbiAgICAgIHdvcmtlci5hZGRFdmVudExpc3RlbmVyKCdtZXNzYWdlJywgKG1lc3NhZ2U6IE1lc3NhZ2VFdmVudCkgPT4ge1xuICAgICAgICBoYW5kbGVyKG1lc3NhZ2UuZGF0YSlcbiAgICAgIH0pXG4gICAgfSxcbiAgICBzZW5kTWVzc2FnZShtZXNzYWdlKSB7XG4gICAgICB3b3JrZXIucG9zdE1lc3NhZ2UobWVzc2FnZSlcbiAgICB9LFxuICAgIGNsb3NlKCkge1xuICAgICAgaWYgKCd0ZXJtaW5hdGUnIGluIHdvcmtlcikge1xuICAgICAgICAvLyB0c2xpbnQ6ZGlzYWJsZS1uZXh0LWxpbmU6c2VtaWNvbG9uXG4gICAgICAgIDsod29ya2VyIGFzIGFueSkudGVybWluYXRlKClcbiAgICAgIH0gZWxzZSBpZiAoJ2Nsb3NlJyBpbiB3b3JrZXIpIHtcbiAgICAgICAgLy8gdHNsaW50OmRpc2FibGUtbmV4dC1saW5lOnNlbWljb2xvblxuICAgICAgICA7KHdvcmtlciBhcyBhbnkpLmNsb3NlKClcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICByZXR1cm4gYXBpXG59XG4iXX0=\n\n//# sourceURL=webpack:///./node_modules/decentraland-rpc/lib/common/transports/WebWorker.js?");

/***/ }),

/***/ "./node_modules/decode-uri-component/index.js":
/*!****************************************************!*\
  !*** ./node_modules/decode-uri-component/index.js ***!
  \****************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\nvar token = '%[a-f0-9]{2}';\nvar singleMatcher = new RegExp(token, 'gi');\nvar multiMatcher = new RegExp('(' + token + ')+', 'gi');\n\nfunction decodeComponents(components, split) {\n\ttry {\n\t\t// Try to decode the entire string first\n\t\treturn decodeURIComponent(components.join(''));\n\t} catch (err) {\n\t\t// Do nothing\n\t}\n\n\tif (components.length === 1) {\n\t\treturn components;\n\t}\n\n\tsplit = split || 1;\n\n\t// Split the array in 2 parts\n\tvar left = components.slice(0, split);\n\tvar right = components.slice(split);\n\n\treturn Array.prototype.concat.call([], decodeComponents(left), decodeComponents(right));\n}\n\nfunction decode(input) {\n\ttry {\n\t\treturn decodeURIComponent(input);\n\t} catch (err) {\n\t\tvar tokens = input.match(singleMatcher);\n\n\t\tfor (var i = 1; i < tokens.length; i++) {\n\t\t\tinput = decodeComponents(tokens, i).join('');\n\n\t\t\ttokens = input.match(singleMatcher);\n\t\t}\n\n\t\treturn input;\n\t}\n}\n\nfunction customDecodeURIComponent(input) {\n\t// Keep track of all the replacements and prefill the map with the `BOM`\n\tvar replaceMap = {\n\t\t'%FE%FF': '\\uFFFD\\uFFFD',\n\t\t'%FF%FE': '\\uFFFD\\uFFFD'\n\t};\n\n\tvar match = multiMatcher.exec(input);\n\twhile (match) {\n\t\ttry {\n\t\t\t// Decode as big chunks as possible\n\t\t\treplaceMap[match[0]] = decodeURIComponent(match[0]);\n\t\t} catch (err) {\n\t\t\tvar result = decode(match[0]);\n\n\t\t\tif (result !== match[0]) {\n\t\t\t\treplaceMap[match[0]] = result;\n\t\t\t}\n\t\t}\n\n\t\tmatch = multiMatcher.exec(input);\n\t}\n\n\t// Add `%C2` at the end of the map to make sure it does not replace the combinator before everything else\n\treplaceMap['%C2'] = '\\uFFFD';\n\n\tvar entries = Object.keys(replaceMap);\n\n\tfor (var i = 0; i < entries.length; i++) {\n\t\t// Replace all decoded components\n\t\tvar key = entries[i];\n\t\tinput = input.replace(new RegExp(key, 'g'), replaceMap[key]);\n\t}\n\n\treturn input;\n}\n\nmodule.exports = function (encodedURI) {\n\tif (typeof encodedURI !== 'string') {\n\t\tthrow new TypeError('Expected `encodedURI` to be of type `string`, got `' + typeof encodedURI + '`');\n\t}\n\n\ttry {\n\t\tencodedURI = encodedURI.replace(/\\+/g, ' ');\n\n\t\t// Try the built in decoder first\n\t\treturn decodeURIComponent(encodedURI);\n\t} catch (err) {\n\t\t// Fallback to a more advanced decoder\n\t\treturn customDecodeURIComponent(encodedURI);\n\t}\n};\n\n\n//# sourceURL=webpack:///./node_modules/decode-uri-component/index.js?");

/***/ }),

/***/ "./node_modules/events/events.js":
/*!***************************************!*\
  !*** ./node_modules/events/events.js ***!
  \***************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n\n\nvar R = typeof Reflect === 'object' ? Reflect : null\nvar ReflectApply = R && typeof R.apply === 'function'\n  ? R.apply\n  : function ReflectApply(target, receiver, args) {\n    return Function.prototype.apply.call(target, receiver, args);\n  }\n\nvar ReflectOwnKeys\nif (R && typeof R.ownKeys === 'function') {\n  ReflectOwnKeys = R.ownKeys\n} else if (Object.getOwnPropertySymbols) {\n  ReflectOwnKeys = function ReflectOwnKeys(target) {\n    return Object.getOwnPropertyNames(target)\n      .concat(Object.getOwnPropertySymbols(target));\n  };\n} else {\n  ReflectOwnKeys = function ReflectOwnKeys(target) {\n    return Object.getOwnPropertyNames(target);\n  };\n}\n\nfunction ProcessEmitWarning(warning) {\n  if (console && console.warn) console.warn(warning);\n}\n\nvar NumberIsNaN = Number.isNaN || function NumberIsNaN(value) {\n  return value !== value;\n}\n\nfunction EventEmitter() {\n  EventEmitter.init.call(this);\n}\nmodule.exports = EventEmitter;\n\n// Backwards-compat with node 0.10.x\nEventEmitter.EventEmitter = EventEmitter;\n\nEventEmitter.prototype._events = undefined;\nEventEmitter.prototype._eventsCount = 0;\nEventEmitter.prototype._maxListeners = undefined;\n\n// By default EventEmitters will print a warning if more than 10 listeners are\n// added to it. This is a useful default which helps finding memory leaks.\nvar defaultMaxListeners = 10;\n\nObject.defineProperty(EventEmitter, 'defaultMaxListeners', {\n  enumerable: true,\n  get: function() {\n    return defaultMaxListeners;\n  },\n  set: function(arg) {\n    if (typeof arg !== 'number' || arg < 0 || NumberIsNaN(arg)) {\n      throw new RangeError('The value of \"defaultMaxListeners\" is out of range. It must be a non-negative number. Received ' + arg + '.');\n    }\n    defaultMaxListeners = arg;\n  }\n});\n\nEventEmitter.init = function() {\n\n  if (this._events === undefined ||\n      this._events === Object.getPrototypeOf(this)._events) {\n    this._events = Object.create(null);\n    this._eventsCount = 0;\n  }\n\n  this._maxListeners = this._maxListeners || undefined;\n};\n\n// Obviously not all Emitters should be limited to 10. This function allows\n// that to be increased. Set to zero for unlimited.\nEventEmitter.prototype.setMaxListeners = function setMaxListeners(n) {\n  if (typeof n !== 'number' || n < 0 || NumberIsNaN(n)) {\n    throw new RangeError('The value of \"n\" is out of range. It must be a non-negative number. Received ' + n + '.');\n  }\n  this._maxListeners = n;\n  return this;\n};\n\nfunction $getMaxListeners(that) {\n  if (that._maxListeners === undefined)\n    return EventEmitter.defaultMaxListeners;\n  return that._maxListeners;\n}\n\nEventEmitter.prototype.getMaxListeners = function getMaxListeners() {\n  return $getMaxListeners(this);\n};\n\nEventEmitter.prototype.emit = function emit(type) {\n  var args = [];\n  for (var i = 1; i < arguments.length; i++) args.push(arguments[i]);\n  var doError = (type === 'error');\n\n  var events = this._events;\n  if (events !== undefined)\n    doError = (doError && events.error === undefined);\n  else if (!doError)\n    return false;\n\n  // If there is no 'error' event listener then throw.\n  if (doError) {\n    var er;\n    if (args.length > 0)\n      er = args[0];\n    if (er instanceof Error) {\n      // Note: The comments on the `throw` lines are intentional, they show\n      // up in Node's output if this results in an unhandled exception.\n      throw er; // Unhandled 'error' event\n    }\n    // At least give some kind of context to the user\n    var err = new Error('Unhandled error.' + (er ? ' (' + er.message + ')' : ''));\n    err.context = er;\n    throw err; // Unhandled 'error' event\n  }\n\n  var handler = events[type];\n\n  if (handler === undefined)\n    return false;\n\n  if (typeof handler === 'function') {\n    ReflectApply(handler, this, args);\n  } else {\n    var len = handler.length;\n    var listeners = arrayClone(handler, len);\n    for (var i = 0; i < len; ++i)\n      ReflectApply(listeners[i], this, args);\n  }\n\n  return true;\n};\n\nfunction _addListener(target, type, listener, prepend) {\n  var m;\n  var events;\n  var existing;\n\n  if (typeof listener !== 'function') {\n    throw new TypeError('The \"listener\" argument must be of type Function. Received type ' + typeof listener);\n  }\n\n  events = target._events;\n  if (events === undefined) {\n    events = target._events = Object.create(null);\n    target._eventsCount = 0;\n  } else {\n    // To avoid recursion in the case that type === \"newListener\"! Before\n    // adding it to the listeners, first emit \"newListener\".\n    if (events.newListener !== undefined) {\n      target.emit('newListener', type,\n                  listener.listener ? listener.listener : listener);\n\n      // Re-assign `events` because a newListener handler could have caused the\n      // this._events to be assigned to a new object\n      events = target._events;\n    }\n    existing = events[type];\n  }\n\n  if (existing === undefined) {\n    // Optimize the case of one listener. Don't need the extra array object.\n    existing = events[type] = listener;\n    ++target._eventsCount;\n  } else {\n    if (typeof existing === 'function') {\n      // Adding the second element, need to change to array.\n      existing = events[type] =\n        prepend ? [listener, existing] : [existing, listener];\n      // If we've already got an array, just append.\n    } else if (prepend) {\n      existing.unshift(listener);\n    } else {\n      existing.push(listener);\n    }\n\n    // Check for listener leak\n    m = $getMaxListeners(target);\n    if (m > 0 && existing.length > m && !existing.warned) {\n      existing.warned = true;\n      // No error code for this since it is a Warning\n      // eslint-disable-next-line no-restricted-syntax\n      var w = new Error('Possible EventEmitter memory leak detected. ' +\n                          existing.length + ' ' + String(type) + ' listeners ' +\n                          'added. Use emitter.setMaxListeners() to ' +\n                          'increase limit');\n      w.name = 'MaxListenersExceededWarning';\n      w.emitter = target;\n      w.type = type;\n      w.count = existing.length;\n      ProcessEmitWarning(w);\n    }\n  }\n\n  return target;\n}\n\nEventEmitter.prototype.addListener = function addListener(type, listener) {\n  return _addListener(this, type, listener, false);\n};\n\nEventEmitter.prototype.on = EventEmitter.prototype.addListener;\n\nEventEmitter.prototype.prependListener =\n    function prependListener(type, listener) {\n      return _addListener(this, type, listener, true);\n    };\n\nfunction onceWrapper() {\n  var args = [];\n  for (var i = 0; i < arguments.length; i++) args.push(arguments[i]);\n  if (!this.fired) {\n    this.target.removeListener(this.type, this.wrapFn);\n    this.fired = true;\n    ReflectApply(this.listener, this.target, args);\n  }\n}\n\nfunction _onceWrap(target, type, listener) {\n  var state = { fired: false, wrapFn: undefined, target: target, type: type, listener: listener };\n  var wrapped = onceWrapper.bind(state);\n  wrapped.listener = listener;\n  state.wrapFn = wrapped;\n  return wrapped;\n}\n\nEventEmitter.prototype.once = function once(type, listener) {\n  if (typeof listener !== 'function') {\n    throw new TypeError('The \"listener\" argument must be of type Function. Received type ' + typeof listener);\n  }\n  this.on(type, _onceWrap(this, type, listener));\n  return this;\n};\n\nEventEmitter.prototype.prependOnceListener =\n    function prependOnceListener(type, listener) {\n      if (typeof listener !== 'function') {\n        throw new TypeError('The \"listener\" argument must be of type Function. Received type ' + typeof listener);\n      }\n      this.prependListener(type, _onceWrap(this, type, listener));\n      return this;\n    };\n\n// Emits a 'removeListener' event if and only if the listener was removed.\nEventEmitter.prototype.removeListener =\n    function removeListener(type, listener) {\n      var list, events, position, i, originalListener;\n\n      if (typeof listener !== 'function') {\n        throw new TypeError('The \"listener\" argument must be of type Function. Received type ' + typeof listener);\n      }\n\n      events = this._events;\n      if (events === undefined)\n        return this;\n\n      list = events[type];\n      if (list === undefined)\n        return this;\n\n      if (list === listener || list.listener === listener) {\n        if (--this._eventsCount === 0)\n          this._events = Object.create(null);\n        else {\n          delete events[type];\n          if (events.removeListener)\n            this.emit('removeListener', type, list.listener || listener);\n        }\n      } else if (typeof list !== 'function') {\n        position = -1;\n\n        for (i = list.length - 1; i >= 0; i--) {\n          if (list[i] === listener || list[i].listener === listener) {\n            originalListener = list[i].listener;\n            position = i;\n            break;\n          }\n        }\n\n        if (position < 0)\n          return this;\n\n        if (position === 0)\n          list.shift();\n        else {\n          spliceOne(list, position);\n        }\n\n        if (list.length === 1)\n          events[type] = list[0];\n\n        if (events.removeListener !== undefined)\n          this.emit('removeListener', type, originalListener || listener);\n      }\n\n      return this;\n    };\n\nEventEmitter.prototype.off = EventEmitter.prototype.removeListener;\n\nEventEmitter.prototype.removeAllListeners =\n    function removeAllListeners(type) {\n      var listeners, events, i;\n\n      events = this._events;\n      if (events === undefined)\n        return this;\n\n      // not listening for removeListener, no need to emit\n      if (events.removeListener === undefined) {\n        if (arguments.length === 0) {\n          this._events = Object.create(null);\n          this._eventsCount = 0;\n        } else if (events[type] !== undefined) {\n          if (--this._eventsCount === 0)\n            this._events = Object.create(null);\n          else\n            delete events[type];\n        }\n        return this;\n      }\n\n      // emit removeListener for all listeners on all events\n      if (arguments.length === 0) {\n        var keys = Object.keys(events);\n        var key;\n        for (i = 0; i < keys.length; ++i) {\n          key = keys[i];\n          if (key === 'removeListener') continue;\n          this.removeAllListeners(key);\n        }\n        this.removeAllListeners('removeListener');\n        this._events = Object.create(null);\n        this._eventsCount = 0;\n        return this;\n      }\n\n      listeners = events[type];\n\n      if (typeof listeners === 'function') {\n        this.removeListener(type, listeners);\n      } else if (listeners !== undefined) {\n        // LIFO order\n        for (i = listeners.length - 1; i >= 0; i--) {\n          this.removeListener(type, listeners[i]);\n        }\n      }\n\n      return this;\n    };\n\nfunction _listeners(target, type, unwrap) {\n  var events = target._events;\n\n  if (events === undefined)\n    return [];\n\n  var evlistener = events[type];\n  if (evlistener === undefined)\n    return [];\n\n  if (typeof evlistener === 'function')\n    return unwrap ? [evlistener.listener || evlistener] : [evlistener];\n\n  return unwrap ?\n    unwrapListeners(evlistener) : arrayClone(evlistener, evlistener.length);\n}\n\nEventEmitter.prototype.listeners = function listeners(type) {\n  return _listeners(this, type, true);\n};\n\nEventEmitter.prototype.rawListeners = function rawListeners(type) {\n  return _listeners(this, type, false);\n};\n\nEventEmitter.listenerCount = function(emitter, type) {\n  if (typeof emitter.listenerCount === 'function') {\n    return emitter.listenerCount(type);\n  } else {\n    return listenerCount.call(emitter, type);\n  }\n};\n\nEventEmitter.prototype.listenerCount = listenerCount;\nfunction listenerCount(type) {\n  var events = this._events;\n\n  if (events !== undefined) {\n    var evlistener = events[type];\n\n    if (typeof evlistener === 'function') {\n      return 1;\n    } else if (evlistener !== undefined) {\n      return evlistener.length;\n    }\n  }\n\n  return 0;\n}\n\nEventEmitter.prototype.eventNames = function eventNames() {\n  return this._eventsCount > 0 ? ReflectOwnKeys(this._events) : [];\n};\n\nfunction arrayClone(arr, n) {\n  var copy = new Array(n);\n  for (var i = 0; i < n; ++i)\n    copy[i] = arr[i];\n  return copy;\n}\n\nfunction spliceOne(list, index) {\n  for (; index + 1 < list.length; index++)\n    list[index] = list[index + 1];\n  list.pop();\n}\n\nfunction unwrapListeners(arr) {\n  var ret = new Array(arr.length);\n  for (var i = 0; i < ret.length; ++i) {\n    ret[i] = arr[i].listener || arr[i];\n  }\n  return ret;\n}\n\n\n//# sourceURL=webpack:///./node_modules/events/events.js?");

/***/ }),

/***/ "./node_modules/fp-future/index.js":
/*!*****************************************!*\
  !*** ./node_modules/fp-future/index.js ***!
  \*****************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\nObject.defineProperty(exports, \"__esModule\", { value: true });\nfunction future() {\n    let resolver;\n    let rejecter;\n    const promise = new Promise((ok, err) => {\n        resolver = (x) => {\n            ok(x);\n            promise.isPending = false;\n        };\n        rejecter = (x) => {\n            err(x);\n            promise.isPending = false;\n        };\n    }).catch(e => Promise.reject(e));\n    promise.resolve = resolver;\n    promise.reject = rejecter;\n    if (!(\"finally\" in promise)) {\n        promise.finally = fn => {\n            promise.then(fn);\n            promise.catch(fn);\n        };\n    }\n    promise.isPending = true;\n    return promise;\n}\nexports.future = future;\nexports.default = future;\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW5kZXguanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyJpbmRleC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOztBQU9BLFNBQWdCLE1BQU07SUFDcEIsSUFBSSxRQUF3QixDQUFDO0lBQzdCLElBQUksUUFBNEIsQ0FBQztJQUVqQyxNQUFNLE9BQU8sR0FBUSxJQUFJLE9BQU8sQ0FBQyxDQUFDLEVBQUUsRUFBRSxHQUFHLEVBQUUsRUFBRTtRQUMzQyxRQUFRLEdBQUcsQ0FBQyxDQUFJLEVBQUUsRUFBRTtZQUNsQixFQUFFLENBQUMsQ0FBQyxDQUFDLENBQUM7WUFDTixPQUFPLENBQUMsU0FBUyxHQUFHLEtBQUssQ0FBQztRQUM1QixDQUFDLENBQUM7UUFDRixRQUFRLEdBQUcsQ0FBQyxDQUFRLEVBQUUsRUFBRTtZQUN0QixHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUM7WUFDUCxPQUFPLENBQUMsU0FBUyxHQUFHLEtBQUssQ0FBQztRQUM1QixDQUFDLENBQUM7SUFDSixDQUFDLENBQUMsQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxPQUFPLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7SUFFakMsT0FBTyxDQUFDLE9BQU8sR0FBRyxRQUFRLENBQUM7SUFDM0IsT0FBTyxDQUFDLE1BQU0sR0FBRyxRQUFRLENBQUM7SUFFMUIsSUFBSSxDQUFDLENBQUMsU0FBUyxJQUFJLE9BQU8sQ0FBQyxFQUFFO1FBQzNCLE9BQU8sQ0FBQyxPQUFPLEdBQUcsRUFBRSxDQUFDLEVBQUU7WUFDckIsT0FBTyxDQUFDLElBQUksQ0FBQyxFQUFFLENBQUMsQ0FBQztZQUNqQixPQUFPLENBQUMsS0FBSyxDQUFDLEVBQUUsQ0FBQyxDQUFDO1FBQ3BCLENBQUMsQ0FBQztLQUNIO0lBRUQsT0FBTyxDQUFDLFNBQVMsR0FBRyxJQUFJLENBQUM7SUFFekIsT0FBTyxPQUFxQixDQUFDO0FBQy9CLENBQUM7QUE1QkQsd0JBNEJDO0FBRUQsa0JBQWUsTUFBTSxDQUFDIiwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IHR5cGUgSUZ1dHVyZTxUPiA9IFByb21pc2U8VD4gJiB7XG4gIHJlc29sdmU6ICh4OiBUKSA9PiB2b2lkO1xuICByZWplY3Q6ICh4OiBFcnJvcikgPT4gdm9pZDtcbiAgZmluYWxseTogKGZuOiAoKSA9PiB2b2lkKSA9PiB2b2lkO1xuICBpc1BlbmRpbmc6IGJvb2xlYW47XG59O1xuXG5leHBvcnQgZnVuY3Rpb24gZnV0dXJlPFQgPSBhbnk+KCk6IElGdXR1cmU8VD4ge1xuICBsZXQgcmVzb2x2ZXI6ICh4OiBUKSA9PiB2b2lkO1xuICBsZXQgcmVqZWN0ZXI6ICh4OiBFcnJvcikgPT4gdm9pZDtcblxuICBjb25zdCBwcm9taXNlOiBhbnkgPSBuZXcgUHJvbWlzZSgob2ssIGVycikgPT4ge1xuICAgIHJlc29sdmVyID0gKHg6IFQpID0+IHtcbiAgICAgIG9rKHgpO1xuICAgICAgcHJvbWlzZS5pc1BlbmRpbmcgPSBmYWxzZTtcbiAgICB9O1xuICAgIHJlamVjdGVyID0gKHg6IEVycm9yKSA9PiB7XG4gICAgICBlcnIoeCk7XG4gICAgICBwcm9taXNlLmlzUGVuZGluZyA9IGZhbHNlO1xuICAgIH07XG4gIH0pLmNhdGNoKGUgPT4gUHJvbWlzZS5yZWplY3QoZSkpO1xuXG4gIHByb21pc2UucmVzb2x2ZSA9IHJlc29sdmVyO1xuICBwcm9taXNlLnJlamVjdCA9IHJlamVjdGVyO1xuXG4gIGlmICghKFwiZmluYWxseVwiIGluIHByb21pc2UpKSB7XG4gICAgcHJvbWlzZS5maW5hbGx5ID0gZm4gPT4ge1xuICAgICAgcHJvbWlzZS50aGVuKGZuKTtcbiAgICAgIHByb21pc2UuY2F0Y2goZm4pO1xuICAgIH07XG4gIH1cblxuICBwcm9taXNlLmlzUGVuZGluZyA9IHRydWU7XG5cbiAgcmV0dXJuIHByb21pc2UgYXMgSUZ1dHVyZTxUPjtcbn1cblxuZXhwb3J0IGRlZmF1bHQgZnV0dXJlO1xuIl19\n\n//# sourceURL=webpack:///./node_modules/fp-future/index.js?");

/***/ }),

/***/ "./node_modules/object-assign/index.js":
/*!*********************************************!*\
  !*** ./node_modules/object-assign/index.js ***!
  \*********************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("/*\nobject-assign\n(c) Sindre Sorhus\n@license MIT\n*/\n\n\n/* eslint-disable no-unused-vars */\nvar getOwnPropertySymbols = Object.getOwnPropertySymbols;\nvar hasOwnProperty = Object.prototype.hasOwnProperty;\nvar propIsEnumerable = Object.prototype.propertyIsEnumerable;\n\nfunction toObject(val) {\n\tif (val === null || val === undefined) {\n\t\tthrow new TypeError('Object.assign cannot be called with null or undefined');\n\t}\n\n\treturn Object(val);\n}\n\nfunction shouldUseNative() {\n\ttry {\n\t\tif (!Object.assign) {\n\t\t\treturn false;\n\t\t}\n\n\t\t// Detect buggy property enumeration order in older V8 versions.\n\n\t\t// https://bugs.chromium.org/p/v8/issues/detail?id=4118\n\t\tvar test1 = new String('abc');  // eslint-disable-line no-new-wrappers\n\t\ttest1[5] = 'de';\n\t\tif (Object.getOwnPropertyNames(test1)[0] === '5') {\n\t\t\treturn false;\n\t\t}\n\n\t\t// https://bugs.chromium.org/p/v8/issues/detail?id=3056\n\t\tvar test2 = {};\n\t\tfor (var i = 0; i < 10; i++) {\n\t\t\ttest2['_' + String.fromCharCode(i)] = i;\n\t\t}\n\t\tvar order2 = Object.getOwnPropertyNames(test2).map(function (n) {\n\t\t\treturn test2[n];\n\t\t});\n\t\tif (order2.join('') !== '0123456789') {\n\t\t\treturn false;\n\t\t}\n\n\t\t// https://bugs.chromium.org/p/v8/issues/detail?id=3056\n\t\tvar test3 = {};\n\t\t'abcdefghijklmnopqrst'.split('').forEach(function (letter) {\n\t\t\ttest3[letter] = letter;\n\t\t});\n\t\tif (Object.keys(Object.assign({}, test3)).join('') !==\n\t\t\t\t'abcdefghijklmnopqrst') {\n\t\t\treturn false;\n\t\t}\n\n\t\treturn true;\n\t} catch (err) {\n\t\t// We don't expect any of the above to throw, but better to be safe.\n\t\treturn false;\n\t}\n}\n\nmodule.exports = shouldUseNative() ? Object.assign : function (target, source) {\n\tvar from;\n\tvar to = toObject(target);\n\tvar symbols;\n\n\tfor (var s = 1; s < arguments.length; s++) {\n\t\tfrom = Object(arguments[s]);\n\n\t\tfor (var key in from) {\n\t\t\tif (hasOwnProperty.call(from, key)) {\n\t\t\t\tto[key] = from[key];\n\t\t\t}\n\t\t}\n\n\t\tif (getOwnPropertySymbols) {\n\t\t\tsymbols = getOwnPropertySymbols(from);\n\t\t\tfor (var i = 0; i < symbols.length; i++) {\n\t\t\t\tif (propIsEnumerable.call(from, symbols[i])) {\n\t\t\t\t\tto[symbols[i]] = from[symbols[i]];\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\treturn to;\n};\n\n\n//# sourceURL=webpack:///./node_modules/object-assign/index.js?");

/***/ }),

/***/ "./node_modules/query-string/index.js":
/*!********************************************!*\
  !*** ./node_modules/query-string/index.js ***!
  \********************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\nvar strictUriEncode = __webpack_require__(/*! strict-uri-encode */ \"./node_modules/strict-uri-encode/index.js\");\nvar objectAssign = __webpack_require__(/*! object-assign */ \"./node_modules/object-assign/index.js\");\nvar decodeComponent = __webpack_require__(/*! decode-uri-component */ \"./node_modules/decode-uri-component/index.js\");\n\nfunction encoderForArrayFormat(opts) {\n\tswitch (opts.arrayFormat) {\n\t\tcase 'index':\n\t\t\treturn function (key, value, index) {\n\t\t\t\treturn value === null ? [\n\t\t\t\t\tencode(key, opts),\n\t\t\t\t\t'[',\n\t\t\t\t\tindex,\n\t\t\t\t\t']'\n\t\t\t\t].join('') : [\n\t\t\t\t\tencode(key, opts),\n\t\t\t\t\t'[',\n\t\t\t\t\tencode(index, opts),\n\t\t\t\t\t']=',\n\t\t\t\t\tencode(value, opts)\n\t\t\t\t].join('');\n\t\t\t};\n\n\t\tcase 'bracket':\n\t\t\treturn function (key, value) {\n\t\t\t\treturn value === null ? encode(key, opts) : [\n\t\t\t\t\tencode(key, opts),\n\t\t\t\t\t'[]=',\n\t\t\t\t\tencode(value, opts)\n\t\t\t\t].join('');\n\t\t\t};\n\n\t\tdefault:\n\t\t\treturn function (key, value) {\n\t\t\t\treturn value === null ? encode(key, opts) : [\n\t\t\t\t\tencode(key, opts),\n\t\t\t\t\t'=',\n\t\t\t\t\tencode(value, opts)\n\t\t\t\t].join('');\n\t\t\t};\n\t}\n}\n\nfunction parserForArrayFormat(opts) {\n\tvar result;\n\n\tswitch (opts.arrayFormat) {\n\t\tcase 'index':\n\t\t\treturn function (key, value, accumulator) {\n\t\t\t\tresult = /\\[(\\d*)\\]$/.exec(key);\n\n\t\t\t\tkey = key.replace(/\\[\\d*\\]$/, '');\n\n\t\t\t\tif (!result) {\n\t\t\t\t\taccumulator[key] = value;\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tif (accumulator[key] === undefined) {\n\t\t\t\t\taccumulator[key] = {};\n\t\t\t\t}\n\n\t\t\t\taccumulator[key][result[1]] = value;\n\t\t\t};\n\n\t\tcase 'bracket':\n\t\t\treturn function (key, value, accumulator) {\n\t\t\t\tresult = /(\\[\\])$/.exec(key);\n\t\t\t\tkey = key.replace(/\\[\\]$/, '');\n\n\t\t\t\tif (!result) {\n\t\t\t\t\taccumulator[key] = value;\n\t\t\t\t\treturn;\n\t\t\t\t} else if (accumulator[key] === undefined) {\n\t\t\t\t\taccumulator[key] = [value];\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\taccumulator[key] = [].concat(accumulator[key], value);\n\t\t\t};\n\n\t\tdefault:\n\t\t\treturn function (key, value, accumulator) {\n\t\t\t\tif (accumulator[key] === undefined) {\n\t\t\t\t\taccumulator[key] = value;\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\taccumulator[key] = [].concat(accumulator[key], value);\n\t\t\t};\n\t}\n}\n\nfunction encode(value, opts) {\n\tif (opts.encode) {\n\t\treturn opts.strict ? strictUriEncode(value) : encodeURIComponent(value);\n\t}\n\n\treturn value;\n}\n\nfunction keysSorter(input) {\n\tif (Array.isArray(input)) {\n\t\treturn input.sort();\n\t} else if (typeof input === 'object') {\n\t\treturn keysSorter(Object.keys(input)).sort(function (a, b) {\n\t\t\treturn Number(a) - Number(b);\n\t\t}).map(function (key) {\n\t\t\treturn input[key];\n\t\t});\n\t}\n\n\treturn input;\n}\n\nfunction extract(str) {\n\tvar queryStart = str.indexOf('?');\n\tif (queryStart === -1) {\n\t\treturn '';\n\t}\n\treturn str.slice(queryStart + 1);\n}\n\nfunction parse(str, opts) {\n\topts = objectAssign({arrayFormat: 'none'}, opts);\n\n\tvar formatter = parserForArrayFormat(opts);\n\n\t// Create an object with no prototype\n\t// https://github.com/sindresorhus/query-string/issues/47\n\tvar ret = Object.create(null);\n\n\tif (typeof str !== 'string') {\n\t\treturn ret;\n\t}\n\n\tstr = str.trim().replace(/^[?#&]/, '');\n\n\tif (!str) {\n\t\treturn ret;\n\t}\n\n\tstr.split('&').forEach(function (param) {\n\t\tvar parts = param.replace(/\\+/g, ' ').split('=');\n\t\t// Firefox (pre 40) decodes `%3D` to `=`\n\t\t// https://github.com/sindresorhus/query-string/pull/37\n\t\tvar key = parts.shift();\n\t\tvar val = parts.length > 0 ? parts.join('=') : undefined;\n\n\t\t// missing `=` should be `null`:\n\t\t// http://w3.org/TR/2012/WD-url-20120524/#collect-url-parameters\n\t\tval = val === undefined ? null : decodeComponent(val);\n\n\t\tformatter(decodeComponent(key), val, ret);\n\t});\n\n\treturn Object.keys(ret).sort().reduce(function (result, key) {\n\t\tvar val = ret[key];\n\t\tif (Boolean(val) && typeof val === 'object' && !Array.isArray(val)) {\n\t\t\t// Sort object keys, not values\n\t\t\tresult[key] = keysSorter(val);\n\t\t} else {\n\t\t\tresult[key] = val;\n\t\t}\n\n\t\treturn result;\n\t}, Object.create(null));\n}\n\nexports.extract = extract;\nexports.parse = parse;\n\nexports.stringify = function (obj, opts) {\n\tvar defaults = {\n\t\tencode: true,\n\t\tstrict: true,\n\t\tarrayFormat: 'none'\n\t};\n\n\topts = objectAssign(defaults, opts);\n\n\tif (opts.sort === false) {\n\t\topts.sort = function () {};\n\t}\n\n\tvar formatter = encoderForArrayFormat(opts);\n\n\treturn obj ? Object.keys(obj).sort(opts.sort).map(function (key) {\n\t\tvar val = obj[key];\n\n\t\tif (val === undefined) {\n\t\t\treturn '';\n\t\t}\n\n\t\tif (val === null) {\n\t\t\treturn encode(key, opts);\n\t\t}\n\n\t\tif (Array.isArray(val)) {\n\t\t\tvar result = [];\n\n\t\t\tval.slice().forEach(function (val2) {\n\t\t\t\tif (val2 === undefined) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tresult.push(formatter(key, val2, result.length));\n\t\t\t});\n\n\t\t\treturn result.join('&');\n\t\t}\n\n\t\treturn encode(key, opts) + '=' + encode(val, opts);\n\t}).filter(function (x) {\n\t\treturn x.length > 0;\n\t}).join('&') : '';\n};\n\nexports.parseUrl = function (str, opts) {\n\treturn {\n\t\turl: str.split('?')[0] || '',\n\t\tquery: parse(extract(str), opts)\n\t};\n};\n\n\n//# sourceURL=webpack:///./node_modules/query-string/index.js?");

/***/ }),

/***/ "./node_modules/strict-uri-encode/index.js":
/*!*************************************************!*\
  !*** ./node_modules/strict-uri-encode/index.js ***!
  \*************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\nmodule.exports = function (str) {\n\treturn encodeURIComponent(str).replace(/[!'()*]/g, function (c) {\n\t\treturn '%' + c.charCodeAt(0).toString(16).toUpperCase();\n\t});\n};\n\n\n//# sourceURL=webpack:///./node_modules/strict-uri-encode/index.js?");

/***/ }),

/***/ "./node_modules/webpack/buildin/global.js":
/*!***********************************!*\
  !*** (webpack)/buildin/global.js ***!
  \***********************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("var g;\n\n// This works in non-strict mode\ng = (function() {\n\treturn this;\n})();\n\ntry {\n\t// This works if eval is allowed (see CSP)\n\tg = g || new Function(\"return this\")();\n} catch (e) {\n\t// This works if the window reference is available\n\tif (typeof window === \"object\") g = window;\n}\n\n// g can still be undefined, but nothing to do about it...\n// We return undefined, instead of nothing here, so it's\n// easier to handle this case. if(!global) { ...}\n\nmodule.exports = g;\n\n\n//# sourceURL=webpack:///(webpack)/buildin/global.js?");

/***/ }),

/***/ "./packages/atomicHelpers/jsonFetch.ts":
/*!*********************************************!*\
  !*** ./packages/atomicHelpers/jsonFetch.ts ***!
  \*********************************************/
/*! exports provided: jsonFetch */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"jsonFetch\", function() { return jsonFetch; });\n/* harmony import */ var fp_future__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! fp-future */ \"./node_modules/fp-future/index.js\");\n/* harmony import */ var fp_future__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(fp_future__WEBPACK_IMPORTED_MODULE_0__);\n\nconst requestCache = new Map();\nasync function jsonFetch(url) {\n    if (requestCache.has(url)) {\n        return requestCache.get(url);\n    }\n    const futureCache = Object(fp_future__WEBPACK_IMPORTED_MODULE_0__[\"future\"])();\n    requestCache.set(url, futureCache);\n    fetch(url).then(async ($) => {\n        if (!$.ok) {\n            futureCache.reject(new Error('Response not ok - ' + url));\n        }\n        else {\n            try {\n                futureCache.resolve(await $.json());\n            }\n            catch (e) {\n                console['error']('Error parsing json: ' + url, $);\n                futureCache.reject(e);\n            }\n        }\n    }, e => futureCache.reject(e));\n    return futureCache;\n}\n\n\n//# sourceURL=webpack:///./packages/atomicHelpers/jsonFetch.ts?");

/***/ }),

/***/ "./packages/atomicHelpers/landHelpers.ts":
/*!***********************************************!*\
  !*** ./packages/atomicHelpers/landHelpers.ts ***!
  \***********************************************/
/*! exports provided: getParcelSceneLimits, isAdjacent, isEqual */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getParcelSceneLimits\", function() { return getParcelSceneLimits; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"isAdjacent\", function() { return isAdjacent; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"isEqual\", function() { return isEqual; });\n/* harmony import */ var config__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! config */ \"./packages/config/index.ts\");\n\nfunction getParcelSceneLimits(parcelCount) {\n    const log = Math.log2(parcelCount + 1);\n    const lineal = parcelCount;\n    return {\n        triangles: Math.floor(lineal * config__WEBPACK_IMPORTED_MODULE_0__[\"parcelLimits\"].triangles),\n        bodies: Math.floor(lineal * config__WEBPACK_IMPORTED_MODULE_0__[\"parcelLimits\"].bodies),\n        entities: Math.floor(lineal * config__WEBPACK_IMPORTED_MODULE_0__[\"parcelLimits\"].entities),\n        materials: Math.floor(log * config__WEBPACK_IMPORTED_MODULE_0__[\"parcelLimits\"].materials),\n        textures: Math.floor(log * config__WEBPACK_IMPORTED_MODULE_0__[\"parcelLimits\"].textures),\n        geometries: Math.floor(log * config__WEBPACK_IMPORTED_MODULE_0__[\"parcelLimits\"].geometries)\n    };\n}\nfunction isAdjacent(p1, p2) {\n    return ((p2.x === p1.x && (p2.y + 1 === p1.y || p2.y - 1 === p1.y)) ||\n        (p2.y === p1.y && (p2.x + 1 === p1.x || p2.x - 1 === p1.x)));\n}\nfunction isEqual(p1, p2) {\n    return p1.x === p2.x && p1.y === p2.y;\n}\n\n\n//# sourceURL=webpack:///./packages/atomicHelpers/landHelpers.ts?");

/***/ }),

/***/ "./packages/atomicHelpers/parcelScenePositions.ts":
/*!********************************************************!*\
  !*** ./packages/atomicHelpers/parcelScenePositions.ts ***!
  \********************************************************/
/*! exports provided: gridToWorld, worldToGrid, isInParcel, isOnLimits, gridToParcel, decodeParcelSceneBoundaries, encodeParcelPosition, encodeParcelSceneBoundaries, parseParcelPosition, isValidParcelSceneShape, areConnected */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"gridToWorld\", function() { return gridToWorld; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"worldToGrid\", function() { return worldToGrid; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"isInParcel\", function() { return isInParcel; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"isOnLimits\", function() { return isOnLimits; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"gridToParcel\", function() { return gridToParcel; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"decodeParcelSceneBoundaries\", function() { return decodeParcelSceneBoundaries; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"encodeParcelPosition\", function() { return encodeParcelPosition; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"encodeParcelSceneBoundaries\", function() { return encodeParcelSceneBoundaries; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"parseParcelPosition\", function() { return parseParcelPosition; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"isValidParcelSceneShape\", function() { return isValidParcelSceneShape; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"areConnected\", function() { return areConnected; });\n/* harmony import */ var config__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! config */ \"./packages/config/index.ts\");\n/* harmony import */ var _landHelpers__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./landHelpers */ \"./packages/atomicHelpers/landHelpers.ts\");\n\n\nlet auxVec3 = { x: 0, y: 0, z: 0 };\nfunction gridToWorld(x, y, target = { x: 0, y: 0, z: 0 }) {\n    target.x = x * config__WEBPACK_IMPORTED_MODULE_0__[\"parcelLimits\"].parcelSize;\n    target.y = 0;\n    target.z = y * config__WEBPACK_IMPORTED_MODULE_0__[\"parcelLimits\"].parcelSize;\n    return target;\n}\nfunction worldToGrid(vector, target = { x: 0, y: 0 }) {\n    target.x = Math.floor(vector.x / config__WEBPACK_IMPORTED_MODULE_0__[\"parcelLimits\"].parcelSize);\n    target.y = Math.floor(vector.z / config__WEBPACK_IMPORTED_MODULE_0__[\"parcelLimits\"].parcelSize);\n    return target;\n}\nconst highDelta = config__WEBPACK_IMPORTED_MODULE_0__[\"parcelLimits\"].parcelSize + config__WEBPACK_IMPORTED_MODULE_0__[\"parcelLimits\"].centimeter;\nconst lowDelta = config__WEBPACK_IMPORTED_MODULE_0__[\"parcelLimits\"].centimeter;\nfunction isInParcel(test, center) {\n    return (test.x < center.x + highDelta &&\n        test.x > center.x - lowDelta &&\n        test.z < center.z + highDelta &&\n        test.z > center.z - lowDelta);\n}\nfunction isOnLimits({ maximum, minimum }, parcels) {\n    let minInside = false;\n    let maxInside = false;\n    for (let i = 0; i < parcels.length && (!minInside || !maxInside); i++) {\n        maxInside = maxInside || isInParcel(maximum, parcels[i]);\n        minInside = minInside || isInParcel(minimum, parcels[i]);\n    }\n    return minInside && maxInside;\n}\nfunction gridToParcel(base, x, y, target) {\n    gridToWorld(base.x, base.y, auxVec3);\n    gridToWorld(x, y, target);\n    target.x -= auxVec3.x;\n    target.y -= auxVec3.y;\n    target.z -= auxVec3.z;\n}\nfunction decodeParcelSceneBoundaries(boundaries) {\n    const [base, ...parcels] = boundaries.split(/\\s*;\\s*/).map($ => parseParcelPosition($));\n    return { base, parcels };\n}\nfunction encodeParcelPosition(base) {\n    return `${base.x | 0},${base.y | 0}`;\n}\nfunction encodeParcelSceneBoundaries(base, parcels) {\n    let str = encodeParcelPosition(base);\n    for (let index = 0; index < parcels.length; index++) {\n        const parcel = parcels[index];\n        str = str + `;${encodeParcelPosition(parcel)}`;\n    }\n    return str;\n}\nfunction parseParcelPosition(position) {\n    const [x, y] = position\n        .trim()\n        .split(/\\s*,\\s*/)\n        .map($ => parseInt($, 10));\n    return { x, y };\n}\nfunction isValidParcelSceneShape(parcels) {\n    return areConnected(parcels);\n}\nfunction areConnected(parcels) {\n    if (parcels.length === 0) {\n        return false;\n    }\n    const visited = visitParcel(parcels[0], parcels);\n    return visited.length === parcels.length;\n}\nfunction visitParcel(parcel, allParcels = [parcel], visited = []) {\n    let isVisited = visited.some(visitedParcel => Object(_landHelpers__WEBPACK_IMPORTED_MODULE_1__[\"isEqual\"])(visitedParcel, parcel));\n    if (!isVisited) {\n        visited.push(parcel);\n        let neighbours = getNeighbours(parcel.x, parcel.y, allParcels);\n        neighbours.forEach(neighbours => visitParcel(neighbours, allParcels, visited));\n    }\n    return visited;\n}\nfunction getIsNeighbourMatcher(x, y) {\n    return (coords) => (coords.x === x && (coords.y + 1 === y || coords.y - 1 === y)) ||\n        (coords.y === y && (coords.x + 1 === x || coords.x - 1 === x));\n}\nfunction getNeighbours(x, y, parcels) {\n    return parcels.filter(getIsNeighbourMatcher(x, y));\n}\n\n\n//# sourceURL=webpack:///./packages/atomicHelpers/parcelScenePositions.ts?");

/***/ }),

/***/ "./packages/config/index.ts":
/*!**********************************!*\
  !*** ./packages/config/index.ts ***!
  \**********************************/
/*! exports provided: performanceConfigurations, NETWORK_HZ, interactionLimits, parcelLimits, playerConfigurations, visualConfigurations, PREVIEW, EDITOR, WORLD_EXPLORER, STATIC_WORLD, ENABLE_WEB3, ENV_OVERRIDE, USE_LOCAL_COMMS, DEBUG, DEBUG_ANALYTICS, DEBUG_MOBILE, DEBUG_MESSAGES, DEBUG_WS_MESSAGES, DEBUG_REDUX, DISABLE_AUTH, ENGINE_DEBUG_PANEL, SCENE_DEBUG_PANEL, commConfigurations, loginConfig, ETHEREUM_NETWORK, decentralandConfigurations, getTLD, knownTLDs, getExclusiveServer, ALL_WEARABLES, getLoginConfigurationForCurrentDomain, ENABLE_EMPTY_SCENES, getServerConfigurations, setNetwork, ethereumConfigurations, isRunningTest */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* WEBPACK VAR INJECTION */(function(global) {/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"performanceConfigurations\", function() { return performanceConfigurations; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"NETWORK_HZ\", function() { return NETWORK_HZ; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"interactionLimits\", function() { return interactionLimits; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"parcelLimits\", function() { return parcelLimits; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"playerConfigurations\", function() { return playerConfigurations; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"visualConfigurations\", function() { return visualConfigurations; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"PREVIEW\", function() { return PREVIEW; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"EDITOR\", function() { return EDITOR; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"WORLD_EXPLORER\", function() { return WORLD_EXPLORER; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"STATIC_WORLD\", function() { return STATIC_WORLD; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"ENABLE_WEB3\", function() { return ENABLE_WEB3; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"ENV_OVERRIDE\", function() { return ENV_OVERRIDE; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"USE_LOCAL_COMMS\", function() { return USE_LOCAL_COMMS; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"DEBUG\", function() { return DEBUG; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"DEBUG_ANALYTICS\", function() { return DEBUG_ANALYTICS; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"DEBUG_MOBILE\", function() { return DEBUG_MOBILE; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"DEBUG_MESSAGES\", function() { return DEBUG_MESSAGES; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"DEBUG_WS_MESSAGES\", function() { return DEBUG_WS_MESSAGES; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"DEBUG_REDUX\", function() { return DEBUG_REDUX; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"DISABLE_AUTH\", function() { return DISABLE_AUTH; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"ENGINE_DEBUG_PANEL\", function() { return ENGINE_DEBUG_PANEL; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"SCENE_DEBUG_PANEL\", function() { return SCENE_DEBUG_PANEL; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"commConfigurations\", function() { return commConfigurations; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"loginConfig\", function() { return loginConfig; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"ETHEREUM_NETWORK\", function() { return ETHEREUM_NETWORK; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"decentralandConfigurations\", function() { return decentralandConfigurations; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getTLD\", function() { return getTLD; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"knownTLDs\", function() { return knownTLDs; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getExclusiveServer\", function() { return getExclusiveServer; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"ALL_WEARABLES\", function() { return ALL_WEARABLES; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getLoginConfigurationForCurrentDomain\", function() { return getLoginConfigurationForCurrentDomain; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"ENABLE_EMPTY_SCENES\", function() { return ENABLE_EMPTY_SCENES; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getServerConfigurations\", function() { return getServerConfigurations; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"setNetwork\", function() { return setNetwork; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"ethereumConfigurations\", function() { return ethereumConfigurations; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"isRunningTest\", function() { return isRunningTest; });\nconst performanceConfigurations = [\n    { antialiasing: true, downsampling: 0, shadows: true },\n    { antialiasing: false, downsampling: 1, shadows: true },\n    { antialiasing: false, downsampling: 1, shadows: false },\n    { antialiasing: false, downsampling: 1, shadows: true },\n    { antialiasing: false, downsampling: 2, shadows: false }\n];\nconst NETWORK_HZ = 10;\nvar interactionLimits;\n(function (interactionLimits) {\n    interactionLimits.clickDistance = 10;\n})(interactionLimits || (interactionLimits = {}));\nvar parcelLimits;\n(function (parcelLimits) {\n    parcelLimits.entities = 200;\n    parcelLimits.triangles = 10000;\n    parcelLimits.bodies = 300;\n    parcelLimits.textures = 10;\n    parcelLimits.materials = 20;\n    parcelLimits.height = 20;\n    parcelLimits.geometries = 200;\n    parcelLimits.parcelSize = 16;\n    parcelLimits.halfParcelSize = parcelLimits.parcelSize / 2;\n    parcelLimits.centimeter = 0.01;\n    parcelLimits.visibleRadius = 4;\n    parcelLimits.secureRadius = 4;\n    parcelLimits.maxX = 3000;\n    parcelLimits.maxZ = 3000;\n    parcelLimits.minX = -3000;\n    parcelLimits.minZ = -3000;\n    parcelLimits.maxParcelX = 150;\n    parcelLimits.maxParcelZ = 150;\n    parcelLimits.minParcelX = -150;\n    parcelLimits.minParcelZ = -150;\n    parcelLimits.minLandCoordinateX = -150;\n    parcelLimits.minLandCoordinateY = -150;\n    parcelLimits.maxLandCoordinateX = 150;\n    parcelLimits.maxLandCoordinateY = 150;\n})(parcelLimits || (parcelLimits = {}));\nvar playerConfigurations;\n(function (playerConfigurations) {\n    playerConfigurations.gravity = -0.2;\n    playerConfigurations.height = 1.6;\n    playerConfigurations.handFromBodyDistance = 0.5;\n    playerConfigurations.speed = 2;\n    playerConfigurations.runningSpeed = 8;\n    playerConfigurations.inertia = 0.01;\n    playerConfigurations.angularSensibility = 500;\n})(playerConfigurations || (playerConfigurations = {}));\nvar visualConfigurations;\n(function (visualConfigurations) {\n    visualConfigurations.fieldOfView = 75;\n    visualConfigurations.farDistance = parcelLimits.visibleRadius * parcelLimits.parcelSize;\n    visualConfigurations.near = 0.08;\n    visualConfigurations.far = visualConfigurations.farDistance;\n})(visualConfigurations || (visualConfigurations = {}));\nconst PREVIEW = !!global.preview;\nconst EDITOR = !!global.isEditor;\nconst WORLD_EXPLORER = !EDITOR && !PREVIEW;\nconst STATIC_WORLD = location.search.indexOf('STATIC_WORLD') !== -1 || !!global.staticWorld || EDITOR;\nconst ENABLE_WEB3 = location.search.indexOf('ENABLE_WEB3') !== -1 || !!global.enableWeb3;\nconst ENV_OVERRIDE = location.search.indexOf('ENV') !== -1;\nconst USE_LOCAL_COMMS = location.search.indexOf('LOCAL_COMMS') !== -1 || PREVIEW;\nconst DEBUG = location.search.indexOf('DEBUG_MODE') !== -1 || !!global.mocha || PREVIEW || EDITOR;\nconst DEBUG_ANALYTICS = location.search.indexOf('DEBUG_ANALYTICS') !== -1;\nconst DEBUG_MOBILE = location.search.indexOf('DEBUG_MOBILE') !== -1;\nconst DEBUG_MESSAGES = location.search.indexOf('DEBUG_MESSAGES') !== -1;\nconst DEBUG_WS_MESSAGES = location.search.indexOf('DEBUG_WS_MESSAGES') !== -1;\nconst DEBUG_REDUX = location.search.indexOf('DEBUG_REDUX') !== -1;\nconst DISABLE_AUTH = location.search.indexOf('DISABLE_AUTH') !== -1 || DEBUG;\nconst ENGINE_DEBUG_PANEL = location.search.indexOf('ENGINE_DEBUG_PANEL') !== -1;\nconst SCENE_DEBUG_PANEL = location.search.indexOf('SCENE_DEBUG_PANEL') !== -1 && !ENGINE_DEBUG_PANEL;\nvar commConfigurations;\n(function (commConfigurations) {\n    commConfigurations.debug = true;\n    commConfigurations.commRadius = 4;\n    commConfigurations.peerTtlMs = 60000;\n    commConfigurations.maxVisiblePeers = 25;\n    commConfigurations.iceServers = [\n        {\n            urls: 'stun:stun.l.google.com:19302'\n        },\n        {\n            urls: 'stun:stun2.l.google.com:19302'\n        },\n        {\n            urls: 'stun:stun3.l.google.com:19302'\n        },\n        {\n            urls: 'stun:stun4.l.google.com:19302'\n        },\n        {\n            urls: 'turn:stun.decentraland.org:3478',\n            credential: 'passworddcl',\n            username: 'usernamedcl'\n        }\n    ];\n})(commConfigurations || (commConfigurations = {}));\nconst loginConfig = {\n    org: {\n        domain: 'decentraland.auth0.com',\n        client_id: 'yqFiSmQsxk3LK46JOIB4NJ3wK4HzZVxG'\n    },\n    today: {\n        domain: 'dcl-stg.auth0.com',\n        client_id: '0UB0I7w6QA3AgSvbXh9rGvDuhKrJV1C0'\n    },\n    zone: {\n        domain: 'dcl-test.auth0.com',\n        client_id: 'lTUEMnFpYb0aiUKeIRPbh7pBxKM6sccx'\n    },\n    audience: 'decentraland.org'\n};\nvar ETHEREUM_NETWORK;\n(function (ETHEREUM_NETWORK) {\n    ETHEREUM_NETWORK[\"MAINNET\"] = \"mainnet\";\n    ETHEREUM_NETWORK[\"ROPSTEN\"] = \"ropsten\";\n})(ETHEREUM_NETWORK || (ETHEREUM_NETWORK = {}));\nlet decentralandConfigurations = {};\nlet contracts = null;\nlet network = null;\nfunction getTLD() {\n    if (ENV_OVERRIDE) {\n        return window.location.search.match(/ENV=(\\w+)/)[1];\n    }\n    if (window) {\n        return window.location.hostname.match(/(\\w+)$/)[0];\n    }\n}\nconst knownTLDs = ['zone', 'org', 'today'];\nfunction getDefaultTLD() {\n    const TLD = getTLD();\n    if (ENV_OVERRIDE) {\n        return TLD;\n    }\n    if (!ENABLE_WEB3 && TLD === 'localhost') {\n        return 'zone';\n    }\n    if (!TLD || !knownTLDs.includes(TLD)) {\n        return network === ETHEREUM_NETWORK.ROPSTEN ? 'zone' : 'org';\n    }\n    return TLD;\n}\nfunction getExclusiveServer() {\n    if (window.location.search.match(/WEARABLE_SERVER=\\w+/)) {\n        return window.location.search.match(/WEARABLE_SERVER=(\\w+)/)[1];\n    }\n    return 'https://dcl-base-exclusive.now.sh/index.json';\n}\nconst ALL_WEARABLES = location.search.indexOf('ALL_WEARABLES') !== -1 && getDefaultTLD() !== 'org';\nfunction getLoginConfigurationForCurrentDomain() {\n    let tld = getDefaultTLD();\n    if (tld !== 'org' && tld !== 'zone' && tld !== 'today') {\n        tld = 'zone';\n    }\n    return {\n        clientId: loginConfig[tld].client_id,\n        domain: loginConfig[tld].domain,\n        redirectUri: window.location.origin + '/' + (ENV_OVERRIDE ? '?ENV=' + getTLD() : ''),\n        audience: loginConfig.audience\n    };\n}\nconst ENABLE_EMPTY_SCENES = !DEBUG || knownTLDs.includes(getTLD());\nfunction getServerConfigurations() {\n    const TLDDefault = getDefaultTLD();\n    return {\n        auth: `https://auth.decentraland.${TLDDefault}/api/v1`,\n        landApi: `https://api.decentraland.${TLDDefault}/v1`,\n        content: `https://content.decentraland.${TLDDefault === 'today' ? 'org' : TLDDefault}`,\n        worldInstanceUrl: `wss://world-comm.decentraland.${TLDDefault}/connect`,\n        profile: `https://profile.decentraland.${TLDDefault}/api/v1`,\n        wearablesApi: `https://wearable-api.decentraland.org/v1`,\n        avatar: {\n            snapshotStorage: `https://avatars-storage.decentraland.${TLDDefault}/`,\n            server: `https://avatars-api.decentraland.${TLDDefault === 'zone' ? 'today' : TLDDefault}/`,\n            catalog: 'https://dcl-base-avatars.now.sh/index.json',\n            exclusiveCatalog: getExclusiveServer(),\n            contents: `https://s3.amazonaws.com/content-service.decentraland.org/`,\n            presets: `https://avatars-storage.decentraland.org/mobile-avatars`\n        },\n        darApi: TLDDefault === 'zone' || TLDDefault === 'today'\n            ? 'https://schema-api-v2.now.sh/dar'\n            : 'https://schema.decentraland.org/dar'\n    };\n}\nasync function setNetwork(net) {\n    try {\n        const response = await fetch('https://contracts.decentraland.org/addresses.json');\n        const json = await response.json();\n        network = net;\n        contracts = json[net];\n        decentralandConfigurations = {\n            contractAddress: contracts.LANDProxy,\n            contracts: {\n                serviceLocator: contracts.ServiceLocator\n            },\n            paymentTokens: {\n                MANA: contracts.MANAToken\n            }\n        };\n    }\n    catch (e) {\n        network = net;\n        contracts = {};\n        decentralandConfigurations = {\n            contractAddress: '',\n            contracts: {\n                serviceLocator: ''\n            },\n            paymentTokens: {\n                MANA: ''\n            }\n        };\n    }\n}\nvar ethereumConfigurations;\n(function (ethereumConfigurations) {\n    ethereumConfigurations.mainnet = {\n        wss: 'wss://mainnet.infura.io/ws',\n        http: 'https://mainnet.infura.io/',\n        etherscan: 'https://etherscan.io'\n    };\n    ethereumConfigurations.ropsten = {\n        wss: 'wss://ropsten.infura.io/ws',\n        http: 'https://ropsten.infura.io/',\n        etherscan: 'https://ropsten.etherscan.io'\n    };\n})(ethereumConfigurations || (ethereumConfigurations = {}));\nconst isRunningTest = global['isRunningTests'] === true;\n\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! ./../../node_modules/webpack/buildin/global.js */ \"./node_modules/webpack/buildin/global.js\")))\n\n//# sourceURL=webpack:///./packages/config/index.ts?");

/***/ }),

/***/ "./packages/decentraland-ecs/src/decentraland/math/Angle.ts":
/*!******************************************************************!*\
  !*** ./packages/decentraland-ecs/src/decentraland/math/Angle.ts ***!
  \******************************************************************/
/*! exports provided: Angle */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"Angle\", function() { return Angle; });\nclass Angle {\n    constructor(radians) {\n        this._radians = radians;\n        if (this._radians < 0.0) {\n            this._radians += 2.0 * Math.PI;\n        }\n    }\n    static BetweenTwoPoints(a, b) {\n        let delta = b.subtract(a);\n        let theta = Math.atan2(delta.y, delta.x);\n        return new Angle(theta);\n    }\n    static FromRadians(radians) {\n        return new Angle(radians);\n    }\n    static FromDegrees(degrees) {\n        return new Angle((degrees * Math.PI) / 180.0);\n    }\n    degrees() {\n        return (this._radians * 180.0) / Math.PI;\n    }\n    radians() {\n        return this._radians;\n    }\n}\n\n\n//# sourceURL=webpack:///./packages/decentraland-ecs/src/decentraland/math/Angle.ts?");

/***/ }),

/***/ "./packages/decentraland-ecs/src/decentraland/math/Arc2.ts":
/*!*****************************************************************!*\
  !*** ./packages/decentraland-ecs/src/decentraland/math/Arc2.ts ***!
  \*****************************************************************/
/*! exports provided: Arc2 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"Arc2\", function() { return Arc2; });\n/* harmony import */ var _Angle__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Angle */ \"./packages/decentraland-ecs/src/decentraland/math/Angle.ts\");\n/* harmony import */ var _Vector2__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./Vector2 */ \"./packages/decentraland-ecs/src/decentraland/math/Vector2.ts\");\n/* harmony import */ var _types__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./types */ \"./packages/decentraland-ecs/src/decentraland/math/types.ts\");\n\n\n\nclass Arc2 {\n    constructor(startPoint, midPoint, endPoint) {\n        this.startPoint = startPoint;\n        this.midPoint = midPoint;\n        this.endPoint = endPoint;\n        let temp = Math.pow(midPoint.x, 2) + Math.pow(midPoint.y, 2);\n        let startToMid = (Math.pow(startPoint.x, 2) + Math.pow(startPoint.y, 2) - temp) / 2;\n        let midToEnd = (temp - Math.pow(endPoint.x, 2) - Math.pow(endPoint.y, 2)) / 2;\n        let det = (startPoint.x - midPoint.x) * (midPoint.y - endPoint.y) - (midPoint.x - endPoint.x) * (startPoint.y - midPoint.y);\n        this.centerPoint = new _Vector2__WEBPACK_IMPORTED_MODULE_1__[\"Vector2\"]((startToMid * (midPoint.y - endPoint.y) - midToEnd * (startPoint.y - midPoint.y)) / det, ((startPoint.x - midPoint.x) * midToEnd - (midPoint.x - endPoint.x) * startToMid) / det);\n        this.radius = this.centerPoint.subtract(this.startPoint).length();\n        this.startAngle = _Angle__WEBPACK_IMPORTED_MODULE_0__[\"Angle\"].BetweenTwoPoints(this.centerPoint, this.startPoint);\n        let a1 = this.startAngle.degrees();\n        let a2 = _Angle__WEBPACK_IMPORTED_MODULE_0__[\"Angle\"].BetweenTwoPoints(this.centerPoint, this.midPoint).degrees();\n        let a3 = _Angle__WEBPACK_IMPORTED_MODULE_0__[\"Angle\"].BetweenTwoPoints(this.centerPoint, this.endPoint).degrees();\n        if (a2 - a1 > +180.0) {\n            a2 -= 360.0;\n        }\n        if (a2 - a1 < -180.0) {\n            a2 += 360.0;\n        }\n        if (a3 - a2 > +180.0) {\n            a3 -= 360.0;\n        }\n        if (a3 - a2 < -180.0) {\n            a3 += 360.0;\n        }\n        this.orientation = a2 - a1 < 0 ? _types__WEBPACK_IMPORTED_MODULE_2__[\"Orientation\"].CW : _types__WEBPACK_IMPORTED_MODULE_2__[\"Orientation\"].CCW;\n        this.angle = _Angle__WEBPACK_IMPORTED_MODULE_0__[\"Angle\"].FromDegrees(this.orientation === _types__WEBPACK_IMPORTED_MODULE_2__[\"Orientation\"].CW ? a1 - a3 : a3 - a1);\n    }\n}\n\n\n//# sourceURL=webpack:///./packages/decentraland-ecs/src/decentraland/math/Arc2.ts?");

/***/ }),

/***/ "./packages/decentraland-ecs/src/decentraland/math/Axis.ts":
/*!*****************************************************************!*\
  !*** ./packages/decentraland-ecs/src/decentraland/math/Axis.ts ***!
  \*****************************************************************/
/*! exports provided: Axis */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"Axis\", function() { return Axis; });\n/* harmony import */ var _Vector3__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Vector3 */ \"./packages/decentraland-ecs/src/decentraland/math/Vector3.ts\");\n\nclass Axis {\n}\nAxis.X = new _Vector3__WEBPACK_IMPORTED_MODULE_0__[\"Vector3\"](1.0, 0.0, 0.0);\nAxis.Y = new _Vector3__WEBPACK_IMPORTED_MODULE_0__[\"Vector3\"](0.0, 1.0, 0.0);\nAxis.Z = new _Vector3__WEBPACK_IMPORTED_MODULE_0__[\"Vector3\"](0.0, 0.0, 1.0);\n\n\n//# sourceURL=webpack:///./packages/decentraland-ecs/src/decentraland/math/Axis.ts?");

/***/ }),

/***/ "./packages/decentraland-ecs/src/decentraland/math/BezierCurve.ts":
/*!************************************************************************!*\
  !*** ./packages/decentraland-ecs/src/decentraland/math/BezierCurve.ts ***!
  \************************************************************************/
/*! exports provided: BezierCurve */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"BezierCurve\", function() { return BezierCurve; });\nclass BezierCurve {\n    static Interpolate(t, x1, y1, x2, y2) {\n        let f0 = 1 - 3 * x2 + 3 * x1;\n        let f1 = 3 * x2 - 6 * x1;\n        let f2 = 3 * x1;\n        let refinedT = t;\n        for (let i = 0; i < 5; i++) {\n            let refinedT2 = refinedT * refinedT;\n            let refinedT3 = refinedT2 * refinedT;\n            let x = f0 * refinedT3 + f1 * refinedT2 + f2 * refinedT;\n            let slope = 1.0 / (3.0 * f0 * refinedT2 + 2.0 * f1 * refinedT + f2);\n            refinedT -= (x - t) * slope;\n            refinedT = Math.min(1, Math.max(0, refinedT));\n        }\n        return (3 * Math.pow(1 - refinedT, 2) * refinedT * y1 +\n            3 * (1 - refinedT) * Math.pow(refinedT, 2) * y2 +\n            Math.pow(refinedT, 3));\n    }\n}\n\n\n//# sourceURL=webpack:///./packages/decentraland-ecs/src/decentraland/math/BezierCurve.ts?");

/***/ }),

/***/ "./packages/decentraland-ecs/src/decentraland/math/Color3.ts":
/*!*******************************************************************!*\
  !*** ./packages/decentraland-ecs/src/decentraland/math/Color3.ts ***!
  \*******************************************************************/
/*! exports provided: Color3 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"Color3\", function() { return Color3; });\n/* harmony import */ var _types__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./types */ \"./packages/decentraland-ecs/src/decentraland/math/types.ts\");\n/* harmony import */ var _Color4__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./Color4 */ \"./packages/decentraland-ecs/src/decentraland/math/Color4.ts\");\n/* harmony import */ var _Scalar__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./Scalar */ \"./packages/decentraland-ecs/src/decentraland/math/Scalar.ts\");\n\n\n\nclass Color3 {\n    constructor(r = 0, g = 0, b = 0) {\n        this.r = r;\n        this.g = g;\n        this.b = b;\n    }\n    static FromHexString(hex) {\n        if (hex.substring(0, 1) !== '#' || hex.length !== 7) {\n            return new Color3(0, 0, 0);\n        }\n        let r = parseInt(hex.substring(1, 3), 16);\n        let g = parseInt(hex.substring(3, 5), 16);\n        let b = parseInt(hex.substring(5, 7), 16);\n        return Color3.FromInts(r, g, b);\n    }\n    static FromArray(array, offset = 0) {\n        return new Color3(array[offset], array[offset + 1], array[offset + 2]);\n    }\n    static FromInts(r, g, b) {\n        return new Color3(r / 255.0, g / 255.0, b / 255.0);\n    }\n    static Lerp(start, end, amount) {\n        let result = new Color3(0.0, 0.0, 0.0);\n        Color3.LerpToRef(start, end, amount, result);\n        return result;\n    }\n    static LerpToRef(left, right, amount, result) {\n        result.r = left.r + (right.r - left.r) * amount;\n        result.g = left.g + (right.g - left.g) * amount;\n        result.b = left.b + (right.b - left.b) * amount;\n    }\n    static Red() {\n        return new Color3(1, 0, 0);\n    }\n    static Green() {\n        return new Color3(0, 1, 0);\n    }\n    static Blue() {\n        return new Color3(0, 0, 1);\n    }\n    static Black() {\n        return new Color3(0, 0, 0);\n    }\n    static White() {\n        return new Color3(1, 1, 1);\n    }\n    static Purple() {\n        return new Color3(0.5, 0, 0.5);\n    }\n    static Magenta() {\n        return new Color3(1, 0, 1);\n    }\n    static Yellow() {\n        return new Color3(1, 1, 0);\n    }\n    static Gray() {\n        return new Color3(0.5, 0.5, 0.5);\n    }\n    static Teal() {\n        return new Color3(0, 1.0, 1.0);\n    }\n    static Random() {\n        return new Color3(Math.random(), Math.random(), Math.random());\n    }\n    toString() {\n        return '{R: ' + this.r + ' G:' + this.g + ' B:' + this.b + '}';\n    }\n    getClassName() {\n        return 'Color3';\n    }\n    getHashCode() {\n        let hash = this.r || 0;\n        hash = (hash * 397) ^ (this.g || 0);\n        hash = (hash * 397) ^ (this.b || 0);\n        return hash;\n    }\n    toArray(array, index = 0) {\n        array[index] = this.r;\n        array[index + 1] = this.g;\n        array[index + 2] = this.b;\n        return this;\n    }\n    toColor4(alpha = 1) {\n        return new _Color4__WEBPACK_IMPORTED_MODULE_1__[\"Color4\"](this.r, this.g, this.b, alpha);\n    }\n    asArray() {\n        let result = new Array();\n        this.toArray(result, 0);\n        return result;\n    }\n    toLuminance() {\n        return this.r * 0.3 + this.g * 0.59 + this.b * 0.11;\n    }\n    multiply(otherColor) {\n        return new Color3(this.r * otherColor.r, this.g * otherColor.g, this.b * otherColor.b);\n    }\n    multiplyToRef(otherColor, result) {\n        result.r = this.r * otherColor.r;\n        result.g = this.g * otherColor.g;\n        result.b = this.b * otherColor.b;\n        return this;\n    }\n    equals(otherColor) {\n        return otherColor && this.r === otherColor.r && this.g === otherColor.g && this.b === otherColor.b;\n    }\n    equalsFloats(r, g, b) {\n        return this.r === r && this.g === g && this.b === b;\n    }\n    scale(scale) {\n        return new Color3(this.r * scale, this.g * scale, this.b * scale);\n    }\n    scaleToRef(scale, result) {\n        result.r = this.r * scale;\n        result.g = this.g * scale;\n        result.b = this.b * scale;\n        return this;\n    }\n    scaleAndAddToRef(scale, result) {\n        result.r += this.r * scale;\n        result.g += this.g * scale;\n        result.b += this.b * scale;\n        return this;\n    }\n    clampToRef(min = 0, max = 1, result) {\n        result.r = _Scalar__WEBPACK_IMPORTED_MODULE_2__[\"Scalar\"].Clamp(this.r, min, max);\n        result.g = _Scalar__WEBPACK_IMPORTED_MODULE_2__[\"Scalar\"].Clamp(this.g, min, max);\n        result.b = _Scalar__WEBPACK_IMPORTED_MODULE_2__[\"Scalar\"].Clamp(this.b, min, max);\n        return this;\n    }\n    add(otherColor) {\n        return new Color3(this.r + otherColor.r, this.g + otherColor.g, this.b + otherColor.b);\n    }\n    addToRef(otherColor, result) {\n        result.r = this.r + otherColor.r;\n        result.g = this.g + otherColor.g;\n        result.b = this.b + otherColor.b;\n        return this;\n    }\n    subtract(otherColor) {\n        return new Color3(this.r - otherColor.r, this.g - otherColor.g, this.b - otherColor.b);\n    }\n    subtractToRef(otherColor, result) {\n        result.r = this.r - otherColor.r;\n        result.g = this.g - otherColor.g;\n        result.b = this.b - otherColor.b;\n        return this;\n    }\n    clone() {\n        return new Color3(this.r, this.g, this.b);\n    }\n    copyFrom(source) {\n        this.r = source.r;\n        this.g = source.g;\n        this.b = source.b;\n        return this;\n    }\n    copyFromFloats(r, g, b) {\n        this.r = r;\n        this.g = g;\n        this.b = b;\n        return this;\n    }\n    set(r, g, b) {\n        return this.copyFromFloats(r, g, b);\n    }\n    toHexString() {\n        let intR = (this.r * 255) | 0;\n        let intG = (this.g * 255) | 0;\n        let intB = (this.b * 255) | 0;\n        return '#' + _Scalar__WEBPACK_IMPORTED_MODULE_2__[\"Scalar\"].ToHex(intR) + _Scalar__WEBPACK_IMPORTED_MODULE_2__[\"Scalar\"].ToHex(intG) + _Scalar__WEBPACK_IMPORTED_MODULE_2__[\"Scalar\"].ToHex(intB);\n    }\n    toLinearSpace() {\n        let convertedColor = new Color3();\n        this.toLinearSpaceToRef(convertedColor);\n        return convertedColor;\n    }\n    toLinearSpaceToRef(convertedColor) {\n        convertedColor.r = Math.pow(this.r, _types__WEBPACK_IMPORTED_MODULE_0__[\"ToLinearSpace\"]);\n        convertedColor.g = Math.pow(this.g, _types__WEBPACK_IMPORTED_MODULE_0__[\"ToLinearSpace\"]);\n        convertedColor.b = Math.pow(this.b, _types__WEBPACK_IMPORTED_MODULE_0__[\"ToLinearSpace\"]);\n        return this;\n    }\n    toGammaSpace() {\n        let convertedColor = new Color3();\n        this.toGammaSpaceToRef(convertedColor);\n        return convertedColor;\n    }\n    toGammaSpaceToRef(convertedColor) {\n        convertedColor.r = Math.pow(this.r, _types__WEBPACK_IMPORTED_MODULE_0__[\"ToGammaSpace\"]);\n        convertedColor.g = Math.pow(this.g, _types__WEBPACK_IMPORTED_MODULE_0__[\"ToGammaSpace\"]);\n        convertedColor.b = Math.pow(this.b, _types__WEBPACK_IMPORTED_MODULE_0__[\"ToGammaSpace\"]);\n        return this;\n    }\n    toJSON() {\n        return {\n            r: this.r,\n            g: this.g,\n            b: this.b\n        };\n    }\n}\n\n\n//# sourceURL=webpack:///./packages/decentraland-ecs/src/decentraland/math/Color3.ts?");

/***/ }),

/***/ "./packages/decentraland-ecs/src/decentraland/math/Color4.ts":
/*!*******************************************************************!*\
  !*** ./packages/decentraland-ecs/src/decentraland/math/Color4.ts ***!
  \*******************************************************************/
/*! exports provided: Color4 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"Color4\", function() { return Color4; });\n/* harmony import */ var _Scalar__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Scalar */ \"./packages/decentraland-ecs/src/decentraland/math/Scalar.ts\");\n/* harmony import */ var _types__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./types */ \"./packages/decentraland-ecs/src/decentraland/math/types.ts\");\n\n\nclass Color4 {\n    constructor(r = 0, g = 0, b = 0, a = 1) {\n        this.r = r;\n        this.g = g;\n        this.b = b;\n        this.a = a;\n    }\n    static FromHexString(hex) {\n        if (hex.substring(0, 1) !== '#' || hex.length !== 9) {\n            return new Color4(0.0, 0.0, 0.0, 0.0);\n        }\n        let r = parseInt(hex.substring(1, 3), 16);\n        let g = parseInt(hex.substring(3, 5), 16);\n        let b = parseInt(hex.substring(5, 7), 16);\n        let a = parseInt(hex.substring(7, 9), 16);\n        return Color4.FromInts(r, g, b, a);\n    }\n    static Lerp(left, right, amount) {\n        let result = new Color4(0.0, 0.0, 0.0, 0.0);\n        Color4.LerpToRef(left, right, amount, result);\n        return result;\n    }\n    static LerpToRef(left, right, amount, result) {\n        result.r = left.r + (right.r - left.r) * amount;\n        result.g = left.g + (right.g - left.g) * amount;\n        result.b = left.b + (right.b - left.b) * amount;\n        result.a = left.a + (right.a - left.a) * amount;\n    }\n    static Red() {\n        return new Color4(1.0, 0, 0, 1.0);\n    }\n    static Green() {\n        return new Color4(0, 1.0, 0, 1.0);\n    }\n    static Blue() {\n        return new Color4(0, 0, 1.0, 1.0);\n    }\n    static Black() {\n        return new Color4(0, 0, 0, 1);\n    }\n    static White() {\n        return new Color4(1, 1, 1, 1);\n    }\n    static Purple() {\n        return new Color4(0.5, 0, 0.5, 1);\n    }\n    static Magenta() {\n        return new Color4(1, 0, 1, 1);\n    }\n    static Yellow() {\n        return new Color4(1, 1, 0, 1);\n    }\n    static Gray() {\n        return new Color4(0.5, 0.5, 0.5, 1.0);\n    }\n    static Teal() {\n        return new Color4(0, 1.0, 1.0, 1.0);\n    }\n    static Clear() {\n        return new Color4(0, 0, 0, 0);\n    }\n    static FromColor3(color3, alpha = 1.0) {\n        return new Color4(color3.r, color3.g, color3.b, alpha);\n    }\n    static FromArray(array, offset = 0) {\n        return new Color4(array[offset], array[offset + 1], array[offset + 2], array[offset + 3]);\n    }\n    static FromInts(r, g, b, a) {\n        return new Color4(r / 255.0, g / 255.0, b / 255.0, a / 255.0);\n    }\n    static CheckColors4(colors, count) {\n        if (colors.length === count * 3) {\n            let colors4 = [];\n            for (let index = 0; index < colors.length; index += 3) {\n                let newIndex = (index / 3) * 4;\n                colors4[newIndex] = colors[index];\n                colors4[newIndex + 1] = colors[index + 1];\n                colors4[newIndex + 2] = colors[index + 2];\n                colors4[newIndex + 3] = 1.0;\n            }\n            return colors4;\n        }\n        return colors;\n    }\n    addInPlace(right) {\n        this.r += right.r;\n        this.g += right.g;\n        this.b += right.b;\n        this.a += right.a;\n        return this;\n    }\n    asArray() {\n        let result = new Array();\n        this.toArray(result, 0);\n        return result;\n    }\n    toArray(array, index = 0) {\n        array[index] = this.r;\n        array[index + 1] = this.g;\n        array[index + 2] = this.b;\n        array[index + 3] = this.a;\n        return this;\n    }\n    add(right) {\n        return new Color4(this.r + right.r, this.g + right.g, this.b + right.b, this.a + right.a);\n    }\n    subtract(right) {\n        return new Color4(this.r - right.r, this.g - right.g, this.b - right.b, this.a - right.a);\n    }\n    subtractToRef(right, result) {\n        result.r = this.r - right.r;\n        result.g = this.g - right.g;\n        result.b = this.b - right.b;\n        result.a = this.a - right.a;\n        return this;\n    }\n    scale(scale) {\n        return new Color4(this.r * scale, this.g * scale, this.b * scale, this.a * scale);\n    }\n    scaleToRef(scale, result) {\n        result.r = this.r * scale;\n        result.g = this.g * scale;\n        result.b = this.b * scale;\n        result.a = this.a * scale;\n        return this;\n    }\n    scaleAndAddToRef(scale, result) {\n        result.r += this.r * scale;\n        result.g += this.g * scale;\n        result.b += this.b * scale;\n        result.a += this.a * scale;\n        return this;\n    }\n    clampToRef(min = 0, max = 1, result) {\n        result.r = _Scalar__WEBPACK_IMPORTED_MODULE_0__[\"Scalar\"].Clamp(this.r, min, max);\n        result.g = _Scalar__WEBPACK_IMPORTED_MODULE_0__[\"Scalar\"].Clamp(this.g, min, max);\n        result.b = _Scalar__WEBPACK_IMPORTED_MODULE_0__[\"Scalar\"].Clamp(this.b, min, max);\n        result.a = _Scalar__WEBPACK_IMPORTED_MODULE_0__[\"Scalar\"].Clamp(this.a, min, max);\n        return this;\n    }\n    multiply(color) {\n        return new Color4(this.r * color.r, this.g * color.g, this.b * color.b, this.a * color.a);\n    }\n    multiplyToRef(color, result) {\n        result.r = this.r * color.r;\n        result.g = this.g * color.g;\n        result.b = this.b * color.b;\n        result.a = this.a * color.a;\n        return result;\n    }\n    toString() {\n        return '{R: ' + this.r + ' G:' + this.g + ' B:' + this.b + ' A:' + this.a + '}';\n    }\n    getClassName() {\n        return 'Color4';\n    }\n    getHashCode() {\n        let hash = this.r || 0;\n        hash = (hash * 397) ^ (this.g || 0);\n        hash = (hash * 397) ^ (this.b || 0);\n        hash = (hash * 397) ^ (this.a || 0);\n        return hash;\n    }\n    clone() {\n        return new Color4(this.r, this.g, this.b, this.a);\n    }\n    copyFrom(source) {\n        this.r = source.r;\n        this.g = source.g;\n        this.b = source.b;\n        this.a = source.a;\n        return this;\n    }\n    copyFromFloats(r, g, b, a) {\n        this.r = r;\n        this.g = g;\n        this.b = b;\n        this.a = a;\n        return this;\n    }\n    set(r, g, b, a) {\n        return this.copyFromFloats(r, g, b, a);\n    }\n    toHexString() {\n        let intR = (this.r * 255) | 0;\n        let intG = (this.g * 255) | 0;\n        let intB = (this.b * 255) | 0;\n        let intA = (this.a * 255) | 0;\n        return '#' + _Scalar__WEBPACK_IMPORTED_MODULE_0__[\"Scalar\"].ToHex(intR) + _Scalar__WEBPACK_IMPORTED_MODULE_0__[\"Scalar\"].ToHex(intG) + _Scalar__WEBPACK_IMPORTED_MODULE_0__[\"Scalar\"].ToHex(intB) + _Scalar__WEBPACK_IMPORTED_MODULE_0__[\"Scalar\"].ToHex(intA);\n    }\n    toLinearSpace() {\n        let convertedColor = new Color4();\n        this.toLinearSpaceToRef(convertedColor);\n        return convertedColor;\n    }\n    toLinearSpaceToRef(convertedColor) {\n        convertedColor.r = Math.pow(this.r, _types__WEBPACK_IMPORTED_MODULE_1__[\"ToLinearSpace\"]);\n        convertedColor.g = Math.pow(this.g, _types__WEBPACK_IMPORTED_MODULE_1__[\"ToLinearSpace\"]);\n        convertedColor.b = Math.pow(this.b, _types__WEBPACK_IMPORTED_MODULE_1__[\"ToLinearSpace\"]);\n        convertedColor.a = this.a;\n        return this;\n    }\n    toGammaSpace() {\n        let convertedColor = new Color4();\n        this.toGammaSpaceToRef(convertedColor);\n        return convertedColor;\n    }\n    toGammaSpaceToRef(convertedColor) {\n        convertedColor.r = Math.pow(this.r, _types__WEBPACK_IMPORTED_MODULE_1__[\"ToGammaSpace\"]);\n        convertedColor.g = Math.pow(this.g, _types__WEBPACK_IMPORTED_MODULE_1__[\"ToGammaSpace\"]);\n        convertedColor.b = Math.pow(this.b, _types__WEBPACK_IMPORTED_MODULE_1__[\"ToGammaSpace\"]);\n        convertedColor.a = this.a;\n        return this;\n    }\n}\n\n\n//# sourceURL=webpack:///./packages/decentraland-ecs/src/decentraland/math/Color4.ts?");

/***/ }),

/***/ "./packages/decentraland-ecs/src/decentraland/math/Curve3d.ts":
/*!********************************************************************!*\
  !*** ./packages/decentraland-ecs/src/decentraland/math/Curve3d.ts ***!
  \********************************************************************/
/*! exports provided: Curve3 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"Curve3\", function() { return Curve3; });\n/* harmony import */ var _Vector3__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Vector3 */ \"./packages/decentraland-ecs/src/decentraland/math/Vector3.ts\");\n\nclass Curve3 {\n    constructor(points) {\n        this._length = 0.0;\n        this._points = points;\n        this._length = this._computeLength(points);\n    }\n    static CreateQuadraticBezier(v0, v1, v2, nbPoints) {\n        nbPoints = nbPoints > 2 ? nbPoints : 3;\n        let bez = new Array();\n        let equation = (t, val0, val1, val2) => {\n            let res = (1.0 - t) * (1.0 - t) * val0 + 2.0 * t * (1.0 - t) * val1 + t * t * val2;\n            return res;\n        };\n        for (let i = 0; i <= nbPoints; i++) {\n            bez.push(new _Vector3__WEBPACK_IMPORTED_MODULE_0__[\"Vector3\"](equation(i / nbPoints, v0.x, v1.x, v2.x), equation(i / nbPoints, v0.y, v1.y, v2.y), equation(i / nbPoints, v0.z, v1.z, v2.z)));\n        }\n        return new Curve3(bez);\n    }\n    static CreateCubicBezier(v0, v1, v2, v3, nbPoints) {\n        nbPoints = nbPoints > 3 ? nbPoints : 4;\n        let bez = new Array();\n        let equation = (t, val0, val1, val2, val3) => {\n            let res = (1.0 - t) * (1.0 - t) * (1.0 - t) * val0 +\n                3.0 * t * (1.0 - t) * (1.0 - t) * val1 +\n                3.0 * t * t * (1.0 - t) * val2 +\n                t * t * t * val3;\n            return res;\n        };\n        for (let i = 0; i <= nbPoints; i++) {\n            bez.push(new _Vector3__WEBPACK_IMPORTED_MODULE_0__[\"Vector3\"](equation(i / nbPoints, v0.x, v1.x, v2.x, v3.x), equation(i / nbPoints, v0.y, v1.y, v2.y, v3.y), equation(i / nbPoints, v0.z, v1.z, v2.z, v3.z)));\n        }\n        return new Curve3(bez);\n    }\n    static CreateHermiteSpline(p1, t1, p2, t2, nbPoints) {\n        let hermite = new Array();\n        let step = 1.0 / nbPoints;\n        for (let i = 0; i <= nbPoints; i++) {\n            hermite.push(_Vector3__WEBPACK_IMPORTED_MODULE_0__[\"Vector3\"].Hermite(p1, t1, p2, t2, i * step));\n        }\n        return new Curve3(hermite);\n    }\n    static CreateCatmullRomSpline(points, nbPoints, closed) {\n        let catmullRom = new Array();\n        let step = 1.0 / nbPoints;\n        let amount = 0.0;\n        if (closed) {\n            let pointsCount = points.length;\n            for (let i = 0; i < pointsCount; i++) {\n                amount = 0;\n                for (let c = 0; c < nbPoints; c++) {\n                    catmullRom.push(_Vector3__WEBPACK_IMPORTED_MODULE_0__[\"Vector3\"].CatmullRom(points[i % pointsCount], points[(i + 1) % pointsCount], points[(i + 2) % pointsCount], points[(i + 3) % pointsCount], amount));\n                    amount += step;\n                }\n            }\n            catmullRom.push(catmullRom[0]);\n        }\n        else {\n            let totalPoints = new Array();\n            totalPoints.push(points[0].clone());\n            Array.prototype.push.apply(totalPoints, points);\n            totalPoints.push(points[points.length - 1].clone());\n            let i = 0;\n            for (i = 0; i < totalPoints.length - 3; i++) {\n                amount = 0;\n                for (let c = 0; c < nbPoints; c++) {\n                    catmullRom.push(_Vector3__WEBPACK_IMPORTED_MODULE_0__[\"Vector3\"].CatmullRom(totalPoints[i], totalPoints[i + 1], totalPoints[i + 2], totalPoints[i + 3], amount));\n                    amount += step;\n                }\n            }\n            i--;\n            catmullRom.push(_Vector3__WEBPACK_IMPORTED_MODULE_0__[\"Vector3\"].CatmullRom(totalPoints[i], totalPoints[i + 1], totalPoints[i + 2], totalPoints[i + 3], amount));\n        }\n        return new Curve3(catmullRom);\n    }\n    getPoints() {\n        return this._points;\n    }\n    length() {\n        return this._length;\n    }\n    continue(curve) {\n        let lastPoint = this._points[this._points.length - 1];\n        let continuedPoints = this._points.slice();\n        let curvePoints = curve.getPoints();\n        for (let i = 1; i < curvePoints.length; i++) {\n            continuedPoints.push(curvePoints[i].subtract(curvePoints[0]).add(lastPoint));\n        }\n        let continuedCurve = new Curve3(continuedPoints);\n        return continuedCurve;\n    }\n    _computeLength(path) {\n        let l = 0;\n        for (let i = 1; i < path.length; i++) {\n            l += path[i].subtract(path[i - 1]).length();\n        }\n        return l;\n    }\n}\n\n\n//# sourceURL=webpack:///./packages/decentraland-ecs/src/decentraland/math/Curve3d.ts?");

/***/ }),

/***/ "./packages/decentraland-ecs/src/decentraland/math/Furstum.ts":
/*!********************************************************************!*\
  !*** ./packages/decentraland-ecs/src/decentraland/math/Furstum.ts ***!
  \********************************************************************/
/*! exports provided: Frustum */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"Frustum\", function() { return Frustum; });\n/* harmony import */ var _Plane__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Plane */ \"./packages/decentraland-ecs/src/decentraland/math/Plane.ts\");\n\nclass Frustum {\n    static GetPlanes(transform) {\n        let frustumPlanes = [];\n        for (let index = 0; index < 6; index++) {\n            frustumPlanes.push(new _Plane__WEBPACK_IMPORTED_MODULE_0__[\"Plane\"](0.0, 0.0, 0.0, 0.0));\n        }\n        Frustum.GetPlanesToRef(transform, frustumPlanes);\n        return frustumPlanes;\n    }\n    static GetNearPlaneToRef(transform, frustumPlane) {\n        const m = transform.m;\n        frustumPlane.normal.x = m[3] + m[2];\n        frustumPlane.normal.y = m[7] + m[6];\n        frustumPlane.normal.z = m[11] + m[10];\n        frustumPlane.d = m[15] + m[14];\n        frustumPlane.normalize();\n    }\n    static GetFarPlaneToRef(transform, frustumPlane) {\n        const m = transform.m;\n        frustumPlane.normal.x = m[3] - m[2];\n        frustumPlane.normal.y = m[7] - m[6];\n        frustumPlane.normal.z = m[11] - m[10];\n        frustumPlane.d = m[15] - m[14];\n        frustumPlane.normalize();\n    }\n    static GetLeftPlaneToRef(transform, frustumPlane) {\n        const m = transform.m;\n        frustumPlane.normal.x = m[3] + m[0];\n        frustumPlane.normal.y = m[7] + m[4];\n        frustumPlane.normal.z = m[11] + m[8];\n        frustumPlane.d = m[15] + m[12];\n        frustumPlane.normalize();\n    }\n    static GetRightPlaneToRef(transform, frustumPlane) {\n        const m = transform.m;\n        frustumPlane.normal.x = m[3] - m[0];\n        frustumPlane.normal.y = m[7] - m[4];\n        frustumPlane.normal.z = m[11] - m[8];\n        frustumPlane.d = m[15] - m[12];\n        frustumPlane.normalize();\n    }\n    static GetTopPlaneToRef(transform, frustumPlane) {\n        const m = transform.m;\n        frustumPlane.normal.x = m[3] - m[1];\n        frustumPlane.normal.y = m[7] - m[5];\n        frustumPlane.normal.z = m[11] - m[9];\n        frustumPlane.d = m[15] - m[13];\n        frustumPlane.normalize();\n    }\n    static GetBottomPlaneToRef(transform, frustumPlane) {\n        const m = transform.m;\n        frustumPlane.normal.x = m[3] + m[1];\n        frustumPlane.normal.y = m[7] + m[5];\n        frustumPlane.normal.z = m[11] + m[9];\n        frustumPlane.d = m[15] + m[13];\n        frustumPlane.normalize();\n    }\n    static GetPlanesToRef(transform, frustumPlanes) {\n        Frustum.GetNearPlaneToRef(transform, frustumPlanes[0]);\n        Frustum.GetFarPlaneToRef(transform, frustumPlanes[1]);\n        Frustum.GetLeftPlaneToRef(transform, frustumPlanes[2]);\n        Frustum.GetRightPlaneToRef(transform, frustumPlanes[3]);\n        Frustum.GetTopPlaneToRef(transform, frustumPlanes[4]);\n        Frustum.GetBottomPlaneToRef(transform, frustumPlanes[5]);\n    }\n}\n\n\n//# sourceURL=webpack:///./packages/decentraland-ecs/src/decentraland/math/Furstum.ts?");

/***/ }),

/***/ "./packages/decentraland-ecs/src/decentraland/math/Matrix.ts":
/*!*******************************************************************!*\
  !*** ./packages/decentraland-ecs/src/decentraland/math/Matrix.ts ***!
  \*******************************************************************/
/*! exports provided: Matrix */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"Matrix\", function() { return Matrix; });\n/* harmony import */ var _Vector3__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Vector3 */ \"./packages/decentraland-ecs/src/decentraland/math/Vector3.ts\");\n/* harmony import */ var _Quaternion__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./Quaternion */ \"./packages/decentraland-ecs/src/decentraland/math/Quaternion.ts\");\n/* harmony import */ var _preallocatedVariables__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./preallocatedVariables */ \"./packages/decentraland-ecs/src/decentraland/math/preallocatedVariables.ts\");\n/* harmony import */ var _Vector4__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./Vector4 */ \"./packages/decentraland-ecs/src/decentraland/math/Vector4.ts\");\n\n\n\n\nclass Matrix {\n    constructor() {\n        this._isIdentity = false;\n        this._isIdentityDirty = true;\n        this._isIdentity3x2 = true;\n        this._isIdentity3x2Dirty = true;\n        this._m = [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0];\n        this._updateIdentityStatus(false);\n    }\n    get m() {\n        return this._m;\n    }\n    static get IdentityReadOnly() {\n        return Matrix._identityReadOnly;\n    }\n    static FromArray(array, offset = 0) {\n        let result = new Matrix();\n        Matrix.FromArrayToRef(array, offset, result);\n        return result;\n    }\n    static FromArrayToRef(array, offset, result) {\n        for (let index = 0; index < 16; index++) {\n            result._m[index] = array[index + offset];\n        }\n        result._markAsUpdated();\n    }\n    static FromFloatArrayToRefScaled(array, offset, scale, result) {\n        for (let index = 0; index < 16; index++) {\n            result._m[index] = array[index + offset] * scale;\n        }\n        result._markAsUpdated();\n    }\n    static FromValuesToRef(initialM11, initialM12, initialM13, initialM14, initialM21, initialM22, initialM23, initialM24, initialM31, initialM32, initialM33, initialM34, initialM41, initialM42, initialM43, initialM44, result) {\n        const m = result._m;\n        m[0] = initialM11;\n        m[1] = initialM12;\n        m[2] = initialM13;\n        m[3] = initialM14;\n        m[4] = initialM21;\n        m[5] = initialM22;\n        m[6] = initialM23;\n        m[7] = initialM24;\n        m[8] = initialM31;\n        m[9] = initialM32;\n        m[10] = initialM33;\n        m[11] = initialM34;\n        m[12] = initialM41;\n        m[13] = initialM42;\n        m[14] = initialM43;\n        m[15] = initialM44;\n        result._markAsUpdated();\n    }\n    static FromValues(initialM11, initialM12, initialM13, initialM14, initialM21, initialM22, initialM23, initialM24, initialM31, initialM32, initialM33, initialM34, initialM41, initialM42, initialM43, initialM44) {\n        let result = new Matrix();\n        const m = result._m;\n        m[0] = initialM11;\n        m[1] = initialM12;\n        m[2] = initialM13;\n        m[3] = initialM14;\n        m[4] = initialM21;\n        m[5] = initialM22;\n        m[6] = initialM23;\n        m[7] = initialM24;\n        m[8] = initialM31;\n        m[9] = initialM32;\n        m[10] = initialM33;\n        m[11] = initialM34;\n        m[12] = initialM41;\n        m[13] = initialM42;\n        m[14] = initialM43;\n        m[15] = initialM44;\n        result._markAsUpdated();\n        return result;\n    }\n    static Compose(scale, rotation, translation) {\n        let result = new Matrix();\n        Matrix.ComposeToRef(scale, rotation, translation, result);\n        return result;\n    }\n    static ComposeToRef(scale, rotation, translation, result) {\n        Matrix.ScalingToRef(scale.x, scale.y, scale.z, _preallocatedVariables__WEBPACK_IMPORTED_MODULE_2__[\"MathTmp\"].Matrix[1]);\n        rotation.toRotationMatrix(_preallocatedVariables__WEBPACK_IMPORTED_MODULE_2__[\"MathTmp\"].Matrix[0]);\n        _preallocatedVariables__WEBPACK_IMPORTED_MODULE_2__[\"MathTmp\"].Matrix[1].multiplyToRef(_preallocatedVariables__WEBPACK_IMPORTED_MODULE_2__[\"MathTmp\"].Matrix[0], result);\n        result.setTranslation(translation);\n    }\n    static Identity() {\n        const identity = Matrix.FromValues(1.0, 0.0, 0.0, 0.0, 0.0, 1.0, 0.0, 0.0, 0.0, 0.0, 1.0, 0.0, 0.0, 0.0, 0.0, 1.0);\n        identity._updateIdentityStatus(true);\n        return identity;\n    }\n    static IdentityToRef(result) {\n        Matrix.FromValuesToRef(1.0, 0.0, 0.0, 0.0, 0.0, 1.0, 0.0, 0.0, 0.0, 0.0, 1.0, 0.0, 0.0, 0.0, 0.0, 1.0, result);\n        result._updateIdentityStatus(true);\n    }\n    static Zero() {\n        const zero = Matrix.FromValues(0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0);\n        zero._updateIdentityStatus(false);\n        return zero;\n    }\n    static RotationX(angle) {\n        let result = new Matrix();\n        Matrix.RotationXToRef(angle, result);\n        return result;\n    }\n    static Invert(source) {\n        let result = new Matrix();\n        source.invertToRef(result);\n        return result;\n    }\n    static RotationXToRef(angle, result) {\n        let s = Math.sin(angle);\n        let c = Math.cos(angle);\n        Matrix.FromValuesToRef(1.0, 0.0, 0.0, 0.0, 0.0, c, s, 0.0, 0.0, -s, c, 0.0, 0.0, 0.0, 0.0, 1.0, result);\n        result._updateIdentityStatus(c === 1 && s === 0);\n    }\n    static RotationY(angle) {\n        let result = new Matrix();\n        Matrix.RotationYToRef(angle, result);\n        return result;\n    }\n    static RotationYToRef(angle, result) {\n        let s = Math.sin(angle);\n        let c = Math.cos(angle);\n        Matrix.FromValuesToRef(c, 0.0, -s, 0.0, 0.0, 1.0, 0.0, 0.0, s, 0.0, c, 0.0, 0.0, 0.0, 0.0, 1.0, result);\n        result._updateIdentityStatus(c === 1 && s === 0);\n    }\n    static RotationZ(angle) {\n        let result = new Matrix();\n        Matrix.RotationZToRef(angle, result);\n        return result;\n    }\n    static RotationZToRef(angle, result) {\n        let s = Math.sin(angle);\n        let c = Math.cos(angle);\n        Matrix.FromValuesToRef(c, s, 0.0, 0.0, -s, c, 0.0, 0.0, 0.0, 0.0, 1.0, 0.0, 0.0, 0.0, 0.0, 1.0, result);\n        result._updateIdentityStatus(c === 1 && s === 0);\n    }\n    static RotationAxis(axis, angle) {\n        let result = new Matrix();\n        Matrix.RotationAxisToRef(axis, angle, result);\n        return result;\n    }\n    static RotationAxisToRef(axis, angle, result) {\n        let s = Math.sin(-angle);\n        let c = Math.cos(-angle);\n        let c1 = 1 - c;\n        axis.normalize();\n        const m = result._m;\n        m[0] = axis.x * axis.x * c1 + c;\n        m[1] = axis.x * axis.y * c1 - axis.z * s;\n        m[2] = axis.x * axis.z * c1 + axis.y * s;\n        m[3] = 0.0;\n        m[4] = axis.y * axis.x * c1 + axis.z * s;\n        m[5] = axis.y * axis.y * c1 + c;\n        m[6] = axis.y * axis.z * c1 - axis.x * s;\n        m[7] = 0.0;\n        m[8] = axis.z * axis.x * c1 - axis.y * s;\n        m[9] = axis.z * axis.y * c1 + axis.x * s;\n        m[10] = axis.z * axis.z * c1 + c;\n        m[11] = 0.0;\n        m[12] = 0.0;\n        m[13] = 0.0;\n        m[14] = 0.0;\n        m[15] = 1.0;\n        result._markAsUpdated();\n    }\n    static RotationYawPitchRoll(yaw, pitch, roll) {\n        let result = new Matrix();\n        Matrix.RotationYawPitchRollToRef(yaw, pitch, roll, result);\n        return result;\n    }\n    static RotationYawPitchRollToRef(yaw, pitch, roll, result) {\n        _Quaternion__WEBPACK_IMPORTED_MODULE_1__[\"Quaternion\"].RotationYawPitchRollToRef(yaw, pitch, roll, _preallocatedVariables__WEBPACK_IMPORTED_MODULE_2__[\"MathTmp\"].Quaternion[0]);\n        _preallocatedVariables__WEBPACK_IMPORTED_MODULE_2__[\"MathTmp\"].Quaternion[0].toRotationMatrix(result);\n    }\n    static Scaling(x, y, z) {\n        let result = new Matrix();\n        Matrix.ScalingToRef(x, y, z, result);\n        return result;\n    }\n    static ScalingToRef(x, y, z, result) {\n        Matrix.FromValuesToRef(x, 0.0, 0.0, 0.0, 0.0, y, 0.0, 0.0, 0.0, 0.0, z, 0.0, 0.0, 0.0, 0.0, 1.0, result);\n        result._updateIdentityStatus(x === 1 && y === 1 && z === 1);\n    }\n    static Translation(x, y, z) {\n        let result = new Matrix();\n        Matrix.TranslationToRef(x, y, z, result);\n        return result;\n    }\n    static TranslationToRef(x, y, z, result) {\n        Matrix.FromValuesToRef(1.0, 0.0, 0.0, 0.0, 0.0, 1.0, 0.0, 0.0, 0.0, 0.0, 1.0, 0.0, x, y, z, 1.0, result);\n        result._updateIdentityStatus(x === 0 && y === 0 && z === 0);\n    }\n    static Lerp(startValue, endValue, gradient) {\n        let result = new Matrix();\n        Matrix.LerpToRef(startValue, endValue, gradient, result);\n        return result;\n    }\n    static LerpToRef(startValue, endValue, gradient, result) {\n        for (let index = 0; index < 16; index++) {\n            result._m[index] = startValue._m[index] * (1.0 - gradient) + endValue._m[index] * gradient;\n        }\n        result._markAsUpdated();\n    }\n    static DecomposeLerp(startValue, endValue, gradient) {\n        let result = new Matrix();\n        Matrix.DecomposeLerpToRef(startValue, endValue, gradient, result);\n        return result;\n    }\n    static DecomposeLerpToRef(startValue, endValue, gradient, result) {\n        let startScale = _preallocatedVariables__WEBPACK_IMPORTED_MODULE_2__[\"MathTmp\"].Vector3[0];\n        let startRotation = _preallocatedVariables__WEBPACK_IMPORTED_MODULE_2__[\"MathTmp\"].Quaternion[0];\n        let startTranslation = _preallocatedVariables__WEBPACK_IMPORTED_MODULE_2__[\"MathTmp\"].Vector3[1];\n        startValue.decompose(startScale, startRotation, startTranslation);\n        let endScale = _preallocatedVariables__WEBPACK_IMPORTED_MODULE_2__[\"MathTmp\"].Vector3[2];\n        let endRotation = _preallocatedVariables__WEBPACK_IMPORTED_MODULE_2__[\"MathTmp\"].Quaternion[1];\n        let endTranslation = _preallocatedVariables__WEBPACK_IMPORTED_MODULE_2__[\"MathTmp\"].Vector3[3];\n        endValue.decompose(endScale, endRotation, endTranslation);\n        let resultScale = _preallocatedVariables__WEBPACK_IMPORTED_MODULE_2__[\"MathTmp\"].Vector3[4];\n        _Vector3__WEBPACK_IMPORTED_MODULE_0__[\"Vector3\"].LerpToRef(startScale, endScale, gradient, resultScale);\n        let resultRotation = _preallocatedVariables__WEBPACK_IMPORTED_MODULE_2__[\"MathTmp\"].Quaternion[2];\n        _Quaternion__WEBPACK_IMPORTED_MODULE_1__[\"Quaternion\"].SlerpToRef(startRotation, endRotation, gradient, resultRotation);\n        let resultTranslation = _preallocatedVariables__WEBPACK_IMPORTED_MODULE_2__[\"MathTmp\"].Vector3[5];\n        _Vector3__WEBPACK_IMPORTED_MODULE_0__[\"Vector3\"].LerpToRef(startTranslation, endTranslation, gradient, resultTranslation);\n        Matrix.ComposeToRef(resultScale, resultRotation, resultTranslation, result);\n    }\n    static LookAtLH(eye, target, up) {\n        let result = new Matrix();\n        Matrix.LookAtLHToRef(eye, target, up, result);\n        return result;\n    }\n    static LookAtLHToRef(eye, target, up, result) {\n        const xAxis = _preallocatedVariables__WEBPACK_IMPORTED_MODULE_2__[\"MathTmp\"].Vector3[0];\n        const yAxis = _preallocatedVariables__WEBPACK_IMPORTED_MODULE_2__[\"MathTmp\"].Vector3[1];\n        const zAxis = _preallocatedVariables__WEBPACK_IMPORTED_MODULE_2__[\"MathTmp\"].Vector3[2];\n        target.subtractToRef(eye, zAxis);\n        zAxis.normalize();\n        _Vector3__WEBPACK_IMPORTED_MODULE_0__[\"Vector3\"].CrossToRef(up, zAxis, xAxis);\n        const xSquareLength = xAxis.lengthSquared();\n        if (xSquareLength === 0) {\n            xAxis.x = 1.0;\n        }\n        else {\n            xAxis.normalizeFromLength(Math.sqrt(xSquareLength));\n        }\n        _Vector3__WEBPACK_IMPORTED_MODULE_0__[\"Vector3\"].CrossToRef(zAxis, xAxis, yAxis);\n        yAxis.normalize();\n        let ex = -_Vector3__WEBPACK_IMPORTED_MODULE_0__[\"Vector3\"].Dot(xAxis, eye);\n        let ey = -_Vector3__WEBPACK_IMPORTED_MODULE_0__[\"Vector3\"].Dot(yAxis, eye);\n        let ez = -_Vector3__WEBPACK_IMPORTED_MODULE_0__[\"Vector3\"].Dot(zAxis, eye);\n        Matrix.FromValuesToRef(xAxis.x, yAxis.x, zAxis.x, 0.0, xAxis.y, yAxis.y, zAxis.y, 0.0, xAxis.z, yAxis.z, zAxis.z, 0.0, ex, ey, ez, 1.0, result);\n    }\n    static LookAtRH(eye, target, up) {\n        let result = new Matrix();\n        Matrix.LookAtRHToRef(eye, target, up, result);\n        return result;\n    }\n    static LookAtRHToRef(eye, target, up, result) {\n        const xAxis = _preallocatedVariables__WEBPACK_IMPORTED_MODULE_2__[\"MathTmp\"].Vector3[0];\n        const yAxis = _preallocatedVariables__WEBPACK_IMPORTED_MODULE_2__[\"MathTmp\"].Vector3[1];\n        const zAxis = _preallocatedVariables__WEBPACK_IMPORTED_MODULE_2__[\"MathTmp\"].Vector3[2];\n        eye.subtractToRef(target, zAxis);\n        zAxis.normalize();\n        _Vector3__WEBPACK_IMPORTED_MODULE_0__[\"Vector3\"].CrossToRef(up, zAxis, xAxis);\n        const xSquareLength = xAxis.lengthSquared();\n        if (xSquareLength === 0) {\n            xAxis.x = 1.0;\n        }\n        else {\n            xAxis.normalizeFromLength(Math.sqrt(xSquareLength));\n        }\n        _Vector3__WEBPACK_IMPORTED_MODULE_0__[\"Vector3\"].CrossToRef(zAxis, xAxis, yAxis);\n        yAxis.normalize();\n        let ex = -_Vector3__WEBPACK_IMPORTED_MODULE_0__[\"Vector3\"].Dot(xAxis, eye);\n        let ey = -_Vector3__WEBPACK_IMPORTED_MODULE_0__[\"Vector3\"].Dot(yAxis, eye);\n        let ez = -_Vector3__WEBPACK_IMPORTED_MODULE_0__[\"Vector3\"].Dot(zAxis, eye);\n        Matrix.FromValuesToRef(xAxis.x, yAxis.x, zAxis.x, 0.0, xAxis.y, yAxis.y, zAxis.y, 0.0, xAxis.z, yAxis.z, zAxis.z, 0.0, ex, ey, ez, 1.0, result);\n    }\n    static OrthoLH(width, height, znear, zfar) {\n        let matrix = new Matrix();\n        Matrix.OrthoLHToRef(width, height, znear, zfar, matrix);\n        return matrix;\n    }\n    static OrthoLHToRef(width, height, znear, zfar, result) {\n        let n = znear;\n        let f = zfar;\n        let a = 2.0 / width;\n        let b = 2.0 / height;\n        let c = 2.0 / (f - n);\n        let d = -(f + n) / (f - n);\n        Matrix.FromValuesToRef(a, 0.0, 0.0, 0.0, 0.0, b, 0.0, 0.0, 0.0, 0.0, c, 0.0, 0.0, 0.0, d, 1.0, result);\n        result._updateIdentityStatus(a === 1 && b === 1 && c === 1 && d === 0);\n    }\n    static OrthoOffCenterLH(left, right, bottom, top, znear, zfar) {\n        let matrix = new Matrix();\n        Matrix.OrthoOffCenterLHToRef(left, right, bottom, top, znear, zfar, matrix);\n        return matrix;\n    }\n    static OrthoOffCenterLHToRef(left, right, bottom, top, znear, zfar, result) {\n        let n = znear;\n        let f = zfar;\n        let a = 2.0 / (right - left);\n        let b = 2.0 / (top - bottom);\n        let c = 2.0 / (f - n);\n        let d = -(f + n) / (f - n);\n        let i0 = (left + right) / (left - right);\n        let i1 = (top + bottom) / (bottom - top);\n        Matrix.FromValuesToRef(a, 0.0, 0.0, 0.0, 0.0, b, 0.0, 0.0, 0.0, 0.0, c, 0.0, i0, i1, d, 1.0, result);\n        result._markAsUpdated();\n    }\n    static OrthoOffCenterRH(left, right, bottom, top, znear, zfar) {\n        let matrix = new Matrix();\n        Matrix.OrthoOffCenterRHToRef(left, right, bottom, top, znear, zfar, matrix);\n        return matrix;\n    }\n    static OrthoOffCenterRHToRef(left, right, bottom, top, znear, zfar, result) {\n        Matrix.OrthoOffCenterLHToRef(left, right, bottom, top, znear, zfar, result);\n        result._m[10] *= -1;\n    }\n    static PerspectiveLH(width, height, znear, zfar) {\n        let matrix = new Matrix();\n        let n = znear;\n        let f = zfar;\n        let a = (2.0 * n) / width;\n        let b = (2.0 * n) / height;\n        let c = (f + n) / (f - n);\n        let d = (-2.0 * f * n) / (f - n);\n        Matrix.FromValuesToRef(a, 0.0, 0.0, 0.0, 0.0, b, 0.0, 0.0, 0.0, 0.0, c, 1.0, 0.0, 0.0, d, 0.0, matrix);\n        matrix._updateIdentityStatus(false);\n        return matrix;\n    }\n    static PerspectiveFovLH(fov, aspect, znear, zfar) {\n        let matrix = new Matrix();\n        Matrix.PerspectiveFovLHToRef(fov, aspect, znear, zfar, matrix);\n        return matrix;\n    }\n    static PerspectiveFovLHToRef(fov, aspect, znear, zfar, result, isVerticalFovFixed = true) {\n        let n = znear;\n        let f = zfar;\n        let t = 1.0 / Math.tan(fov * 0.5);\n        let a = isVerticalFovFixed ? t / aspect : t;\n        let b = isVerticalFovFixed ? t : t * aspect;\n        let c = (f + n) / (f - n);\n        let d = (-2.0 * f * n) / (f - n);\n        Matrix.FromValuesToRef(a, 0.0, 0.0, 0.0, 0.0, b, 0.0, 0.0, 0.0, 0.0, c, 1.0, 0.0, 0.0, d, 0.0, result);\n        result._updateIdentityStatus(false);\n    }\n    static PerspectiveFovRH(fov, aspect, znear, zfar) {\n        let matrix = new Matrix();\n        Matrix.PerspectiveFovRHToRef(fov, aspect, znear, zfar, matrix);\n        return matrix;\n    }\n    static PerspectiveFovRHToRef(fov, aspect, znear, zfar, result, isVerticalFovFixed = true) {\n        let n = znear;\n        let f = zfar;\n        let t = 1.0 / Math.tan(fov * 0.5);\n        let a = isVerticalFovFixed ? t / aspect : t;\n        let b = isVerticalFovFixed ? t : t * aspect;\n        let c = -(f + n) / (f - n);\n        let d = (-2 * f * n) / (f - n);\n        Matrix.FromValuesToRef(a, 0.0, 0.0, 0.0, 0.0, b, 0.0, 0.0, 0.0, 0.0, c, -1.0, 0.0, 0.0, d, 0.0, result);\n        result._updateIdentityStatus(false);\n    }\n    static PerspectiveFovWebVRToRef(fov, znear, zfar, result, rightHanded = false) {\n        let rightHandedFactor = rightHanded ? -1 : 1;\n        let upTan = Math.tan((fov.upDegrees * Math.PI) / 180.0);\n        let downTan = Math.tan((fov.downDegrees * Math.PI) / 180.0);\n        let leftTan = Math.tan((fov.leftDegrees * Math.PI) / 180.0);\n        let rightTan = Math.tan((fov.rightDegrees * Math.PI) / 180.0);\n        let xScale = 2.0 / (leftTan + rightTan);\n        let yScale = 2.0 / (upTan + downTan);\n        const m = result._m;\n        m[0] = xScale;\n        m[1] = m[2] = m[3] = m[4] = 0.0;\n        m[5] = yScale;\n        m[6] = m[7] = 0.0;\n        m[8] = (leftTan - rightTan) * xScale * 0.5;\n        m[9] = -((upTan - downTan) * yScale * 0.5);\n        m[10] = -zfar / (znear - zfar);\n        m[11] = 1.0 * rightHandedFactor;\n        m[12] = m[13] = m[15] = 0.0;\n        m[14] = -(2.0 * zfar * znear) / (zfar - znear);\n        result._markAsUpdated();\n    }\n    static GetAsMatrix2x2(matrix) {\n        return [matrix._m[0], matrix._m[1], matrix._m[4], matrix._m[5]];\n    }\n    static GetAsMatrix3x3(matrix) {\n        return [\n            matrix._m[0],\n            matrix._m[1],\n            matrix._m[2],\n            matrix._m[4],\n            matrix._m[5],\n            matrix._m[6],\n            matrix._m[8],\n            matrix._m[9],\n            matrix._m[10]\n        ];\n    }\n    static Transpose(matrix) {\n        let result = new Matrix();\n        Matrix.TransposeToRef(matrix, result);\n        return result;\n    }\n    static TransposeToRef(matrix, result) {\n        const rm = result._m;\n        const mm = matrix._m;\n        rm[0] = mm[0];\n        rm[1] = mm[4];\n        rm[2] = mm[8];\n        rm[3] = mm[12];\n        rm[4] = mm[1];\n        rm[5] = mm[5];\n        rm[6] = mm[9];\n        rm[7] = mm[13];\n        rm[8] = mm[2];\n        rm[9] = mm[6];\n        rm[10] = mm[10];\n        rm[11] = mm[14];\n        rm[12] = mm[3];\n        rm[13] = mm[7];\n        rm[14] = mm[11];\n        rm[15] = mm[15];\n        result._updateIdentityStatus(matrix._isIdentity, matrix._isIdentityDirty);\n    }\n    static Reflection(plane) {\n        let matrix = new Matrix();\n        Matrix.ReflectionToRef(plane, matrix);\n        return matrix;\n    }\n    static ReflectionToRef(plane, result) {\n        plane.normalize();\n        let x = plane.normal.x;\n        let y = plane.normal.y;\n        let z = plane.normal.z;\n        let temp = -2 * x;\n        let temp2 = -2 * y;\n        let temp3 = -2 * z;\n        Matrix.FromValuesToRef(temp * x + 1, temp2 * x, temp3 * x, 0.0, temp * y, temp2 * y + 1, temp3 * y, 0.0, temp * z, temp2 * z, temp3 * z + 1, 0.0, temp * plane.d, temp2 * plane.d, temp3 * plane.d, 1.0, result);\n    }\n    static FromXYZAxesToRef(xaxis, yaxis, zaxis, result) {\n        Matrix.FromValuesToRef(xaxis.x, xaxis.y, xaxis.z, 0.0, yaxis.x, yaxis.y, yaxis.z, 0.0, zaxis.x, zaxis.y, zaxis.z, 0.0, 0.0, 0.0, 0.0, 1.0, result);\n    }\n    static FromQuaternionToRef(quat, result) {\n        let xx = quat.x * quat.x;\n        let yy = quat.y * quat.y;\n        let zz = quat.z * quat.z;\n        let xy = quat.x * quat.y;\n        let zw = quat.z * quat.w;\n        let zx = quat.z * quat.x;\n        let yw = quat.y * quat.w;\n        let yz = quat.y * quat.z;\n        let xw = quat.x * quat.w;\n        result._m[0] = 1.0 - 2.0 * (yy + zz);\n        result._m[1] = 2.0 * (xy + zw);\n        result._m[2] = 2.0 * (zx - yw);\n        result._m[3] = 0.0;\n        result._m[4] = 2.0 * (xy - zw);\n        result._m[5] = 1.0 - 2.0 * (zz + xx);\n        result._m[6] = 2.0 * (yz + xw);\n        result._m[7] = 0.0;\n        result._m[8] = 2.0 * (zx + yw);\n        result._m[9] = 2.0 * (yz - xw);\n        result._m[10] = 1.0 - 2.0 * (yy + xx);\n        result._m[11] = 0.0;\n        result._m[12] = 0.0;\n        result._m[13] = 0.0;\n        result._m[14] = 0.0;\n        result._m[15] = 1.0;\n        result._markAsUpdated();\n    }\n    _markAsUpdated() {\n        this.updateFlag = Matrix._updateFlagSeed++;\n        this._isIdentity = false;\n        this._isIdentity3x2 = false;\n        this._isIdentityDirty = true;\n        this._isIdentity3x2Dirty = true;\n    }\n    isIdentity() {\n        if (this._isIdentityDirty) {\n            this._isIdentityDirty = false;\n            const m = this._m;\n            this._isIdentity =\n                m[0] === 1.0 &&\n                    m[1] === 0.0 &&\n                    m[2] === 0.0 &&\n                    m[3] === 0.0 &&\n                    m[4] === 0.0 &&\n                    m[5] === 1.0 &&\n                    m[6] === 0.0 &&\n                    m[7] === 0.0 &&\n                    m[8] === 0.0 &&\n                    m[9] === 0.0 &&\n                    m[10] === 1.0 &&\n                    m[11] === 0.0 &&\n                    m[12] === 0.0 &&\n                    m[13] === 0.0 &&\n                    m[14] === 0.0 &&\n                    m[15] === 1.0;\n        }\n        return this._isIdentity;\n    }\n    isIdentityAs3x2() {\n        if (this._isIdentity3x2Dirty) {\n            this._isIdentity3x2Dirty = false;\n            if (this._m[0] !== 1.0 || this._m[5] !== 1.0 || this._m[15] !== 1.0) {\n                this._isIdentity3x2 = false;\n            }\n            else if (this._m[1] !== 0.0 ||\n                this._m[2] !== 0.0 ||\n                this._m[3] !== 0.0 ||\n                this._m[4] !== 0.0 ||\n                this._m[6] !== 0.0 ||\n                this._m[7] !== 0.0 ||\n                this._m[8] !== 0.0 ||\n                this._m[9] !== 0.0 ||\n                this._m[10] !== 0.0 ||\n                this._m[11] !== 0.0 ||\n                this._m[12] !== 0.0 ||\n                this._m[13] !== 0.0 ||\n                this._m[14] !== 0.0) {\n                this._isIdentity3x2 = false;\n            }\n            else {\n                this._isIdentity3x2 = true;\n            }\n        }\n        return this._isIdentity3x2;\n    }\n    determinant() {\n        if (this._isIdentity === true) {\n            return 1;\n        }\n        const m = this._m;\n        const m00 = m[0], m01 = m[1], m02 = m[2], m03 = m[3];\n        const m10 = m[4], m11 = m[5], m12 = m[6], m13 = m[7];\n        const m20 = m[8], m21 = m[9], m22 = m[10], m23 = m[11];\n        const m30 = m[12], m31 = m[13], m32 = m[14], m33 = m[15];\n        const det_22_33 = m22 * m33 - m32 * m23;\n        const det_21_33 = m21 * m33 - m31 * m23;\n        const det_21_32 = m21 * m32 - m31 * m22;\n        const det_20_33 = m20 * m33 - m30 * m23;\n        const det_20_32 = m20 * m32 - m22 * m30;\n        const det_20_31 = m20 * m31 - m30 * m21;\n        const cofact_00 = +(m11 * det_22_33 - m12 * det_21_33 + m13 * det_21_32);\n        const cofact_01 = -(m10 * det_22_33 - m12 * det_20_33 + m13 * det_20_32);\n        const cofact_02 = +(m10 * det_21_33 - m11 * det_20_33 + m13 * det_20_31);\n        const cofact_03 = -(m10 * det_21_32 - m11 * det_20_32 + m12 * det_20_31);\n        return m00 * cofact_00 + m01 * cofact_01 + m02 * cofact_02 + m03 * cofact_03;\n    }\n    toArray() {\n        return this._m;\n    }\n    asArray() {\n        return this._m;\n    }\n    invert() {\n        this.invertToRef(this);\n        return this;\n    }\n    reset() {\n        Matrix.FromValuesToRef(0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, this);\n        this._updateIdentityStatus(false);\n        return this;\n    }\n    add(other) {\n        let result = new Matrix();\n        this.addToRef(other, result);\n        return result;\n    }\n    addToRef(other, result) {\n        for (let index = 0; index < 16; index++) {\n            result._m[index] = this._m[index] + other._m[index];\n        }\n        result._markAsUpdated();\n        return this;\n    }\n    addToSelf(other) {\n        for (let index = 0; index < 16; index++) {\n            this._m[index] += other._m[index];\n        }\n        this._markAsUpdated();\n        return this;\n    }\n    invertToRef(other) {\n        if (this._isIdentity === true) {\n            Matrix.IdentityToRef(other);\n            return this;\n        }\n        const m = this._m;\n        const m00 = m[0], m01 = m[1], m02 = m[2], m03 = m[3];\n        const m10 = m[4], m11 = m[5], m12 = m[6], m13 = m[7];\n        const m20 = m[8], m21 = m[9], m22 = m[10], m23 = m[11];\n        const m30 = m[12], m31 = m[13], m32 = m[14], m33 = m[15];\n        const det_22_33 = m22 * m33 - m32 * m23;\n        const det_21_33 = m21 * m33 - m31 * m23;\n        const det_21_32 = m21 * m32 - m31 * m22;\n        const det_20_33 = m20 * m33 - m30 * m23;\n        const det_20_32 = m20 * m32 - m22 * m30;\n        const det_20_31 = m20 * m31 - m30 * m21;\n        const cofact_00 = +(m11 * det_22_33 - m12 * det_21_33 + m13 * det_21_32);\n        const cofact_01 = -(m10 * det_22_33 - m12 * det_20_33 + m13 * det_20_32);\n        const cofact_02 = +(m10 * det_21_33 - m11 * det_20_33 + m13 * det_20_31);\n        const cofact_03 = -(m10 * det_21_32 - m11 * det_20_32 + m12 * det_20_31);\n        const det = m00 * cofact_00 + m01 * cofact_01 + m02 * cofact_02 + m03 * cofact_03;\n        if (det === 0) {\n            other.copyFrom(this);\n            return this;\n        }\n        const detInv = 1 / det;\n        const det_12_33 = m12 * m33 - m32 * m13;\n        const det_11_33 = m11 * m33 - m31 * m13;\n        const det_11_32 = m11 * m32 - m31 * m12;\n        const det_10_33 = m10 * m33 - m30 * m13;\n        const det_10_32 = m10 * m32 - m30 * m12;\n        const det_10_31 = m10 * m31 - m30 * m11;\n        const det_12_23 = m12 * m23 - m22 * m13;\n        const det_11_23 = m11 * m23 - m21 * m13;\n        const det_11_22 = m11 * m22 - m21 * m12;\n        const det_10_23 = m10 * m23 - m20 * m13;\n        const det_10_22 = m10 * m22 - m20 * m12;\n        const det_10_21 = m10 * m21 - m20 * m11;\n        const cofact_10 = -(m01 * det_22_33 - m02 * det_21_33 + m03 * det_21_32);\n        const cofact_11 = +(m00 * det_22_33 - m02 * det_20_33 + m03 * det_20_32);\n        const cofact_12 = -(m00 * det_21_33 - m01 * det_20_33 + m03 * det_20_31);\n        const cofact_13 = +(m00 * det_21_32 - m01 * det_20_32 + m02 * det_20_31);\n        const cofact_20 = +(m01 * det_12_33 - m02 * det_11_33 + m03 * det_11_32);\n        const cofact_21 = -(m00 * det_12_33 - m02 * det_10_33 + m03 * det_10_32);\n        const cofact_22 = +(m00 * det_11_33 - m01 * det_10_33 + m03 * det_10_31);\n        const cofact_23 = -(m00 * det_11_32 - m01 * det_10_32 + m02 * det_10_31);\n        const cofact_30 = -(m01 * det_12_23 - m02 * det_11_23 + m03 * det_11_22);\n        const cofact_31 = +(m00 * det_12_23 - m02 * det_10_23 + m03 * det_10_22);\n        const cofact_32 = -(m00 * det_11_23 - m01 * det_10_23 + m03 * det_10_21);\n        const cofact_33 = +(m00 * det_11_22 - m01 * det_10_22 + m02 * det_10_21);\n        Matrix.FromValuesToRef(cofact_00 * detInv, cofact_10 * detInv, cofact_20 * detInv, cofact_30 * detInv, cofact_01 * detInv, cofact_11 * detInv, cofact_21 * detInv, cofact_31 * detInv, cofact_02 * detInv, cofact_12 * detInv, cofact_22 * detInv, cofact_32 * detInv, cofact_03 * detInv, cofact_13 * detInv, cofact_23 * detInv, cofact_33 * detInv, other);\n        return this;\n    }\n    addAtIndex(index, value) {\n        this._m[index] += value;\n        this._markAsUpdated();\n        return this;\n    }\n    multiplyAtIndex(index, value) {\n        this._m[index] *= value;\n        this._markAsUpdated();\n        return this;\n    }\n    setTranslationFromFloats(x, y, z) {\n        this._m[12] = x;\n        this._m[13] = y;\n        this._m[14] = z;\n        this._markAsUpdated();\n        return this;\n    }\n    setTranslation(vector3) {\n        return this.setTranslationFromFloats(vector3.x, vector3.y, vector3.z);\n    }\n    getTranslation() {\n        return new _Vector3__WEBPACK_IMPORTED_MODULE_0__[\"Vector3\"](this._m[12], this._m[13], this._m[14]);\n    }\n    getTranslationToRef(result) {\n        result.x = this._m[12];\n        result.y = this._m[13];\n        result.z = this._m[14];\n        return this;\n    }\n    removeRotationAndScaling() {\n        const m = this.m;\n        Matrix.FromValuesToRef(1.0, 0.0, 0.0, 0.0, 0.0, 1.0, 0.0, 0.0, 0.0, 0.0, 1.0, 0.0, m[12], m[13], m[14], m[15], this);\n        this._updateIdentityStatus(m[12] === 0 && m[13] === 0 && m[14] === 0 && m[15] === 1);\n        return this;\n    }\n    multiply(other) {\n        let result = new Matrix();\n        this.multiplyToRef(other, result);\n        return result;\n    }\n    copyFrom(other) {\n        other.copyToArray(this._m);\n        const o = other;\n        this._updateIdentityStatus(o._isIdentity, o._isIdentityDirty, o._isIdentity3x2, o._isIdentity3x2Dirty);\n        return this;\n    }\n    copyToArray(array, offset = 0) {\n        for (let index = 0; index < 16; index++) {\n            array[offset + index] = this._m[index];\n        }\n        return this;\n    }\n    multiplyToRef(other, result) {\n        if (this._isIdentity) {\n            result.copyFrom(other);\n            return this;\n        }\n        if (other._isIdentity) {\n            result.copyFrom(this);\n            return this;\n        }\n        this.multiplyToArray(other, result._m, 0);\n        result._markAsUpdated();\n        return this;\n    }\n    multiplyToArray(other, result, offset) {\n        const m = this._m;\n        const otherM = other.m;\n        let tm0 = m[0], tm1 = m[1], tm2 = m[2], tm3 = m[3];\n        let tm4 = m[4], tm5 = m[5], tm6 = m[6], tm7 = m[7];\n        let tm8 = m[8], tm9 = m[9], tm10 = m[10], tm11 = m[11];\n        let tm12 = m[12], tm13 = m[13], tm14 = m[14], tm15 = m[15];\n        let om0 = otherM[0], om1 = otherM[1], om2 = otherM[2], om3 = otherM[3];\n        let om4 = otherM[4], om5 = otherM[5], om6 = otherM[6], om7 = otherM[7];\n        let om8 = otherM[8], om9 = otherM[9], om10 = otherM[10], om11 = otherM[11];\n        let om12 = otherM[12], om13 = otherM[13], om14 = otherM[14], om15 = otherM[15];\n        result[offset] = tm0 * om0 + tm1 * om4 + tm2 * om8 + tm3 * om12;\n        result[offset + 1] = tm0 * om1 + tm1 * om5 + tm2 * om9 + tm3 * om13;\n        result[offset + 2] = tm0 * om2 + tm1 * om6 + tm2 * om10 + tm3 * om14;\n        result[offset + 3] = tm0 * om3 + tm1 * om7 + tm2 * om11 + tm3 * om15;\n        result[offset + 4] = tm4 * om0 + tm5 * om4 + tm6 * om8 + tm7 * om12;\n        result[offset + 5] = tm4 * om1 + tm5 * om5 + tm6 * om9 + tm7 * om13;\n        result[offset + 6] = tm4 * om2 + tm5 * om6 + tm6 * om10 + tm7 * om14;\n        result[offset + 7] = tm4 * om3 + tm5 * om7 + tm6 * om11 + tm7 * om15;\n        result[offset + 8] = tm8 * om0 + tm9 * om4 + tm10 * om8 + tm11 * om12;\n        result[offset + 9] = tm8 * om1 + tm9 * om5 + tm10 * om9 + tm11 * om13;\n        result[offset + 10] = tm8 * om2 + tm9 * om6 + tm10 * om10 + tm11 * om14;\n        result[offset + 11] = tm8 * om3 + tm9 * om7 + tm10 * om11 + tm11 * om15;\n        result[offset + 12] = tm12 * om0 + tm13 * om4 + tm14 * om8 + tm15 * om12;\n        result[offset + 13] = tm12 * om1 + tm13 * om5 + tm14 * om9 + tm15 * om13;\n        result[offset + 14] = tm12 * om2 + tm13 * om6 + tm14 * om10 + tm15 * om14;\n        result[offset + 15] = tm12 * om3 + tm13 * om7 + tm14 * om11 + tm15 * om15;\n        return this;\n    }\n    equals(value) {\n        const other = value;\n        if (!other) {\n            return false;\n        }\n        if (this._isIdentity || other._isIdentity) {\n            if (!this._isIdentityDirty && !other._isIdentityDirty) {\n                return this._isIdentity && other._isIdentity;\n            }\n        }\n        const m = this.m;\n        const om = other.m;\n        return (m[0] === om[0] &&\n            m[1] === om[1] &&\n            m[2] === om[2] &&\n            m[3] === om[3] &&\n            m[4] === om[4] &&\n            m[5] === om[5] &&\n            m[6] === om[6] &&\n            m[7] === om[7] &&\n            m[8] === om[8] &&\n            m[9] === om[9] &&\n            m[10] === om[10] &&\n            m[11] === om[11] &&\n            m[12] === om[12] &&\n            m[13] === om[13] &&\n            m[14] === om[14] &&\n            m[15] === om[15]);\n    }\n    clone() {\n        const matrix = new Matrix();\n        matrix.copyFrom(this);\n        return matrix;\n    }\n    getClassName() {\n        return 'Matrix';\n    }\n    getHashCode() {\n        let hash = this._m[0] || 0;\n        for (let i = 1; i < 16; i++) {\n            hash = (hash * 397) ^ (this._m[i] || 0);\n        }\n        return hash;\n    }\n    decompose(scale, rotation, translation) {\n        if (this._isIdentity) {\n            if (translation) {\n                translation.setAll(0);\n            }\n            if (scale) {\n                scale.setAll(1);\n            }\n            if (rotation) {\n                rotation.copyFromFloats(0, 0, 0, 1);\n            }\n            return true;\n        }\n        const m = this._m;\n        if (translation) {\n            translation.copyFromFloats(m[12], m[13], m[14]);\n        }\n        const usedScale = scale || _preallocatedVariables__WEBPACK_IMPORTED_MODULE_2__[\"MathTmp\"].Vector3[0];\n        usedScale.x = Math.sqrt(m[0] * m[0] + m[1] * m[1] + m[2] * m[2]);\n        usedScale.y = Math.sqrt(m[4] * m[4] + m[5] * m[5] + m[6] * m[6]);\n        usedScale.z = Math.sqrt(m[8] * m[8] + m[9] * m[9] + m[10] * m[10]);\n        if (this.determinant() <= 0) {\n            usedScale.y *= -1;\n        }\n        if (usedScale.x === 0 || usedScale.y === 0 || usedScale.z === 0) {\n            if (rotation) {\n                rotation.copyFromFloats(0.0, 0.0, 0.0, 1.0);\n            }\n            return false;\n        }\n        if (rotation) {\n            const sx = 1 / usedScale.x, sy = 1 / usedScale.y, sz = 1 / usedScale.z;\n            Matrix.FromValuesToRef(m[0] * sx, m[1] * sx, m[2] * sx, 0.0, m[4] * sy, m[5] * sy, m[6] * sy, 0.0, m[8] * sz, m[9] * sz, m[10] * sz, 0.0, 0.0, 0.0, 0.0, 1.0, _preallocatedVariables__WEBPACK_IMPORTED_MODULE_2__[\"MathTmp\"].Matrix[0]);\n            _Quaternion__WEBPACK_IMPORTED_MODULE_1__[\"Quaternion\"].FromRotationMatrixToRef(_preallocatedVariables__WEBPACK_IMPORTED_MODULE_2__[\"MathTmp\"].Matrix[0], rotation);\n        }\n        return true;\n    }\n    getRow(index) {\n        if (index < 0 || index > 3) {\n            return null;\n        }\n        let i = index * 4;\n        return new _Vector4__WEBPACK_IMPORTED_MODULE_3__[\"Vector4\"](this._m[i + 0], this._m[i + 1], this._m[i + 2], this._m[i + 3]);\n    }\n    setRow(index, row) {\n        return this.setRowFromFloats(index, row.x, row.y, row.z, row.w);\n    }\n    transpose() {\n        return Matrix.Transpose(this);\n    }\n    transposeToRef(result) {\n        Matrix.TransposeToRef(this, result);\n        return this;\n    }\n    setRowFromFloats(index, x, y, z, w) {\n        if (index < 0 || index > 3) {\n            return this;\n        }\n        let i = index * 4;\n        this._m[i + 0] = x;\n        this._m[i + 1] = y;\n        this._m[i + 2] = z;\n        this._m[i + 3] = w;\n        this._markAsUpdated();\n        return this;\n    }\n    scale(scale) {\n        let result = new Matrix();\n        this.scaleToRef(scale, result);\n        return result;\n    }\n    scaleToRef(scale, result) {\n        for (let index = 0; index < 16; index++) {\n            result._m[index] = this._m[index] * scale;\n        }\n        result._markAsUpdated();\n        return this;\n    }\n    scaleAndAddToRef(scale, result) {\n        for (let index = 0; index < 16; index++) {\n            result._m[index] += this._m[index] * scale;\n        }\n        result._markAsUpdated();\n        return this;\n    }\n    toNormalMatrix(ref) {\n        const tmp = _preallocatedVariables__WEBPACK_IMPORTED_MODULE_2__[\"MathTmp\"].Matrix[0];\n        this.invertToRef(tmp);\n        tmp.transposeToRef(ref);\n        let m = ref._m;\n        Matrix.FromValuesToRef(m[0], m[1], m[2], 0.0, m[4], m[5], m[6], 0.0, m[8], m[9], m[10], 0.0, 0.0, 0.0, 0.0, 1.0, ref);\n    }\n    getRotationMatrix() {\n        let result = new Matrix();\n        this.getRotationMatrixToRef(result);\n        return result;\n    }\n    getRotationMatrixToRef(result) {\n        const scale = _preallocatedVariables__WEBPACK_IMPORTED_MODULE_2__[\"MathTmp\"].Vector3[0];\n        if (!this.decompose(scale)) {\n            Matrix.IdentityToRef(result);\n            return this;\n        }\n        const m = this._m;\n        const sx = 1 / scale.x, sy = 1 / scale.y, sz = 1 / scale.z;\n        Matrix.FromValuesToRef(m[0] * sx, m[1] * sx, m[2] * sx, 0.0, m[4] * sy, m[5] * sy, m[6] * sy, 0.0, m[8] * sz, m[9] * sz, m[10] * sz, 0.0, 0.0, 0.0, 0.0, 1.0, result);\n        return this;\n    }\n    toggleModelMatrixHandInPlace() {\n        const m = this._m;\n        m[2] *= -1;\n        m[6] *= -1;\n        m[8] *= -1;\n        m[9] *= -1;\n        m[14] *= -1;\n        this._markAsUpdated();\n    }\n    toggleProjectionMatrixHandInPlace() {\n        let m = this._m;\n        m[8] *= -1;\n        m[9] *= -1;\n        m[10] *= -1;\n        m[11] *= -1;\n        this._markAsUpdated();\n    }\n    _updateIdentityStatus(isIdentity, isIdentityDirty = false, isIdentity3x2 = false, isIdentity3x2Dirty = true) {\n        this.updateFlag = Matrix._updateFlagSeed++;\n        this._isIdentity = isIdentity;\n        this._isIdentity3x2 = isIdentity || isIdentity3x2;\n        this._isIdentityDirty = this._isIdentity ? false : isIdentityDirty;\n        this._isIdentity3x2Dirty = this._isIdentity3x2 ? false : isIdentity3x2Dirty;\n    }\n}\nMatrix._updateFlagSeed = 0;\nMatrix._identityReadOnly = Matrix.Identity();\n\n\n//# sourceURL=webpack:///./packages/decentraland-ecs/src/decentraland/math/Matrix.ts?");

/***/ }),

/***/ "./packages/decentraland-ecs/src/decentraland/math/Path2d.ts":
/*!*******************************************************************!*\
  !*** ./packages/decentraland-ecs/src/decentraland/math/Path2d.ts ***!
  \*******************************************************************/
/*! exports provided: Path2 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"Path2\", function() { return Path2; });\n/* harmony import */ var _Vector2__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Vector2 */ \"./packages/decentraland-ecs/src/decentraland/math/Vector2.ts\");\n/* harmony import */ var _Arc2__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./Arc2 */ \"./packages/decentraland-ecs/src/decentraland/math/Arc2.ts\");\n/* harmony import */ var _types__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./types */ \"./packages/decentraland-ecs/src/decentraland/math/types.ts\");\n\n\n\nclass Path2 {\n    constructor(x, y) {\n        this.closed = false;\n        this._points = new Array();\n        this._length = 0.0;\n        this._points.push(new _Vector2__WEBPACK_IMPORTED_MODULE_0__[\"Vector2\"](x, y));\n    }\n    static StartingAt(x, y) {\n        return new Path2(x, y);\n    }\n    addLineTo(x, y) {\n        if (this.closed) {\n            return this;\n        }\n        let newPoint = new _Vector2__WEBPACK_IMPORTED_MODULE_0__[\"Vector2\"](x, y);\n        let previousPoint = this._points[this._points.length - 1];\n        this._points.push(newPoint);\n        this._length += newPoint.subtract(previousPoint).length();\n        return this;\n    }\n    addArcTo(midX, midY, endX, endY, numberOfSegments = 36) {\n        if (this.closed) {\n            return this;\n        }\n        let startPoint = this._points[this._points.length - 1];\n        let midPoint = new _Vector2__WEBPACK_IMPORTED_MODULE_0__[\"Vector2\"](midX, midY);\n        let endPoint = new _Vector2__WEBPACK_IMPORTED_MODULE_0__[\"Vector2\"](endX, endY);\n        let arc = new _Arc2__WEBPACK_IMPORTED_MODULE_1__[\"Arc2\"](startPoint, midPoint, endPoint);\n        let increment = arc.angle.radians() / numberOfSegments;\n        if (arc.orientation === _types__WEBPACK_IMPORTED_MODULE_2__[\"Orientation\"].CW) {\n            increment *= -1;\n        }\n        let currentAngle = arc.startAngle.radians() + increment;\n        for (let i = 0; i < numberOfSegments; i++) {\n            let x = Math.cos(currentAngle) * arc.radius + arc.centerPoint.x;\n            let y = Math.sin(currentAngle) * arc.radius + arc.centerPoint.y;\n            this.addLineTo(x, y);\n            currentAngle += increment;\n        }\n        return this;\n    }\n    close() {\n        this.closed = true;\n        return this;\n    }\n    length() {\n        let result = this._length;\n        if (!this.closed) {\n            let lastPoint = this._points[this._points.length - 1];\n            let firstPoint = this._points[0];\n            result += firstPoint.subtract(lastPoint).length();\n        }\n        return result;\n    }\n    getPoints() {\n        return this._points;\n    }\n    getPointAtLengthPosition(normalizedLengthPosition) {\n        if (normalizedLengthPosition < 0 || normalizedLengthPosition > 1) {\n            return _Vector2__WEBPACK_IMPORTED_MODULE_0__[\"Vector2\"].Zero();\n        }\n        let lengthPosition = normalizedLengthPosition * this.length();\n        let previousOffset = 0;\n        for (let i = 0; i < this._points.length; i++) {\n            let j = (i + 1) % this._points.length;\n            let a = this._points[i];\n            let b = this._points[j];\n            let bToA = b.subtract(a);\n            let nextOffset = bToA.length() + previousOffset;\n            if (lengthPosition >= previousOffset && lengthPosition <= nextOffset) {\n                let dir = bToA.normalize();\n                let localOffset = lengthPosition - previousOffset;\n                return new _Vector2__WEBPACK_IMPORTED_MODULE_0__[\"Vector2\"](a.x + dir.x * localOffset, a.y + dir.y * localOffset);\n            }\n            previousOffset = nextOffset;\n        }\n        return _Vector2__WEBPACK_IMPORTED_MODULE_0__[\"Vector2\"].Zero();\n    }\n}\n\n\n//# sourceURL=webpack:///./packages/decentraland-ecs/src/decentraland/math/Path2d.ts?");

/***/ }),

/***/ "./packages/decentraland-ecs/src/decentraland/math/Path3d.ts":
/*!*******************************************************************!*\
  !*** ./packages/decentraland-ecs/src/decentraland/math/Path3d.ts ***!
  \*******************************************************************/
/*! exports provided: Path3D */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"Path3D\", function() { return Path3D; });\n/* harmony import */ var _Vector3__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Vector3 */ \"./packages/decentraland-ecs/src/decentraland/math/Vector3.ts\");\n/* harmony import */ var _types__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./types */ \"./packages/decentraland-ecs/src/decentraland/math/types.ts\");\n/* harmony import */ var _Scalar__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./Scalar */ \"./packages/decentraland-ecs/src/decentraland/math/Scalar.ts\");\n\n\n\nclass Path3D {\n    constructor(path, firstNormal = null, raw) {\n        this.path = path;\n        this._curve = new Array();\n        this._distances = new Array();\n        this._tangents = new Array();\n        this._normals = new Array();\n        this._binormals = new Array();\n        for (let p = 0; p < path.length; p++) {\n            this._curve[p] = path[p].clone();\n        }\n        this._raw = raw || false;\n        this._compute(firstNormal);\n    }\n    getCurve() {\n        return this._curve;\n    }\n    getTangents() {\n        return this._tangents;\n    }\n    getNormals() {\n        return this._normals;\n    }\n    getBinormals() {\n        return this._binormals;\n    }\n    getDistances() {\n        return this._distances;\n    }\n    update(path, firstNormal = null) {\n        for (let p = 0; p < path.length; p++) {\n            this._curve[p].x = path[p].x;\n            this._curve[p].y = path[p].y;\n            this._curve[p].z = path[p].z;\n        }\n        this._compute(firstNormal);\n        return this;\n    }\n    _compute(firstNormal) {\n        let l = this._curve.length;\n        this._tangents[0] = this._getFirstNonNullVector(0);\n        if (!this._raw) {\n            this._tangents[0].normalize();\n        }\n        this._tangents[l - 1] = this._curve[l - 1].subtract(this._curve[l - 2]);\n        if (!this._raw) {\n            this._tangents[l - 1].normalize();\n        }\n        let tg0 = this._tangents[0];\n        let pp0 = this._normalVector(this._curve[0], tg0, firstNormal);\n        this._normals[0] = pp0;\n        if (!this._raw) {\n            this._normals[0].normalize();\n        }\n        this._binormals[0] = _Vector3__WEBPACK_IMPORTED_MODULE_0__[\"Vector3\"].Cross(tg0, this._normals[0]);\n        if (!this._raw) {\n            this._binormals[0].normalize();\n        }\n        this._distances[0] = 0.0;\n        let prev;\n        let cur;\n        let curTang;\n        let prevBinor;\n        for (let i = 1; i < l; i++) {\n            prev = this._getLastNonNullVector(i);\n            if (i < l - 1) {\n                cur = this._getFirstNonNullVector(i);\n                this._tangents[i] = prev.add(cur);\n                this._tangents[i].normalize();\n            }\n            this._distances[i] = this._distances[i - 1] + prev.length();\n            curTang = this._tangents[i];\n            prevBinor = this._binormals[i - 1];\n            this._normals[i] = _Vector3__WEBPACK_IMPORTED_MODULE_0__[\"Vector3\"].Cross(prevBinor, curTang);\n            if (!this._raw) {\n                this._normals[i].normalize();\n            }\n            this._binormals[i] = _Vector3__WEBPACK_IMPORTED_MODULE_0__[\"Vector3\"].Cross(curTang, this._normals[i]);\n            if (!this._raw) {\n                this._binormals[i].normalize();\n            }\n        }\n    }\n    _getFirstNonNullVector(index) {\n        let i = 1;\n        let nNVector = this._curve[index + i].subtract(this._curve[index]);\n        while (nNVector.length() === 0 && index + i + 1 < this._curve.length) {\n            i++;\n            nNVector = this._curve[index + i].subtract(this._curve[index]);\n        }\n        return nNVector;\n    }\n    _getLastNonNullVector(index) {\n        let i = 1;\n        let nLVector = this._curve[index].subtract(this._curve[index - i]);\n        while (nLVector.length() === 0 && index > i + 1) {\n            i++;\n            nLVector = this._curve[index].subtract(this._curve[index - i]);\n        }\n        return nLVector;\n    }\n    _normalVector(v0, vt, va) {\n        let normal0;\n        let tgl = vt.length();\n        if (tgl === 0.0) {\n            tgl = 1.0;\n        }\n        if (va === undefined || va === null) {\n            let point;\n            if (!_Scalar__WEBPACK_IMPORTED_MODULE_2__[\"Scalar\"].WithinEpsilon(Math.abs(vt.y) / tgl, 1.0, _types__WEBPACK_IMPORTED_MODULE_1__[\"Epsilon\"])) {\n                point = new _Vector3__WEBPACK_IMPORTED_MODULE_0__[\"Vector3\"](0.0, -1.0, 0.0);\n            }\n            else if (!_Scalar__WEBPACK_IMPORTED_MODULE_2__[\"Scalar\"].WithinEpsilon(Math.abs(vt.x) / tgl, 1.0, _types__WEBPACK_IMPORTED_MODULE_1__[\"Epsilon\"])) {\n                point = new _Vector3__WEBPACK_IMPORTED_MODULE_0__[\"Vector3\"](1.0, 0.0, 0.0);\n            }\n            else if (!_Scalar__WEBPACK_IMPORTED_MODULE_2__[\"Scalar\"].WithinEpsilon(Math.abs(vt.z) / tgl, 1.0, _types__WEBPACK_IMPORTED_MODULE_1__[\"Epsilon\"])) {\n                point = new _Vector3__WEBPACK_IMPORTED_MODULE_0__[\"Vector3\"](0.0, 0.0, 1.0);\n            }\n            else {\n                point = _Vector3__WEBPACK_IMPORTED_MODULE_0__[\"Vector3\"].Zero();\n            }\n            normal0 = _Vector3__WEBPACK_IMPORTED_MODULE_0__[\"Vector3\"].Cross(vt, point);\n        }\n        else {\n            normal0 = _Vector3__WEBPACK_IMPORTED_MODULE_0__[\"Vector3\"].Cross(vt, va);\n            _Vector3__WEBPACK_IMPORTED_MODULE_0__[\"Vector3\"].CrossToRef(normal0, vt, normal0);\n        }\n        normal0.normalize();\n        return normal0;\n    }\n}\n\n\n//# sourceURL=webpack:///./packages/decentraland-ecs/src/decentraland/math/Path3d.ts?");

/***/ }),

/***/ "./packages/decentraland-ecs/src/decentraland/math/Plane.ts":
/*!******************************************************************!*\
  !*** ./packages/decentraland-ecs/src/decentraland/math/Plane.ts ***!
  \******************************************************************/
/*! exports provided: Plane */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"Plane\", function() { return Plane; });\n/* harmony import */ var _Vector3__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Vector3 */ \"./packages/decentraland-ecs/src/decentraland/math/Vector3.ts\");\n/* harmony import */ var _Matrix__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./Matrix */ \"./packages/decentraland-ecs/src/decentraland/math/Matrix.ts\");\n/* harmony import */ var _preallocatedVariables__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./preallocatedVariables */ \"./packages/decentraland-ecs/src/decentraland/math/preallocatedVariables.ts\");\n\n\n\nclass Plane {\n    constructor(a, b, c, d) {\n        this.normal = new _Vector3__WEBPACK_IMPORTED_MODULE_0__[\"Vector3\"](a, b, c);\n        this.d = d;\n    }\n    static FromArray(array) {\n        return new Plane(array[0], array[1], array[2], array[3]);\n    }\n    static FromPoints(point1, point2, point3) {\n        let result = new Plane(0.0, 0.0, 0.0, 0.0);\n        result.copyFromPoints(point1, point2, point3);\n        return result;\n    }\n    static FromPositionAndNormal(origin, normal) {\n        let result = new Plane(0.0, 0.0, 0.0, 0.0);\n        normal.normalize();\n        result.normal = normal;\n        result.d = -(normal.x * origin.x + normal.y * origin.y + normal.z * origin.z);\n        return result;\n    }\n    static SignedDistanceToPlaneFromPositionAndNormal(origin, normal, point) {\n        let d = -(normal.x * origin.x + normal.y * origin.y + normal.z * origin.z);\n        return _Vector3__WEBPACK_IMPORTED_MODULE_0__[\"Vector3\"].Dot(point, normal) + d;\n    }\n    asArray() {\n        return [this.normal.x, this.normal.y, this.normal.z, this.d];\n    }\n    clone() {\n        return new Plane(this.normal.x, this.normal.y, this.normal.z, this.d);\n    }\n    getClassName() {\n        return 'Plane';\n    }\n    getHashCode() {\n        let hash = this.normal.getHashCode();\n        hash = (hash * 397) ^ (this.d || 0);\n        return hash;\n    }\n    normalize() {\n        let norm = Math.sqrt(this.normal.x * this.normal.x + this.normal.y * this.normal.y + this.normal.z * this.normal.z);\n        let magnitude = 0.0;\n        if (norm !== 0) {\n            magnitude = 1.0 / norm;\n        }\n        this.normal.x *= magnitude;\n        this.normal.y *= magnitude;\n        this.normal.z *= magnitude;\n        this.d *= magnitude;\n        return this;\n    }\n    transform(transformation) {\n        const transposedMatrix = _preallocatedVariables__WEBPACK_IMPORTED_MODULE_2__[\"MathTmp\"].Matrix[0];\n        _Matrix__WEBPACK_IMPORTED_MODULE_1__[\"Matrix\"].TransposeToRef(transformation, transposedMatrix);\n        const m = transposedMatrix.m;\n        let x = this.normal.x;\n        let y = this.normal.y;\n        let z = this.normal.z;\n        let d = this.d;\n        let normalX = x * m[0] + y * m[1] + z * m[2] + d * m[3];\n        let normalY = x * m[4] + y * m[5] + z * m[6] + d * m[7];\n        let normalZ = x * m[8] + y * m[9] + z * m[10] + d * m[11];\n        let finalD = x * m[12] + y * m[13] + z * m[14] + d * m[15];\n        return new Plane(normalX, normalY, normalZ, finalD);\n    }\n    dotCoordinate(point) {\n        return this.normal.x * point.x + this.normal.y * point.y + this.normal.z * point.z + this.d;\n    }\n    copyFromPoints(point1, point2, point3) {\n        let x1 = point2.x - point1.x;\n        let y1 = point2.y - point1.y;\n        let z1 = point2.z - point1.z;\n        let x2 = point3.x - point1.x;\n        let y2 = point3.y - point1.y;\n        let z2 = point3.z - point1.z;\n        let yz = y1 * z2 - z1 * y2;\n        let xz = z1 * x2 - x1 * z2;\n        let xy = x1 * y2 - y1 * x2;\n        let pyth = Math.sqrt(yz * yz + xz * xz + xy * xy);\n        let invPyth;\n        if (pyth !== 0) {\n            invPyth = 1.0 / pyth;\n        }\n        else {\n            invPyth = 0.0;\n        }\n        this.normal.x = yz * invPyth;\n        this.normal.y = xz * invPyth;\n        this.normal.z = xy * invPyth;\n        this.d = -(this.normal.x * point1.x + this.normal.y * point1.y + this.normal.z * point1.z);\n        return this;\n    }\n    isFrontFacingTo(direction, epsilon) {\n        let dot = _Vector3__WEBPACK_IMPORTED_MODULE_0__[\"Vector3\"].Dot(this.normal, direction);\n        return dot <= epsilon;\n    }\n    signedDistanceTo(point) {\n        return _Vector3__WEBPACK_IMPORTED_MODULE_0__[\"Vector3\"].Dot(point, this.normal) + this.d;\n    }\n}\n\n\n//# sourceURL=webpack:///./packages/decentraland-ecs/src/decentraland/math/Plane.ts?");

/***/ }),

/***/ "./packages/decentraland-ecs/src/decentraland/math/Quaternion.ts":
/*!***********************************************************************!*\
  !*** ./packages/decentraland-ecs/src/decentraland/math/Quaternion.ts ***!
  \***********************************************************************/
/*! exports provided: Quaternion */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"Quaternion\", function() { return Quaternion; });\n/* harmony import */ var _Matrix__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Matrix */ \"./packages/decentraland-ecs/src/decentraland/math/Matrix.ts\");\n/* harmony import */ var _Vector3__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./Vector3 */ \"./packages/decentraland-ecs/src/decentraland/math/Vector3.ts\");\n/* harmony import */ var _preallocatedVariables__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./preallocatedVariables */ \"./packages/decentraland-ecs/src/decentraland/math/preallocatedVariables.ts\");\n/* harmony import */ var _types__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./types */ \"./packages/decentraland-ecs/src/decentraland/math/types.ts\");\n\n\n\n\nclass Quaternion {\n    constructor(x = 0.0, y = 0.0, z = 0.0, w = 1.0) {\n        this.x = x;\n        this.y = y;\n        this.z = z;\n        this.w = w;\n    }\n    static FromRotationMatrix(matrix) {\n        let result = new Quaternion();\n        Quaternion.FromRotationMatrixToRef(matrix, result);\n        return result;\n    }\n    static FromRotationMatrixToRef(matrix, result) {\n        let data = matrix.m;\n        let m11 = data[0], m12 = data[4], m13 = data[8];\n        let m21 = data[1], m22 = data[5], m23 = data[9];\n        let m31 = data[2], m32 = data[6], m33 = data[10];\n        let trace = m11 + m22 + m33;\n        let s;\n        if (trace > 0) {\n            s = 0.5 / Math.sqrt(trace + 1.0);\n            result.w = 0.25 / s;\n            result.x = (m32 - m23) * s;\n            result.y = (m13 - m31) * s;\n            result.z = (m21 - m12) * s;\n        }\n        else if (m11 > m22 && m11 > m33) {\n            s = 2.0 * Math.sqrt(1.0 + m11 - m22 - m33);\n            result.w = (m32 - m23) / s;\n            result.x = 0.25 * s;\n            result.y = (m12 + m21) / s;\n            result.z = (m13 + m31) / s;\n        }\n        else if (m22 > m33) {\n            s = 2.0 * Math.sqrt(1.0 + m22 - m11 - m33);\n            result.w = (m13 - m31) / s;\n            result.x = (m12 + m21) / s;\n            result.y = 0.25 * s;\n            result.z = (m23 + m32) / s;\n        }\n        else {\n            s = 2.0 * Math.sqrt(1.0 + m33 - m11 - m22);\n            result.w = (m21 - m12) / s;\n            result.x = (m13 + m31) / s;\n            result.y = (m23 + m32) / s;\n            result.z = 0.25 * s;\n        }\n    }\n    static Dot(left, right) {\n        return left.x * right.x + left.y * right.y + left.z * right.z + left.w * right.w;\n    }\n    static AreClose(quat0, quat1) {\n        let dot = Quaternion.Dot(quat0, quat1);\n        return dot >= 0;\n    }\n    static Zero() {\n        return new Quaternion(0.0, 0.0, 0.0, 0.0);\n    }\n    static Inverse(q) {\n        return new Quaternion(-q.x, -q.y, -q.z, q.w);\n    }\n    static IsIdentity(quaternion) {\n        return quaternion && quaternion.x === 0 && quaternion.y === 0 && quaternion.z === 0 && quaternion.w === 1;\n    }\n    static RotationAxis(axis, angle) {\n        const angleRad = angle * _types__WEBPACK_IMPORTED_MODULE_3__[\"DEG2RAD\"];\n        return Quaternion.RotationAxisToRef(axis, angleRad, new Quaternion());\n    }\n    static RotationAxisToRef(axis, angle, result) {\n        const angleRad = angle * _types__WEBPACK_IMPORTED_MODULE_3__[\"DEG2RAD\"];\n        let sin = Math.sin(angleRad / 2);\n        axis.normalize();\n        result.w = Math.cos(angleRad / 2);\n        result.x = axis.x * sin;\n        result.y = axis.y * sin;\n        result.z = axis.z * sin;\n        return result;\n    }\n    static FromArray(array, offset = 0) {\n        return new Quaternion(array[offset], array[offset + 1], array[offset + 2], array[offset + 3]);\n    }\n    static FromEulerAnglesRef(x, y, z, result) {\n        return Quaternion.RotationYawPitchRollToRef(y * _types__WEBPACK_IMPORTED_MODULE_3__[\"DEG2RAD\"], x * _types__WEBPACK_IMPORTED_MODULE_3__[\"DEG2RAD\"], z * _types__WEBPACK_IMPORTED_MODULE_3__[\"DEG2RAD\"], result);\n    }\n    static RotationYawPitchRoll(yaw, pitch, roll) {\n        let q = new Quaternion();\n        Quaternion.RotationYawPitchRollToRef(yaw, pitch, roll, q);\n        return q;\n    }\n    static RotationYawPitchRollToRef(yaw, pitch, roll, result) {\n        let halfRoll = roll * 0.5;\n        let halfPitch = pitch * 0.5;\n        let halfYaw = yaw * 0.5;\n        let c1 = Math.cos(halfPitch);\n        let c2 = Math.cos(halfYaw);\n        let c3 = Math.cos(halfRoll);\n        let s1 = Math.sin(halfPitch);\n        let s2 = Math.sin(halfYaw);\n        let s3 = Math.sin(halfRoll);\n        result.x = s1 * c2 * c3 + c1 * s2 * s3;\n        result.y = c1 * s2 * c3 - s1 * c2 * s3;\n        result.z = c1 * c2 * s3 + s1 * s2 * c3;\n        result.w = c1 * c2 * c3 - s1 * s2 * s3;\n    }\n    static RotationAlphaBetaGamma(alpha, beta, gamma) {\n        let result = new Quaternion();\n        Quaternion.RotationAlphaBetaGammaToRef(alpha, beta, gamma, result);\n        return result;\n    }\n    static RotationAlphaBetaGammaToRef(alpha, beta, gamma, result) {\n        let halfGammaPlusAlpha = (gamma + alpha) * 0.5;\n        let halfGammaMinusAlpha = (gamma - alpha) * 0.5;\n        let halfBeta = beta * 0.5;\n        result.x = Math.cos(halfGammaMinusAlpha) * Math.sin(halfBeta);\n        result.y = Math.sin(halfGammaMinusAlpha) * Math.sin(halfBeta);\n        result.z = Math.sin(halfGammaPlusAlpha) * Math.cos(halfBeta);\n        result.w = Math.cos(halfGammaPlusAlpha) * Math.cos(halfBeta);\n    }\n    static RotationQuaternionFromAxis(axis1, axis2, axis3) {\n        let quat = new Quaternion(0.0, 0.0, 0.0, 0.0);\n        Quaternion.RotationQuaternionFromAxisToRef(axis1, axis2, axis3, quat);\n        return quat;\n    }\n    static RotationQuaternionFromAxisToRef(axis1, axis2, axis3, ref) {\n        let rotMat = _preallocatedVariables__WEBPACK_IMPORTED_MODULE_2__[\"MathTmp\"].Matrix[0];\n        _Matrix__WEBPACK_IMPORTED_MODULE_0__[\"Matrix\"].FromXYZAxesToRef(axis1.normalize(), axis2.normalize(), axis3.normalize(), rotMat);\n        Quaternion.FromRotationMatrixToRef(rotMat, ref);\n    }\n    static Slerp(left, right, amount) {\n        let result = Quaternion.Identity;\n        Quaternion.SlerpToRef(left, right, amount, result);\n        return result;\n    }\n    static SlerpToRef(left, right, amount, result) {\n        let num2;\n        let num3;\n        let num4 = left.x * right.x + left.y * right.y + left.z * right.z + left.w * right.w;\n        let flag = false;\n        if (num4 < 0) {\n            flag = true;\n            num4 = -num4;\n        }\n        if (num4 > 0.999999) {\n            num3 = 1 - amount;\n            num2 = flag ? -amount : amount;\n        }\n        else {\n            let num5 = Math.acos(num4);\n            let num6 = 1.0 / Math.sin(num5);\n            num3 = Math.sin((1.0 - amount) * num5) * num6;\n            num2 = flag ? -Math.sin(amount * num5) * num6 : Math.sin(amount * num5) * num6;\n        }\n        result.x = num3 * left.x + num2 * right.x;\n        result.y = num3 * left.y + num2 * right.y;\n        result.z = num3 * left.z + num2 * right.z;\n        result.w = num3 * left.w + num2 * right.w;\n    }\n    static Hermite(value1, tangent1, value2, tangent2, amount) {\n        let squared = amount * amount;\n        let cubed = amount * squared;\n        let part1 = 2.0 * cubed - 3.0 * squared + 1.0;\n        let part2 = -2.0 * cubed + 3.0 * squared;\n        let part3 = cubed - 2.0 * squared + amount;\n        let part4 = cubed - squared;\n        let x = value1.x * part1 + value2.x * part2 + tangent1.x * part3 + tangent2.x * part4;\n        let y = value1.y * part1 + value2.y * part2 + tangent1.y * part3 + tangent2.y * part4;\n        let z = value1.z * part1 + value2.z * part2 + tangent1.z * part3 + tangent2.z * part4;\n        let w = value1.w * part1 + value2.w * part2 + tangent1.w * part3 + tangent2.w * part4;\n        return new Quaternion(x, y, z, w);\n    }\n    static get Identity() {\n        return new Quaternion(0.0, 0.0, 0.0, 1.0);\n    }\n    static Angle(quat1, quat2) {\n        const dot = Quaternion.Dot(quat1, quat2);\n        return Math.acos(Math.min(Math.abs(dot), 1)) * 2 * _types__WEBPACK_IMPORTED_MODULE_3__[\"RAD2DEG\"];\n    }\n    static Euler(x, y, z) {\n        return Quaternion.RotationYawPitchRoll(y * _types__WEBPACK_IMPORTED_MODULE_3__[\"DEG2RAD\"], x * _types__WEBPACK_IMPORTED_MODULE_3__[\"DEG2RAD\"], z * _types__WEBPACK_IMPORTED_MODULE_3__[\"DEG2RAD\"]);\n    }\n    static LookRotation(forward, up = _preallocatedVariables__WEBPACK_IMPORTED_MODULE_2__[\"MathTmp\"].staticUp) {\n        const forwardNew = _Vector3__WEBPACK_IMPORTED_MODULE_1__[\"Vector3\"].Normalize(forward);\n        const right = _Vector3__WEBPACK_IMPORTED_MODULE_1__[\"Vector3\"].Normalize(_Vector3__WEBPACK_IMPORTED_MODULE_1__[\"Vector3\"].Cross(up, forwardNew));\n        const upNew = _Vector3__WEBPACK_IMPORTED_MODULE_1__[\"Vector3\"].Cross(forwardNew, right);\n        let m00 = right.x;\n        let m01 = right.y;\n        let m02 = right.z;\n        let m10 = upNew.x;\n        let m11 = upNew.y;\n        let m12 = upNew.z;\n        let m20 = forwardNew.x;\n        let m21 = forwardNew.y;\n        let m22 = forwardNew.z;\n        const num8 = m00 + m11 + m22;\n        let quaternion = new Quaternion();\n        if (num8 > 0) {\n            let num = Math.sqrt(num8 + 1);\n            quaternion.w = num * 0.5;\n            num = 0.5 / num;\n            quaternion.x = (m12 - m21) * num;\n            quaternion.y = (m20 - m02) * num;\n            quaternion.z = (m01 - m10) * num;\n            return quaternion;\n        }\n        if (m00 >= m11 && m00 >= m22) {\n            let num7 = Math.sqrt(1 + m00 - m11 - m22);\n            let num4 = 0.5 / num7;\n            quaternion.x = 0.5 * num7;\n            quaternion.y = (m01 + m10) * num4;\n            quaternion.z = (m02 + m20) * num4;\n            quaternion.w = (m12 - m21) * num4;\n            return quaternion;\n        }\n        if (m11 > m22) {\n            let num6 = Math.sqrt(1 + m11 - m00 - m22);\n            let num3 = 0.5 / num6;\n            quaternion.x = (m10 + m01) * num3;\n            quaternion.y = 0.5 * num6;\n            quaternion.z = (m21 + m12) * num3;\n            quaternion.w = (m20 - m02) * num3;\n            return quaternion;\n        }\n        let num5 = Math.sqrt(1 + m22 - m00 - m11);\n        let num2 = 0.5 / num5;\n        quaternion.x = (m20 + m02) * num2;\n        quaternion.y = (m21 + m12) * num2;\n        quaternion.z = 0.5 * num5;\n        quaternion.w = (m01 - m10) * num2;\n        return quaternion;\n    }\n    static RotateTowards(from, to, maxDegreesDelta) {\n        const num = Quaternion.Angle(from, to);\n        if (num === 0) {\n            return to;\n        }\n        const t = Math.min(1, maxDegreesDelta / num);\n        return Quaternion.Slerp(from, to, t);\n    }\n    static FromToRotation(from, to) {\n        const result = new Quaternion();\n        let v0 = from.normalize();\n        let v1 = to.normalize();\n        let d = _Vector3__WEBPACK_IMPORTED_MODULE_1__[\"Vector3\"].Dot(v0, v1);\n        if (d > -1 + _types__WEBPACK_IMPORTED_MODULE_3__[\"Epsilon\"]) {\n            let s = Math.sqrt((1 + d) * 2);\n            let invs = 1 / s;\n            let c = _Vector3__WEBPACK_IMPORTED_MODULE_1__[\"Vector3\"].Cross(v0, v1).scaleInPlace(invs);\n            result.set(c.x, c.y, c.z, s * 0.5);\n        }\n        else if (d > 1 - _types__WEBPACK_IMPORTED_MODULE_3__[\"Epsilon\"]) {\n            return new Quaternion(0, 0, 0, 1);\n        }\n        else {\n            let axis = _Vector3__WEBPACK_IMPORTED_MODULE_1__[\"Vector3\"].Cross(_Vector3__WEBPACK_IMPORTED_MODULE_1__[\"Vector3\"].Right(), v0);\n            if (axis.lengthSquared() < _types__WEBPACK_IMPORTED_MODULE_3__[\"Epsilon\"]) {\n                axis = _Vector3__WEBPACK_IMPORTED_MODULE_1__[\"Vector3\"].Cross(_Vector3__WEBPACK_IMPORTED_MODULE_1__[\"Vector3\"].Forward(), v0);\n            }\n            result.set(axis.x, axis.y, axis.z, 0);\n        }\n        return result.normalize();\n    }\n    get normalized() {\n        return this.normalize();\n    }\n    setFromToRotation(from, to, up = _preallocatedVariables__WEBPACK_IMPORTED_MODULE_2__[\"MathTmp\"].staticUp) {\n        _preallocatedVariables__WEBPACK_IMPORTED_MODULE_2__[\"MathTmp\"].tmpMatrix = _Matrix__WEBPACK_IMPORTED_MODULE_0__[\"Matrix\"].Zero();\n        _Matrix__WEBPACK_IMPORTED_MODULE_0__[\"Matrix\"].LookAtLHToRef(from, to, up, _preallocatedVariables__WEBPACK_IMPORTED_MODULE_2__[\"MathTmp\"].tmpMatrix);\n        _preallocatedVariables__WEBPACK_IMPORTED_MODULE_2__[\"MathTmp\"].tmpMatrix.invert();\n        Quaternion.FromRotationMatrixToRef(_preallocatedVariables__WEBPACK_IMPORTED_MODULE_2__[\"MathTmp\"].tmpMatrix, this);\n    }\n    set eulerAngles(euler) {\n        this.setEuler(euler.x, euler.y, euler.z);\n    }\n    get eulerAngles() {\n        const out = new _Vector3__WEBPACK_IMPORTED_MODULE_1__[\"Vector3\"]();\n        const mat = new _Matrix__WEBPACK_IMPORTED_MODULE_0__[\"Matrix\"]();\n        this.toRotationMatrix(mat);\n        const m = _Matrix__WEBPACK_IMPORTED_MODULE_0__[\"Matrix\"].GetAsMatrix3x3(mat);\n        out.y = _types__WEBPACK_IMPORTED_MODULE_3__[\"RAD2DEG\"] * Math.asin(Math.max(-1, Math.min(1, m[6])));\n        if (Math.abs(m[6]) < 0.99999) {\n            out.x = _types__WEBPACK_IMPORTED_MODULE_3__[\"RAD2DEG\"] * Math.atan2(-m[7], m[8]);\n            out.z = _types__WEBPACK_IMPORTED_MODULE_3__[\"RAD2DEG\"] * Math.atan2(-m[3], m[0]);\n        }\n        else {\n            out.x = _types__WEBPACK_IMPORTED_MODULE_3__[\"RAD2DEG\"] * Math.atan2(m[5], m[4]);\n            out.z = 0;\n        }\n        return out;\n    }\n    toString() {\n        return `(${this.x}, ${this.y}, ${this.z}, ${this.w})`;\n    }\n    get length() {\n        return Math.sqrt(this.lengthSquared);\n    }\n    get lengthSquared() {\n        return this.x * this.x + this.y * this.y + this.z * this.z + this.w * this.w;\n    }\n    getClassName() {\n        return 'Quaternion';\n    }\n    getHashCode() {\n        let hash = this.x || 0;\n        hash = (hash * 397) ^ (this.y || 0);\n        hash = (hash * 397) ^ (this.z || 0);\n        hash = (hash * 397) ^ (this.w || 0);\n        return hash;\n    }\n    asArray() {\n        return [this.x, this.y, this.z, this.w];\n    }\n    equals(otherQuaternion) {\n        return (otherQuaternion &&\n            this.x === otherQuaternion.x &&\n            this.y === otherQuaternion.y &&\n            this.z === otherQuaternion.z &&\n            this.w === otherQuaternion.w);\n    }\n    clone() {\n        return new Quaternion(this.x, this.y, this.z, this.w);\n    }\n    copyFrom(other) {\n        this.x = other.x;\n        this.y = other.y;\n        this.z = other.z;\n        this.w = other.w;\n        return this;\n    }\n    copyFromFloats(x, y, z, w) {\n        this.x = x;\n        this.y = y;\n        this.z = z;\n        this.w = w;\n        return this;\n    }\n    set(x, y, z, w) {\n        return this.copyFromFloats(x, y, z, w);\n    }\n    setEuler(x, y, z) {\n        Quaternion.RotationYawPitchRollToRef(y * _types__WEBPACK_IMPORTED_MODULE_3__[\"DEG2RAD\"], x * _types__WEBPACK_IMPORTED_MODULE_3__[\"DEG2RAD\"], z * _types__WEBPACK_IMPORTED_MODULE_3__[\"DEG2RAD\"], this);\n        return this;\n    }\n    add(other) {\n        return new Quaternion(this.x + other.x, this.y + other.y, this.z + other.z, this.w + other.w);\n    }\n    addInPlace(other) {\n        this.x += other.x;\n        this.y += other.y;\n        this.z += other.z;\n        this.w += other.w;\n        return this;\n    }\n    subtract(other) {\n        return new Quaternion(this.x - other.x, this.y - other.y, this.z - other.z, this.w - other.w);\n    }\n    scale(value) {\n        return new Quaternion(this.x * value, this.y * value, this.z * value, this.w * value);\n    }\n    scaleToRef(scale, result) {\n        result.x = this.x * scale;\n        result.y = this.y * scale;\n        result.z = this.z * scale;\n        result.w = this.w * scale;\n        return this;\n    }\n    scaleInPlace(value) {\n        this.x *= value;\n        this.y *= value;\n        this.z *= value;\n        this.w *= value;\n        return this;\n    }\n    scaleAndAddToRef(scale, result) {\n        result.x += this.x * scale;\n        result.y += this.y * scale;\n        result.z += this.z * scale;\n        result.w += this.w * scale;\n        return this;\n    }\n    multiply(q1) {\n        let result = new Quaternion(0, 0, 0, 1.0);\n        this.multiplyToRef(q1, result);\n        return result;\n    }\n    multiplyToRef(q1, result) {\n        let x = this.x * q1.w + this.y * q1.z - this.z * q1.y + this.w * q1.x;\n        let y = -this.x * q1.z + this.y * q1.w + this.z * q1.x + this.w * q1.y;\n        let z = this.x * q1.y - this.y * q1.x + this.z * q1.w + this.w * q1.z;\n        let w = -this.x * q1.x - this.y * q1.y - this.z * q1.z + this.w * q1.w;\n        result.copyFromFloats(x, y, z, w);\n        return this;\n    }\n    multiplyInPlace(q1) {\n        this.multiplyToRef(q1, this);\n        return this;\n    }\n    conjugateToRef(ref) {\n        ref.copyFromFloats(-this.x, -this.y, -this.z, this.w);\n        return this;\n    }\n    conjugateInPlace() {\n        this.x *= -1;\n        this.y *= -1;\n        this.z *= -1;\n        return this;\n    }\n    conjugate() {\n        let result = new Quaternion(-this.x, -this.y, -this.z, this.w);\n        return result;\n    }\n    normalize() {\n        let length = 1.0 / this.length;\n        this.x *= length;\n        this.y *= length;\n        this.z *= length;\n        this.w *= length;\n        return this;\n    }\n    angleAxis(degress, axis) {\n        if (axis.lengthSquared() === 0) {\n            return Quaternion.Identity;\n        }\n        const result = Quaternion.Identity;\n        let radians = degress * _types__WEBPACK_IMPORTED_MODULE_3__[\"DEG2RAD\"];\n        radians *= 0.5;\n        let a2 = axis.normalize();\n        a2 = axis.scaleInPlace(Math.sin(radians));\n        result.x = a2.x;\n        result.y = a2.y;\n        result.z = a2.z;\n        result.w = Math.cos(radians);\n        return result.normalize();\n    }\n    toRotationMatrix(result) {\n        _Matrix__WEBPACK_IMPORTED_MODULE_0__[\"Matrix\"].FromQuaternionToRef(this, result);\n        return this;\n    }\n    fromRotationMatrix(matrix) {\n        Quaternion.FromRotationMatrixToRef(matrix, this);\n        return this;\n    }\n}\n\n\n//# sourceURL=webpack:///./packages/decentraland-ecs/src/decentraland/math/Quaternion.ts?");

/***/ }),

/***/ "./packages/decentraland-ecs/src/decentraland/math/Scalar.ts":
/*!*******************************************************************!*\
  !*** ./packages/decentraland-ecs/src/decentraland/math/Scalar.ts ***!
  \*******************************************************************/
/*! exports provided: Scalar */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"Scalar\", function() { return Scalar; });\nclass Scalar {\n    static WithinEpsilon(a, b, epsilon = 1.401298e-45) {\n        let num = a - b;\n        return -epsilon <= num && num <= epsilon;\n    }\n    static ToHex(i) {\n        let str = i.toString(16);\n        if (i <= 15) {\n            return ('0' + str).toUpperCase();\n        }\n        return str.toUpperCase();\n    }\n    static Sign(value) {\n        const _value = +value;\n        if (_value === 0 || isNaN(_value)) {\n            return _value;\n        }\n        return _value > 0 ? 1 : -1;\n    }\n    static Clamp(value, min = 0, max = 1) {\n        return Math.min(max, Math.max(min, value));\n    }\n    static Log2(value) {\n        return Math.log(value) * Math.LOG2E;\n    }\n    static Repeat(value, length) {\n        return value - Math.floor(value / length) * length;\n    }\n    static Normalize(value, min, max) {\n        return (value - min) / (max - min);\n    }\n    static Denormalize(normalized, min, max) {\n        return normalized * (max - min) + min;\n    }\n    static DeltaAngle(current, target) {\n        let num = Scalar.Repeat(target - current, 360.0);\n        if (num > 180.0) {\n            num -= 360.0;\n        }\n        return num;\n    }\n    static PingPong(tx, length) {\n        let t = Scalar.Repeat(tx, length * 2.0);\n        return length - Math.abs(t - length);\n    }\n    static SmoothStep(from, to, tx) {\n        let t = Scalar.Clamp(tx);\n        t = -2.0 * t * t * t + 3.0 * t * t;\n        return to * t + from * (1.0 - t);\n    }\n    static MoveTowards(current, target, maxDelta) {\n        let result = 0;\n        if (Math.abs(target - current) <= maxDelta) {\n            result = target;\n        }\n        else {\n            result = current + Scalar.Sign(target - current) * maxDelta;\n        }\n        return result;\n    }\n    static MoveTowardsAngle(current, target, maxDelta) {\n        let num = Scalar.DeltaAngle(current, target);\n        let result = 0;\n        if (-maxDelta < num && num < maxDelta) {\n            result = target;\n        }\n        else {\n            result = Scalar.MoveTowards(current, current + num, maxDelta);\n        }\n        return result;\n    }\n    static Lerp(start, end, amount) {\n        return start + (end - start) * amount;\n    }\n    static LerpAngle(start, end, amount) {\n        let num = Scalar.Repeat(end - start, 360.0);\n        if (num > 180.0) {\n            num -= 360.0;\n        }\n        return start + num * Scalar.Clamp(amount);\n    }\n    static InverseLerp(a, b, value) {\n        let result = 0;\n        if (a !== b) {\n            result = Scalar.Clamp((value - a) / (b - a));\n        }\n        else {\n            result = 0.0;\n        }\n        return result;\n    }\n    static Hermite(value1, tangent1, value2, tangent2, amount) {\n        let squared = amount * amount;\n        let cubed = amount * squared;\n        let part1 = 2.0 * cubed - 3.0 * squared + 1.0;\n        let part2 = -2.0 * cubed + 3.0 * squared;\n        let part3 = cubed - 2.0 * squared + amount;\n        let part4 = cubed - squared;\n        return value1 * part1 + value2 * part2 + tangent1 * part3 + tangent2 * part4;\n    }\n    static RandomRange(min, max) {\n        if (min === max) {\n            return min;\n        }\n        return Math.random() * (max - min) + min;\n    }\n    static RangeToPercent(num, min, max) {\n        return (num - min) / (max - min);\n    }\n    static PercentToRange(percent, min, max) {\n        return (max - min) * percent + min;\n    }\n    static NormalizeRadians(angle) {\n        return angle - Scalar.TwoPi * Math.floor((angle + Math.PI) / Scalar.TwoPi);\n    }\n}\nScalar.TwoPi = Math.PI * 2;\n\n\n//# sourceURL=webpack:///./packages/decentraland-ecs/src/decentraland/math/Scalar.ts?");

/***/ }),

/***/ "./packages/decentraland-ecs/src/decentraland/math/Size.ts":
/*!*****************************************************************!*\
  !*** ./packages/decentraland-ecs/src/decentraland/math/Size.ts ***!
  \*****************************************************************/
/*! exports provided: Size */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"Size\", function() { return Size; });\nclass Size {\n    constructor(width, height) {\n        this.width = width;\n        this.height = height;\n    }\n    get surface() {\n        return this.width * this.height;\n    }\n    static Zero() {\n        return new Size(0.0, 0.0);\n    }\n    static Lerp(start, end, amount) {\n        let w = start.width + (end.width - start.width) * amount;\n        let h = start.height + (end.height - start.height) * amount;\n        return new Size(w, h);\n    }\n    toString() {\n        return `{W: ${this.width}, H: ${this.height}}`;\n    }\n    getClassName() {\n        return 'Size';\n    }\n    getHashCode() {\n        let hash = this.width || 0;\n        hash = (hash * 397) ^ (this.height || 0);\n        return hash;\n    }\n    copyFrom(src) {\n        this.width = src.width;\n        this.height = src.height;\n    }\n    copyFromFloats(width, height) {\n        this.width = width;\n        this.height = height;\n        return this;\n    }\n    set(width, height) {\n        return this.copyFromFloats(width, height);\n    }\n    multiplyByFloats(w, h) {\n        return new Size(this.width * w, this.height * h);\n    }\n    clone() {\n        return new Size(this.width, this.height);\n    }\n    equals(other) {\n        if (!other) {\n            return false;\n        }\n        return this.width === other.width && this.height === other.height;\n    }\n    add(otherSize) {\n        let r = new Size(this.width + otherSize.width, this.height + otherSize.height);\n        return r;\n    }\n    subtract(otherSize) {\n        let r = new Size(this.width - otherSize.width, this.height - otherSize.height);\n        return r;\n    }\n}\n\n\n//# sourceURL=webpack:///./packages/decentraland-ecs/src/decentraland/math/Size.ts?");

/***/ }),

/***/ "./packages/decentraland-ecs/src/decentraland/math/Vector2.ts":
/*!********************************************************************!*\
  !*** ./packages/decentraland-ecs/src/decentraland/math/Vector2.ts ***!
  \********************************************************************/
/*! exports provided: Vector2 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"Vector2\", function() { return Vector2; });\n/* harmony import */ var _types__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./types */ \"./packages/decentraland-ecs/src/decentraland/math/types.ts\");\n/* harmony import */ var _Scalar__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./Scalar */ \"./packages/decentraland-ecs/src/decentraland/math/Scalar.ts\");\n\n\nclass Vector2 {\n    constructor(x = 0, y = 0) {\n        this.x = x;\n        this.y = y;\n    }\n    static Zero() {\n        return new Vector2(0, 0);\n    }\n    static One() {\n        return new Vector2(1, 1);\n    }\n    static Add(vector1, vector2) {\n        return new Vector2(vector1.x, vector1.y).addInPlace(vector2);\n    }\n    static FromArray(array, offset = 0) {\n        return new Vector2(array[offset], array[offset + 1]);\n    }\n    static FromArrayToRef(array, offset, result) {\n        result.x = array[offset];\n        result.y = array[offset + 1];\n    }\n    static CatmullRom(value1, value2, value3, value4, amount) {\n        let squared = amount * amount;\n        let cubed = amount * squared;\n        let x = 0.5 *\n            (2.0 * value2.x +\n                (-value1.x + value3.x) * amount +\n                (2.0 * value1.x - 5.0 * value2.x + 4.0 * value3.x - value4.x) * squared +\n                (-value1.x + 3.0 * value2.x - 3.0 * value3.x + value4.x) * cubed);\n        let y = 0.5 *\n            (2.0 * value2.y +\n                (-value1.y + value3.y) * amount +\n                (2.0 * value1.y - 5.0 * value2.y + 4.0 * value3.y - value4.y) * squared +\n                (-value1.y + 3.0 * value2.y - 3.0 * value3.y + value4.y) * cubed);\n        return new Vector2(x, y);\n    }\n    static Clamp(value, min, max) {\n        let x = value.x;\n        x = x > max.x ? max.x : x;\n        x = x < min.x ? min.x : x;\n        let y = value.y;\n        y = y > max.y ? max.y : y;\n        y = y < min.y ? min.y : y;\n        return new Vector2(x, y);\n    }\n    static Hermite(value1, tangent1, value2, tangent2, amount) {\n        let squared = amount * amount;\n        let cubed = amount * squared;\n        let part1 = 2.0 * cubed - 3.0 * squared + 1.0;\n        let part2 = -2.0 * cubed + 3.0 * squared;\n        let part3 = cubed - 2.0 * squared + amount;\n        let part4 = cubed - squared;\n        let x = value1.x * part1 + value2.x * part2 + tangent1.x * part3 + tangent2.x * part4;\n        let y = value1.y * part1 + value2.y * part2 + tangent1.y * part3 + tangent2.y * part4;\n        return new Vector2(x, y);\n    }\n    static Lerp(start, end, amount) {\n        let x = start.x + (end.x - start.x) * amount;\n        let y = start.y + (end.y - start.y) * amount;\n        return new Vector2(x, y);\n    }\n    static Dot(left, right) {\n        return left.x * right.x + left.y * right.y;\n    }\n    static Normalize(vector) {\n        let newVector = new Vector2(vector.x, vector.y);\n        newVector.normalize();\n        return newVector;\n    }\n    static Minimize(left, right) {\n        let x = left.x < right.x ? left.x : right.x;\n        let y = left.y < right.y ? left.y : right.y;\n        return new Vector2(x, y);\n    }\n    static Maximize(left, right) {\n        let x = left.x > right.x ? left.x : right.x;\n        let y = left.y > right.y ? left.y : right.y;\n        return new Vector2(x, y);\n    }\n    static Transform(vector, transformation) {\n        let r = Vector2.Zero();\n        Vector2.TransformToRef(vector, transformation, r);\n        return r;\n    }\n    static TransformToRef(vector, transformation, result) {\n        const m = transformation.m;\n        let x = vector.x * m[0] + vector.y * m[4] + m[12];\n        let y = vector.x * m[1] + vector.y * m[5] + m[13];\n        result.x = x;\n        result.y = y;\n    }\n    static PointInTriangle(p, p0, p1, p2) {\n        let a = (1 / 2) * (-p1.y * p2.x + p0.y * (-p1.x + p2.x) + p0.x * (p1.y - p2.y) + p1.x * p2.y);\n        let sign = a < 0 ? -1 : 1;\n        let s = (p0.y * p2.x - p0.x * p2.y + (p2.y - p0.y) * p.x + (p0.x - p2.x) * p.y) * sign;\n        let t = (p0.x * p1.y - p0.y * p1.x + (p0.y - p1.y) * p.x + (p1.x - p0.x) * p.y) * sign;\n        return s > 0 && t > 0 && s + t < 2 * a * sign;\n    }\n    static Distance(value1, value2) {\n        return Math.sqrt(Vector2.DistanceSquared(value1, value2));\n    }\n    static DistanceSquared(value1, value2) {\n        let x = value1.x - value2.x;\n        let y = value1.y - value2.y;\n        return x * x + y * y;\n    }\n    static Center(value1, value2) {\n        let center = Vector2.Add(value1, value2);\n        center.scaleInPlace(0.5);\n        return center;\n    }\n    static DistanceOfPointFromSegment(p, segA, segB) {\n        let l2 = Vector2.DistanceSquared(segA, segB);\n        if (l2 === 0.0) {\n            return Vector2.Distance(p, segA);\n        }\n        let v = segB.subtract(segA);\n        let t = Math.max(0, Math.min(1, Vector2.Dot(p.subtract(segA), v) / l2));\n        let proj = segA.add(v.multiplyByFloats(t, t));\n        return Vector2.Distance(p, proj);\n    }\n    toString() {\n        return '{X: ' + this.x + ' Y:' + this.y + '}';\n    }\n    getClassName() {\n        return 'Vector2';\n    }\n    getHashCode() {\n        let hash = this.x || 0;\n        hash = (hash * 397) ^ (this.y || 0);\n        return hash;\n    }\n    toArray(array, index = 0) {\n        array[index] = this.x;\n        array[index + 1] = this.y;\n        return this;\n    }\n    asArray() {\n        let result = new Array();\n        this.toArray(result, 0);\n        return result;\n    }\n    copyFrom(source) {\n        this.x = source.x;\n        this.y = source.y;\n        return this;\n    }\n    copyFromFloats(x, y) {\n        this.x = x;\n        this.y = y;\n        return this;\n    }\n    set(x, y) {\n        return this.copyFromFloats(x, y);\n    }\n    add(otherVector) {\n        return new Vector2(this.x + otherVector.x, this.y + otherVector.y);\n    }\n    addToRef(otherVector, result) {\n        result.x = this.x + otherVector.x;\n        result.y = this.y + otherVector.y;\n        return this;\n    }\n    addInPlace(otherVector) {\n        this.x += otherVector.x;\n        this.y += otherVector.y;\n        return this;\n    }\n    addVector3(otherVector) {\n        return new Vector2(this.x + otherVector.x, this.y + otherVector.y);\n    }\n    subtract(otherVector) {\n        return new Vector2(this.x - otherVector.x, this.y - otherVector.y);\n    }\n    subtractToRef(otherVector, result) {\n        result.x = this.x - otherVector.x;\n        result.y = this.y - otherVector.y;\n        return this;\n    }\n    subtractInPlace(otherVector) {\n        this.x -= otherVector.x;\n        this.y -= otherVector.y;\n        return this;\n    }\n    multiplyInPlace(otherVector) {\n        this.x *= otherVector.x;\n        this.y *= otherVector.y;\n        return this;\n    }\n    multiply(otherVector) {\n        return new Vector2(this.x * otherVector.x, this.y * otherVector.y);\n    }\n    multiplyToRef(otherVector, result) {\n        result.x = this.x * otherVector.x;\n        result.y = this.y * otherVector.y;\n        return this;\n    }\n    multiplyByFloats(x, y) {\n        return new Vector2(this.x * x, this.y * y);\n    }\n    divide(otherVector) {\n        return new Vector2(this.x / otherVector.x, this.y / otherVector.y);\n    }\n    divideToRef(otherVector, result) {\n        result.x = this.x / otherVector.x;\n        result.y = this.y / otherVector.y;\n        return this;\n    }\n    divideInPlace(otherVector) {\n        return this.divideToRef(otherVector, this);\n    }\n    negate() {\n        return new Vector2(-this.x, -this.y);\n    }\n    scaleInPlace(scale) {\n        this.x *= scale;\n        this.y *= scale;\n        return this;\n    }\n    scale(scale) {\n        let result = new Vector2(0, 0);\n        this.scaleToRef(scale, result);\n        return result;\n    }\n    scaleToRef(scale, result) {\n        result.x = this.x * scale;\n        result.y = this.y * scale;\n        return this;\n    }\n    scaleAndAddToRef(scale, result) {\n        result.x += this.x * scale;\n        result.y += this.y * scale;\n        return this;\n    }\n    equals(otherVector) {\n        return otherVector && this.x === otherVector.x && this.y === otherVector.y;\n    }\n    equalsWithEpsilon(otherVector, epsilon = _types__WEBPACK_IMPORTED_MODULE_0__[\"Epsilon\"]) {\n        return (otherVector &&\n            _Scalar__WEBPACK_IMPORTED_MODULE_1__[\"Scalar\"].WithinEpsilon(this.x, otherVector.x, epsilon) &&\n            _Scalar__WEBPACK_IMPORTED_MODULE_1__[\"Scalar\"].WithinEpsilon(this.y, otherVector.y, epsilon));\n    }\n    floor() {\n        return new Vector2(Math.floor(this.x), Math.floor(this.y));\n    }\n    fract() {\n        return new Vector2(this.x - Math.floor(this.x), this.y - Math.floor(this.y));\n    }\n    length() {\n        return Math.sqrt(this.x * this.x + this.y * this.y);\n    }\n    lengthSquared() {\n        return this.x * this.x + this.y * this.y;\n    }\n    normalize() {\n        let len = this.length();\n        if (len === 0) {\n            return this;\n        }\n        let num = 1.0 / len;\n        this.x *= num;\n        this.y *= num;\n        return this;\n    }\n    clone() {\n        return new Vector2(this.x, this.y);\n    }\n}\n\n\n//# sourceURL=webpack:///./packages/decentraland-ecs/src/decentraland/math/Vector2.ts?");

/***/ }),

/***/ "./packages/decentraland-ecs/src/decentraland/math/Vector3.ts":
/*!********************************************************************!*\
  !*** ./packages/decentraland-ecs/src/decentraland/math/Vector3.ts ***!
  \********************************************************************/
/*! exports provided: Vector3 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"Vector3\", function() { return Vector3; });\n/* harmony import */ var _preallocatedVariables__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./preallocatedVariables */ \"./packages/decentraland-ecs/src/decentraland/math/preallocatedVariables.ts\");\n/* harmony import */ var _types__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./types */ \"./packages/decentraland-ecs/src/decentraland/math/types.ts\");\n/* harmony import */ var _Quaternion__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./Quaternion */ \"./packages/decentraland-ecs/src/decentraland/math/Quaternion.ts\");\n/* harmony import */ var _Scalar__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./Scalar */ \"./packages/decentraland-ecs/src/decentraland/math/Scalar.ts\");\n\n\n\n\nclass Vector3 {\n    constructor(x = 0, y = 0, z = 0) {\n        this.x = x;\n        this.y = y;\n        this.z = z;\n    }\n    get isNonUniform() {\n        let absX = Math.abs(this.x);\n        let absY = Math.abs(this.y);\n        if (absX !== absY) {\n            return true;\n        }\n        let absZ = Math.abs(this.z);\n        if (absX !== absZ) {\n            return true;\n        }\n        if (absY !== absZ) {\n            return true;\n        }\n        return false;\n    }\n    static Add(vector1, vector2) {\n        return new Vector3(vector1.x, vector1.y, vector1.z).addInPlace(vector2);\n    }\n    static GetClipFactor(vector0, vector1, axis, size) {\n        let d0 = Vector3.Dot(vector0, axis) - size;\n        let d1 = Vector3.Dot(vector1, axis) - size;\n        let s = d0 / (d0 - d1);\n        return s;\n    }\n    static GetAngleBetweenVectors(vector0, vector1, normal) {\n        const v0 = vector0.normalizeToRef(_preallocatedVariables__WEBPACK_IMPORTED_MODULE_0__[\"MathTmp\"].Vector3[1]);\n        const v1 = vector1.normalizeToRef(_preallocatedVariables__WEBPACK_IMPORTED_MODULE_0__[\"MathTmp\"].Vector3[2]);\n        const dot = Vector3.Dot(v0, v1);\n        const n = _preallocatedVariables__WEBPACK_IMPORTED_MODULE_0__[\"MathTmp\"].Vector3[3];\n        Vector3.CrossToRef(v0, v1, n);\n        if (Vector3.Dot(n, normal) > 0) {\n            return Math.acos(dot);\n        }\n        return -Math.acos(dot);\n    }\n    static FromArray(array, offset = 0) {\n        return new Vector3(array[offset], array[offset + 1], array[offset + 2]);\n    }\n    static FromFloatArray(array, offset) {\n        return Vector3.FromArray(array, offset);\n    }\n    static FromArrayToRef(array, offset, result) {\n        result.x = array[offset];\n        result.y = array[offset + 1];\n        result.z = array[offset + 2];\n    }\n    static FromFloatArrayToRef(array, offset, result) {\n        return Vector3.FromArrayToRef(array, offset, result);\n    }\n    static FromFloatsToRef(x, y, z, result) {\n        result.copyFromFloats(x, y, z);\n    }\n    static Zero() {\n        return new Vector3(0.0, 0.0, 0.0);\n    }\n    static One() {\n        return new Vector3(1.0, 1.0, 1.0);\n    }\n    static Up() {\n        return new Vector3(0.0, 1.0, 0.0);\n    }\n    static Down() {\n        return new Vector3(0.0, -1.0, 0.0);\n    }\n    static Forward() {\n        return new Vector3(0.0, 0.0, 1.0);\n    }\n    static Backward() {\n        return new Vector3(0.0, 0.0, -1.0);\n    }\n    static Right() {\n        return new Vector3(1.0, 0.0, 0.0);\n    }\n    static Left() {\n        return new Vector3(-1.0, 0.0, 0.0);\n    }\n    static TransformCoordinates(vector, transformation) {\n        let result = Vector3.Zero();\n        Vector3.TransformCoordinatesToRef(vector, transformation, result);\n        return result;\n    }\n    static TransformCoordinatesToRef(vector, transformation, result) {\n        return Vector3.TransformCoordinatesFromFloatsToRef(vector.x, vector.y, vector.z, transformation, result);\n    }\n    static TransformCoordinatesFromFloatsToRef(x, y, z, transformation, result) {\n        const m = transformation.m;\n        let rx = x * m[0] + y * m[4] + z * m[8] + m[12];\n        let ry = x * m[1] + y * m[5] + z * m[9] + m[13];\n        let rz = x * m[2] + y * m[6] + z * m[10] + m[14];\n        let rw = 1 / (x * m[3] + y * m[7] + z * m[11] + m[15]);\n        result.x = rx * rw;\n        result.y = ry * rw;\n        result.z = rz * rw;\n    }\n    static TransformNormal(vector, transformation) {\n        let result = Vector3.Zero();\n        Vector3.TransformNormalToRef(vector, transformation, result);\n        return result;\n    }\n    static TransformNormalToRef(vector, transformation, result) {\n        this.TransformNormalFromFloatsToRef(vector.x, vector.y, vector.z, transformation, result);\n    }\n    static TransformNormalFromFloatsToRef(x, y, z, transformation, result) {\n        const m = transformation.m;\n        result.x = x * m[0] + y * m[4] + z * m[8];\n        result.y = x * m[1] + y * m[5] + z * m[9];\n        result.z = x * m[2] + y * m[6] + z * m[10];\n    }\n    static CatmullRom(value1, value2, value3, value4, amount) {\n        let squared = amount * amount;\n        let cubed = amount * squared;\n        let x = 0.5 *\n            (2.0 * value2.x +\n                (-value1.x + value3.x) * amount +\n                (2.0 * value1.x - 5.0 * value2.x + 4.0 * value3.x - value4.x) * squared +\n                (-value1.x + 3.0 * value2.x - 3.0 * value3.x + value4.x) * cubed);\n        let y = 0.5 *\n            (2.0 * value2.y +\n                (-value1.y + value3.y) * amount +\n                (2.0 * value1.y - 5.0 * value2.y + 4.0 * value3.y - value4.y) * squared +\n                (-value1.y + 3.0 * value2.y - 3.0 * value3.y + value4.y) * cubed);\n        let z = 0.5 *\n            (2.0 * value2.z +\n                (-value1.z + value3.z) * amount +\n                (2.0 * value1.z - 5.0 * value2.z + 4.0 * value3.z - value4.z) * squared +\n                (-value1.z + 3.0 * value2.z - 3.0 * value3.z + value4.z) * cubed);\n        return new Vector3(x, y, z);\n    }\n    static Clamp(value, min, max) {\n        const v = new Vector3();\n        Vector3.ClampToRef(value, min, max, v);\n        return v;\n    }\n    static ClampToRef(value, min, max, result) {\n        let x = value.x;\n        x = x > max.x ? max.x : x;\n        x = x < min.x ? min.x : x;\n        let y = value.y;\n        y = y > max.y ? max.y : y;\n        y = y < min.y ? min.y : y;\n        let z = value.z;\n        z = z > max.z ? max.z : z;\n        z = z < min.z ? min.z : z;\n        result.copyFromFloats(x, y, z);\n    }\n    static Hermite(value1, tangent1, value2, tangent2, amount) {\n        let squared = amount * amount;\n        let cubed = amount * squared;\n        let part1 = 2.0 * cubed - 3.0 * squared + 1.0;\n        let part2 = -2.0 * cubed + 3.0 * squared;\n        let part3 = cubed - 2.0 * squared + amount;\n        let part4 = cubed - squared;\n        let x = value1.x * part1 + value2.x * part2 + tangent1.x * part3 + tangent2.x * part4;\n        let y = value1.y * part1 + value2.y * part2 + tangent1.y * part3 + tangent2.y * part4;\n        let z = value1.z * part1 + value2.z * part2 + tangent1.z * part3 + tangent2.z * part4;\n        return new Vector3(x, y, z);\n    }\n    static Lerp(start, end, amount) {\n        let result = new Vector3(0, 0, 0);\n        Vector3.LerpToRef(start, end, amount, result);\n        return result;\n    }\n    static LerpToRef(start, end, amount, result) {\n        result.x = start.x + (end.x - start.x) * amount;\n        result.y = start.y + (end.y - start.y) * amount;\n        result.z = start.z + (end.z - start.z) * amount;\n    }\n    static Dot(left, right) {\n        return left.x * right.x + left.y * right.y + left.z * right.z;\n    }\n    static Cross(left, right) {\n        let result = Vector3.Zero();\n        Vector3.CrossToRef(left, right, result);\n        return result;\n    }\n    static CrossToRef(left, right, result) {\n        const x = left.y * right.z - left.z * right.y;\n        const y = left.z * right.x - left.x * right.z;\n        const z = left.x * right.y - left.y * right.x;\n        result.copyFromFloats(x, y, z);\n    }\n    static Normalize(vector) {\n        let result = Vector3.Zero();\n        Vector3.NormalizeToRef(vector, result);\n        return result;\n    }\n    static NormalizeToRef(vector, result) {\n        vector.normalizeToRef(result);\n    }\n    static Minimize(left, right) {\n        let min = new Vector3(left.x, left.y, left.z);\n        min.minimizeInPlace(right);\n        return min;\n    }\n    static Maximize(left, right) {\n        let max = new Vector3(left.x, left.y, left.z);\n        max.maximizeInPlace(right);\n        return max;\n    }\n    static Distance(value1, value2) {\n        return Math.sqrt(Vector3.DistanceSquared(value1, value2));\n    }\n    static DistanceSquared(value1, value2) {\n        let x = value1.x - value2.x;\n        let y = value1.y - value2.y;\n        let z = value1.z - value2.z;\n        return x * x + y * y + z * z;\n    }\n    static Center(value1, value2) {\n        let center = Vector3.Add(value1, value2);\n        center.scaleInPlace(0.5);\n        return center;\n    }\n    static RotationFromAxis(axis1, axis2, axis3) {\n        let rotation = Vector3.Zero();\n        Vector3.RotationFromAxisToRef(axis1, axis2, axis3, rotation);\n        return rotation;\n    }\n    static RotationFromAxisToRef(axis1, axis2, axis3, ref) {\n        let quat = _preallocatedVariables__WEBPACK_IMPORTED_MODULE_0__[\"MathTmp\"].Quaternion[0];\n        _Quaternion__WEBPACK_IMPORTED_MODULE_2__[\"Quaternion\"].RotationQuaternionFromAxisToRef(axis1, axis2, axis3, quat);\n        ref.copyFrom(quat.eulerAngles);\n    }\n    toString() {\n        return `(${this.x}, ${this.y}, ${this.z})`;\n    }\n    getClassName() {\n        return 'Vector3';\n    }\n    getHashCode() {\n        let hash = this.x || 0;\n        hash = (hash * 397) ^ (this.y || 0);\n        hash = (hash * 397) ^ (this.z || 0);\n        return hash;\n    }\n    asArray() {\n        let result = [];\n        this.toArray(result, 0);\n        return result;\n    }\n    toArray(array, index = 0) {\n        array[index] = this.x;\n        array[index + 1] = this.y;\n        array[index + 2] = this.z;\n        return this;\n    }\n    toQuaternion() {\n        return _Quaternion__WEBPACK_IMPORTED_MODULE_2__[\"Quaternion\"].Identity.setEuler(this.y, this.x, this.z);\n    }\n    addInPlace(otherVector) {\n        return this.addInPlaceFromFloats(otherVector.x, otherVector.y, otherVector.z);\n    }\n    addInPlaceFromFloats(x, y, z) {\n        this.x += x;\n        this.y += y;\n        this.z += z;\n        return this;\n    }\n    add(otherVector) {\n        return new Vector3(this.x + otherVector.x, this.y + otherVector.y, this.z + otherVector.z);\n    }\n    addToRef(otherVector, result) {\n        return result.copyFromFloats(this.x + otherVector.x, this.y + otherVector.y, this.z + otherVector.z);\n    }\n    subtractInPlace(otherVector) {\n        this.x -= otherVector.x;\n        this.y -= otherVector.y;\n        this.z -= otherVector.z;\n        return this;\n    }\n    subtract(otherVector) {\n        return new Vector3(this.x - otherVector.x, this.y - otherVector.y, this.z - otherVector.z);\n    }\n    subtractToRef(otherVector, result) {\n        return this.subtractFromFloatsToRef(otherVector.x, otherVector.y, otherVector.z, result);\n    }\n    subtractFromFloats(x, y, z) {\n        return new Vector3(this.x - x, this.y - y, this.z - z);\n    }\n    subtractFromFloatsToRef(x, y, z, result) {\n        return result.copyFromFloats(this.x - x, this.y - y, this.z - z);\n    }\n    applyMatrix4(matrix) {\n        this.applyMatrix4ToRef(matrix, this);\n    }\n    applyMatrix4ToRef(matrix, result) {\n        const { x, y, z } = this;\n        const { m } = matrix;\n        const w = 1 / (m[3] * x + m[7] * y + m[11] * z + m[15]);\n        result.x = (m[0] * x + m[4] * y + m[8] * z + m[12]) * w;\n        result.y = (m[1] * x + m[5] * y + m[9] * z + m[13]) * w;\n        result.z = (m[2] * x + m[6] * y + m[10] * z + m[14]) * w;\n        return result;\n    }\n    rotate(q) {\n        return this.rotateToRef(q, this);\n    }\n    rotateToRef(q, result) {\n        const { x, y, z } = this;\n        const { x: qx, y: qy, z: qz, w: qw } = q;\n        const ix = qw * x + qy * z - qz * y;\n        const iy = qw * y + qz * x - qx * z;\n        const iz = qw * z + qx * y - qy * x;\n        const iw = -qx * x - qy * y - qz * z;\n        result.x = ix * qw + iw * -qx + iy * -qz - iz * -qy;\n        result.y = iy * qw + iw * -qy + iz * -qx - ix * -qz;\n        result.z = iz * qw + iw * -qz + ix * -qy - iy * -qx;\n        return result;\n    }\n    negate() {\n        return new Vector3(-this.x, -this.y, -this.z);\n    }\n    scaleInPlace(scale) {\n        this.x *= scale;\n        this.y *= scale;\n        this.z *= scale;\n        return this;\n    }\n    scale(scale) {\n        return new Vector3(this.x * scale, this.y * scale, this.z * scale);\n    }\n    scaleToRef(scale, result) {\n        return result.copyFromFloats(this.x * scale, this.y * scale, this.z * scale);\n    }\n    scaleAndAddToRef(scale, result) {\n        return result.addInPlaceFromFloats(this.x * scale, this.y * scale, this.z * scale);\n    }\n    equals(otherVector) {\n        return otherVector && this.x === otherVector.x && this.y === otherVector.y && this.z === otherVector.z;\n    }\n    equalsWithEpsilon(otherVector, epsilon = _types__WEBPACK_IMPORTED_MODULE_1__[\"Epsilon\"]) {\n        return (otherVector &&\n            _Scalar__WEBPACK_IMPORTED_MODULE_3__[\"Scalar\"].WithinEpsilon(this.x, otherVector.x, epsilon) &&\n            _Scalar__WEBPACK_IMPORTED_MODULE_3__[\"Scalar\"].WithinEpsilon(this.y, otherVector.y, epsilon) &&\n            _Scalar__WEBPACK_IMPORTED_MODULE_3__[\"Scalar\"].WithinEpsilon(this.z, otherVector.z, epsilon));\n    }\n    equalsToFloats(x, y, z) {\n        return this.x === x && this.y === y && this.z === z;\n    }\n    multiplyInPlace(otherVector) {\n        this.x *= otherVector.x;\n        this.y *= otherVector.y;\n        this.z *= otherVector.z;\n        return this;\n    }\n    multiply(otherVector) {\n        return this.multiplyByFloats(otherVector.x, otherVector.y, otherVector.z);\n    }\n    multiplyToRef(otherVector, result) {\n        return result.copyFromFloats(this.x * otherVector.x, this.y * otherVector.y, this.z * otherVector.z);\n    }\n    multiplyByFloats(x, y, z) {\n        return new Vector3(this.x * x, this.y * y, this.z * z);\n    }\n    divide(otherVector) {\n        return new Vector3(this.x / otherVector.x, this.y / otherVector.y, this.z / otherVector.z);\n    }\n    divideToRef(otherVector, result) {\n        return result.copyFromFloats(this.x / otherVector.x, this.y / otherVector.y, this.z / otherVector.z);\n    }\n    divideInPlace(otherVector) {\n        return this.divideToRef(otherVector, this);\n    }\n    minimizeInPlace(other) {\n        return this.minimizeInPlaceFromFloats(other.x, other.y, other.z);\n    }\n    maximizeInPlace(other) {\n        return this.maximizeInPlaceFromFloats(other.x, other.y, other.z);\n    }\n    minimizeInPlaceFromFloats(x, y, z) {\n        if (x < this.x) {\n            this.x = x;\n        }\n        if (y < this.y) {\n            this.y = y;\n        }\n        if (z < this.z) {\n            this.z = z;\n        }\n        return this;\n    }\n    maximizeInPlaceFromFloats(x, y, z) {\n        if (x > this.x) {\n            this.x = x;\n        }\n        if (y > this.y) {\n            this.y = y;\n        }\n        if (z > this.z) {\n            this.z = z;\n        }\n        return this;\n    }\n    floor() {\n        return new Vector3(Math.floor(this.x), Math.floor(this.y), Math.floor(this.z));\n    }\n    fract() {\n        return new Vector3(this.x - Math.floor(this.x), this.y - Math.floor(this.y), this.z - Math.floor(this.z));\n    }\n    length() {\n        return Math.sqrt(this.x * this.x + this.y * this.y + this.z * this.z);\n    }\n    lengthSquared() {\n        return this.x * this.x + this.y * this.y + this.z * this.z;\n    }\n    normalize() {\n        return this.normalizeFromLength(this.length());\n    }\n    normalizeFromLength(len) {\n        if (len === 0 || len === 1.0) {\n            return this;\n        }\n        return this.scaleInPlace(1.0 / len);\n    }\n    normalizeToNew() {\n        const normalized = new Vector3(0, 0, 0);\n        this.normalizeToRef(normalized);\n        return normalized;\n    }\n    normalizeToRef(reference) {\n        let len = this.length();\n        if (len === 0 || len === 1.0) {\n            return reference.copyFromFloats(this.x, this.y, this.z);\n        }\n        return this.scaleToRef(1.0 / len, reference);\n    }\n    clone() {\n        return new Vector3(this.x, this.y, this.z);\n    }\n    copyFrom(source) {\n        return this.copyFromFloats(source.x, source.y, source.z);\n    }\n    copyFromFloats(x, y, z) {\n        this.x = x;\n        this.y = y;\n        this.z = z;\n        return this;\n    }\n    set(x, y, z) {\n        return this.copyFromFloats(x, y, z);\n    }\n    setAll(v) {\n        this.x = this.y = this.z = v;\n        return this;\n    }\n}\n\n\n//# sourceURL=webpack:///./packages/decentraland-ecs/src/decentraland/math/Vector3.ts?");

/***/ }),

/***/ "./packages/decentraland-ecs/src/decentraland/math/Vector4.ts":
/*!********************************************************************!*\
  !*** ./packages/decentraland-ecs/src/decentraland/math/Vector4.ts ***!
  \********************************************************************/
/*! exports provided: Vector4 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"Vector4\", function() { return Vector4; });\n/* harmony import */ var _types__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./types */ \"./packages/decentraland-ecs/src/decentraland/math/types.ts\");\n/* harmony import */ var _Scalar__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./Scalar */ \"./packages/decentraland-ecs/src/decentraland/math/Scalar.ts\");\n/* harmony import */ var _Vector3__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./Vector3 */ \"./packages/decentraland-ecs/src/decentraland/math/Vector3.ts\");\n\n\n\nclass Vector4 {\n    constructor(x, y, z, w) {\n        this.x = x;\n        this.y = y;\n        this.z = z;\n        this.w = w;\n    }\n    static Add(vector1, vector2) {\n        return new Vector4(vector1.x, vector1.y, vector1.z, vector1.w).addInPlace(vector2);\n    }\n    static FromArray(array, offset = 0) {\n        return new Vector4(array[offset], array[offset + 1], array[offset + 2], array[offset + 3]);\n    }\n    static FromArrayToRef(array, offset, result) {\n        result.x = array[offset];\n        result.y = array[offset + 1];\n        result.z = array[offset + 2];\n        result.w = array[offset + 3];\n    }\n    static FromFloatArrayToRef(array, offset, result) {\n        Vector4.FromArrayToRef(array, offset, result);\n    }\n    static FromFloatsToRef(x, y, z, w, result) {\n        result.x = x;\n        result.y = y;\n        result.z = z;\n        result.w = w;\n    }\n    static Zero() {\n        return new Vector4(0.0, 0.0, 0.0, 0.0);\n    }\n    static One() {\n        return new Vector4(1.0, 1.0, 1.0, 1.0);\n    }\n    static Normalize(vector) {\n        let result = Vector4.Zero();\n        Vector4.NormalizeToRef(vector, result);\n        return result;\n    }\n    static NormalizeToRef(vector, result) {\n        result.copyFrom(vector);\n        result.normalize();\n    }\n    static Minimize(left, right) {\n        let min = new Vector4(left.x, left.y, left.z, left.w);\n        min.minimizeInPlace(right);\n        return min;\n    }\n    static Maximize(left, right) {\n        let max = new Vector4(left.x, left.y, left.z, left.w);\n        max.maximizeInPlace(right);\n        return max;\n    }\n    static Distance(value1, value2) {\n        return Math.sqrt(Vector4.DistanceSquared(value1, value2));\n    }\n    static DistanceSquared(value1, value2) {\n        let x = value1.x - value2.x;\n        let y = value1.y - value2.y;\n        let z = value1.z - value2.z;\n        let w = value1.w - value2.w;\n        return x * x + y * y + z * z + w * w;\n    }\n    static Center(value1, value2) {\n        let center = Vector4.Add(value1, value2);\n        center.scaleInPlace(0.5);\n        return center;\n    }\n    static TransformNormal(vector, transformation) {\n        let result = Vector4.Zero();\n        Vector4.TransformNormalToRef(vector, transformation, result);\n        return result;\n    }\n    static TransformNormalToRef(vector, transformation, result) {\n        const m = transformation.m;\n        let x = vector.x * m[0] + vector.y * m[4] + vector.z * m[8];\n        let y = vector.x * m[1] + vector.y * m[5] + vector.z * m[9];\n        let z = vector.x * m[2] + vector.y * m[6] + vector.z * m[10];\n        result.x = x;\n        result.y = y;\n        result.z = z;\n        result.w = vector.w;\n    }\n    static TransformNormalFromFloatsToRef(x, y, z, w, transformation, result) {\n        const m = transformation.m;\n        result.x = x * m[0] + y * m[4] + z * m[8];\n        result.y = x * m[1] + y * m[5] + z * m[9];\n        result.z = x * m[2] + y * m[6] + z * m[10];\n        result.w = w;\n    }\n    toString() {\n        return '{X: ' + this.x + ' Y:' + this.y + ' Z:' + this.z + ' W:' + this.w + '}';\n    }\n    getClassName() {\n        return 'Vector4';\n    }\n    getHashCode() {\n        let hash = this.x || 0;\n        hash = (hash * 397) ^ (this.y || 0);\n        hash = (hash * 397) ^ (this.z || 0);\n        hash = (hash * 397) ^ (this.w || 0);\n        return hash;\n    }\n    asArray() {\n        let result = new Array();\n        this.toArray(result, 0);\n        return result;\n    }\n    toArray(array, index = 0) {\n        array[index] = this.x;\n        array[index + 1] = this.y;\n        array[index + 2] = this.z;\n        array[index + 3] = this.w;\n        return this;\n    }\n    addInPlace(otherVector) {\n        this.x += otherVector.x;\n        this.y += otherVector.y;\n        this.z += otherVector.z;\n        this.w += otherVector.w;\n        return this;\n    }\n    add(otherVector) {\n        return new Vector4(this.x + otherVector.x, this.y + otherVector.y, this.z + otherVector.z, this.w + otherVector.w);\n    }\n    addToRef(otherVector, result) {\n        result.x = this.x + otherVector.x;\n        result.y = this.y + otherVector.y;\n        result.z = this.z + otherVector.z;\n        result.w = this.w + otherVector.w;\n        return this;\n    }\n    subtractInPlace(otherVector) {\n        this.x -= otherVector.x;\n        this.y -= otherVector.y;\n        this.z -= otherVector.z;\n        this.w -= otherVector.w;\n        return this;\n    }\n    subtract(otherVector) {\n        return new Vector4(this.x - otherVector.x, this.y - otherVector.y, this.z - otherVector.z, this.w - otherVector.w);\n    }\n    subtractToRef(otherVector, result) {\n        result.x = this.x - otherVector.x;\n        result.y = this.y - otherVector.y;\n        result.z = this.z - otherVector.z;\n        result.w = this.w - otherVector.w;\n        return this;\n    }\n    subtractFromFloats(x, y, z, w) {\n        return new Vector4(this.x - x, this.y - y, this.z - z, this.w - w);\n    }\n    subtractFromFloatsToRef(x, y, z, w, result) {\n        result.x = this.x - x;\n        result.y = this.y - y;\n        result.z = this.z - z;\n        result.w = this.w - w;\n        return this;\n    }\n    negate() {\n        return new Vector4(-this.x, -this.y, -this.z, -this.w);\n    }\n    scaleInPlace(scale) {\n        this.x *= scale;\n        this.y *= scale;\n        this.z *= scale;\n        this.w *= scale;\n        return this;\n    }\n    scale(scale) {\n        return new Vector4(this.x * scale, this.y * scale, this.z * scale, this.w * scale);\n    }\n    scaleToRef(scale, result) {\n        result.x = this.x * scale;\n        result.y = this.y * scale;\n        result.z = this.z * scale;\n        result.w = this.w * scale;\n        return this;\n    }\n    scaleAndAddToRef(scale, result) {\n        result.x += this.x * scale;\n        result.y += this.y * scale;\n        result.z += this.z * scale;\n        result.w += this.w * scale;\n        return this;\n    }\n    equals(otherVector) {\n        return (otherVector &&\n            this.x === otherVector.x &&\n            this.y === otherVector.y &&\n            this.z === otherVector.z &&\n            this.w === otherVector.w);\n    }\n    equalsWithEpsilon(otherVector, epsilon = _types__WEBPACK_IMPORTED_MODULE_0__[\"Epsilon\"]) {\n        return (otherVector &&\n            _Scalar__WEBPACK_IMPORTED_MODULE_1__[\"Scalar\"].WithinEpsilon(this.x, otherVector.x, epsilon) &&\n            _Scalar__WEBPACK_IMPORTED_MODULE_1__[\"Scalar\"].WithinEpsilon(this.y, otherVector.y, epsilon) &&\n            _Scalar__WEBPACK_IMPORTED_MODULE_1__[\"Scalar\"].WithinEpsilon(this.z, otherVector.z, epsilon) &&\n            _Scalar__WEBPACK_IMPORTED_MODULE_1__[\"Scalar\"].WithinEpsilon(this.w, otherVector.w, epsilon));\n    }\n    equalsToFloats(x, y, z, w) {\n        return this.x === x && this.y === y && this.z === z && this.w === w;\n    }\n    multiplyInPlace(otherVector) {\n        this.x *= otherVector.x;\n        this.y *= otherVector.y;\n        this.z *= otherVector.z;\n        this.w *= otherVector.w;\n        return this;\n    }\n    multiply(otherVector) {\n        return new Vector4(this.x * otherVector.x, this.y * otherVector.y, this.z * otherVector.z, this.w * otherVector.w);\n    }\n    multiplyToRef(otherVector, result) {\n        result.x = this.x * otherVector.x;\n        result.y = this.y * otherVector.y;\n        result.z = this.z * otherVector.z;\n        result.w = this.w * otherVector.w;\n        return this;\n    }\n    multiplyByFloats(x, y, z, w) {\n        return new Vector4(this.x * x, this.y * y, this.z * z, this.w * w);\n    }\n    divide(otherVector) {\n        return new Vector4(this.x / otherVector.x, this.y / otherVector.y, this.z / otherVector.z, this.w / otherVector.w);\n    }\n    divideToRef(otherVector, result) {\n        result.x = this.x / otherVector.x;\n        result.y = this.y / otherVector.y;\n        result.z = this.z / otherVector.z;\n        result.w = this.w / otherVector.w;\n        return this;\n    }\n    divideInPlace(otherVector) {\n        return this.divideToRef(otherVector, this);\n    }\n    minimizeInPlace(other) {\n        if (other.x < this.x) {\n            this.x = other.x;\n        }\n        if (other.y < this.y) {\n            this.y = other.y;\n        }\n        if (other.z < this.z) {\n            this.z = other.z;\n        }\n        if (other.w < this.w) {\n            this.w = other.w;\n        }\n        return this;\n    }\n    maximizeInPlace(other) {\n        if (other.x > this.x) {\n            this.x = other.x;\n        }\n        if (other.y > this.y) {\n            this.y = other.y;\n        }\n        if (other.z > this.z) {\n            this.z = other.z;\n        }\n        if (other.w > this.w) {\n            this.w = other.w;\n        }\n        return this;\n    }\n    floor() {\n        return new Vector4(Math.floor(this.x), Math.floor(this.y), Math.floor(this.z), Math.floor(this.w));\n    }\n    fract() {\n        return new Vector4(this.x - Math.floor(this.x), this.y - Math.floor(this.y), this.z - Math.floor(this.z), this.w - Math.floor(this.w));\n    }\n    length() {\n        return Math.sqrt(this.x * this.x + this.y * this.y + this.z * this.z + this.w * this.w);\n    }\n    lengthSquared() {\n        return this.x * this.x + this.y * this.y + this.z * this.z + this.w * this.w;\n    }\n    normalize() {\n        let len = this.length();\n        if (len === 0) {\n            return this;\n        }\n        return this.scaleInPlace(1.0 / len);\n    }\n    toVector3() {\n        return new _Vector3__WEBPACK_IMPORTED_MODULE_2__[\"Vector3\"](this.x, this.y, this.z);\n    }\n    clone() {\n        return new Vector4(this.x, this.y, this.z, this.w);\n    }\n    copyFrom(source) {\n        this.x = source.x;\n        this.y = source.y;\n        this.z = source.z;\n        this.w = source.w;\n        return this;\n    }\n    copyFromFloats(x, y, z, w) {\n        this.x = x;\n        this.y = y;\n        this.z = z;\n        this.w = w;\n        return this;\n    }\n    set(x, y, z, w) {\n        return this.copyFromFloats(x, y, z, w);\n    }\n    setAll(v) {\n        this.x = this.y = this.z = this.w = v;\n        return this;\n    }\n}\n\n\n//# sourceURL=webpack:///./packages/decentraland-ecs/src/decentraland/math/Vector4.ts?");

/***/ }),

/***/ "./packages/decentraland-ecs/src/decentraland/math/index.ts":
/*!******************************************************************!*\
  !*** ./packages/decentraland-ecs/src/decentraland/math/index.ts ***!
  \******************************************************************/
/*! exports provided: Orientation, Space, ToGammaSpace, ToLinearSpace, Epsilon, DEG2RAD, RAD2DEG, MathTmp, Angle, Arc2, Axis, BezierCurve, Color3, Color4, Curve3, Frustum, Matrix, Path2, Path3D, Plane, Quaternion, Scalar, Size, Vector2, Vector3, Vector4 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _types__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./types */ \"./packages/decentraland-ecs/src/decentraland/math/types.ts\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"Orientation\", function() { return _types__WEBPACK_IMPORTED_MODULE_0__[\"Orientation\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"Space\", function() { return _types__WEBPACK_IMPORTED_MODULE_0__[\"Space\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"ToGammaSpace\", function() { return _types__WEBPACK_IMPORTED_MODULE_0__[\"ToGammaSpace\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"ToLinearSpace\", function() { return _types__WEBPACK_IMPORTED_MODULE_0__[\"ToLinearSpace\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"Epsilon\", function() { return _types__WEBPACK_IMPORTED_MODULE_0__[\"Epsilon\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"DEG2RAD\", function() { return _types__WEBPACK_IMPORTED_MODULE_0__[\"DEG2RAD\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"RAD2DEG\", function() { return _types__WEBPACK_IMPORTED_MODULE_0__[\"RAD2DEG\"]; });\n\n/* harmony import */ var _preallocatedVariables__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./preallocatedVariables */ \"./packages/decentraland-ecs/src/decentraland/math/preallocatedVariables.ts\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"MathTmp\", function() { return _preallocatedVariables__WEBPACK_IMPORTED_MODULE_1__[\"MathTmp\"]; });\n\n/* harmony import */ var _Angle__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./Angle */ \"./packages/decentraland-ecs/src/decentraland/math/Angle.ts\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"Angle\", function() { return _Angle__WEBPACK_IMPORTED_MODULE_2__[\"Angle\"]; });\n\n/* harmony import */ var _Arc2__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./Arc2 */ \"./packages/decentraland-ecs/src/decentraland/math/Arc2.ts\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"Arc2\", function() { return _Arc2__WEBPACK_IMPORTED_MODULE_3__[\"Arc2\"]; });\n\n/* harmony import */ var _Axis__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./Axis */ \"./packages/decentraland-ecs/src/decentraland/math/Axis.ts\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"Axis\", function() { return _Axis__WEBPACK_IMPORTED_MODULE_4__[\"Axis\"]; });\n\n/* harmony import */ var _BezierCurve__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./BezierCurve */ \"./packages/decentraland-ecs/src/decentraland/math/BezierCurve.ts\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"BezierCurve\", function() { return _BezierCurve__WEBPACK_IMPORTED_MODULE_5__[\"BezierCurve\"]; });\n\n/* harmony import */ var _Color3__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./Color3 */ \"./packages/decentraland-ecs/src/decentraland/math/Color3.ts\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"Color3\", function() { return _Color3__WEBPACK_IMPORTED_MODULE_6__[\"Color3\"]; });\n\n/* harmony import */ var _Color4__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./Color4 */ \"./packages/decentraland-ecs/src/decentraland/math/Color4.ts\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"Color4\", function() { return _Color4__WEBPACK_IMPORTED_MODULE_7__[\"Color4\"]; });\n\n/* harmony import */ var _Curve3d__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./Curve3d */ \"./packages/decentraland-ecs/src/decentraland/math/Curve3d.ts\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"Curve3\", function() { return _Curve3d__WEBPACK_IMPORTED_MODULE_8__[\"Curve3\"]; });\n\n/* harmony import */ var _Furstum__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./Furstum */ \"./packages/decentraland-ecs/src/decentraland/math/Furstum.ts\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"Frustum\", function() { return _Furstum__WEBPACK_IMPORTED_MODULE_9__[\"Frustum\"]; });\n\n/* harmony import */ var _Matrix__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./Matrix */ \"./packages/decentraland-ecs/src/decentraland/math/Matrix.ts\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"Matrix\", function() { return _Matrix__WEBPACK_IMPORTED_MODULE_10__[\"Matrix\"]; });\n\n/* harmony import */ var _Path2d__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./Path2d */ \"./packages/decentraland-ecs/src/decentraland/math/Path2d.ts\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"Path2\", function() { return _Path2d__WEBPACK_IMPORTED_MODULE_11__[\"Path2\"]; });\n\n/* harmony import */ var _Path3d__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./Path3d */ \"./packages/decentraland-ecs/src/decentraland/math/Path3d.ts\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"Path3D\", function() { return _Path3d__WEBPACK_IMPORTED_MODULE_12__[\"Path3D\"]; });\n\n/* harmony import */ var _Plane__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./Plane */ \"./packages/decentraland-ecs/src/decentraland/math/Plane.ts\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"Plane\", function() { return _Plane__WEBPACK_IMPORTED_MODULE_13__[\"Plane\"]; });\n\n/* harmony import */ var _Quaternion__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ./Quaternion */ \"./packages/decentraland-ecs/src/decentraland/math/Quaternion.ts\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"Quaternion\", function() { return _Quaternion__WEBPACK_IMPORTED_MODULE_14__[\"Quaternion\"]; });\n\n/* harmony import */ var _Scalar__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ./Scalar */ \"./packages/decentraland-ecs/src/decentraland/math/Scalar.ts\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"Scalar\", function() { return _Scalar__WEBPACK_IMPORTED_MODULE_15__[\"Scalar\"]; });\n\n/* harmony import */ var _Size__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ./Size */ \"./packages/decentraland-ecs/src/decentraland/math/Size.ts\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"Size\", function() { return _Size__WEBPACK_IMPORTED_MODULE_16__[\"Size\"]; });\n\n/* harmony import */ var _Vector2__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ./Vector2 */ \"./packages/decentraland-ecs/src/decentraland/math/Vector2.ts\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"Vector2\", function() { return _Vector2__WEBPACK_IMPORTED_MODULE_17__[\"Vector2\"]; });\n\n/* harmony import */ var _Vector3__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ./Vector3 */ \"./packages/decentraland-ecs/src/decentraland/math/Vector3.ts\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"Vector3\", function() { return _Vector3__WEBPACK_IMPORTED_MODULE_18__[\"Vector3\"]; });\n\n/* harmony import */ var _Vector4__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ./Vector4 */ \"./packages/decentraland-ecs/src/decentraland/math/Vector4.ts\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"Vector4\", function() { return _Vector4__WEBPACK_IMPORTED_MODULE_19__[\"Vector4\"]; });\n\n/* harmony import */ var _index__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ./index */ \"./packages/decentraland-ecs/src/decentraland/math/index.ts\");\n/* empty/unused harmony star reexport */\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n//# sourceURL=webpack:///./packages/decentraland-ecs/src/decentraland/math/index.ts?");

/***/ }),

/***/ "./packages/decentraland-ecs/src/decentraland/math/preallocatedVariables.ts":
/*!**********************************************************************************!*\
  !*** ./packages/decentraland-ecs/src/decentraland/math/preallocatedVariables.ts ***!
  \**********************************************************************************/
/*! exports provided: MathTmp */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"MathTmp\", function() { return MathTmp; });\n/* harmony import */ var _ecs_helpers__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../ecs/helpers */ \"./packages/decentraland-ecs/src/ecs/helpers.ts\");\n/* harmony import */ var _Vector3__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./Vector3 */ \"./packages/decentraland-ecs/src/decentraland/math/Vector3.ts\");\n/* harmony import */ var _Quaternion__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./Quaternion */ \"./packages/decentraland-ecs/src/decentraland/math/Quaternion.ts\");\n/* harmony import */ var _Matrix__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./Matrix */ \"./packages/decentraland-ecs/src/decentraland/math/Matrix.ts\");\n\n\n\n\nconst MathTmp = {\n    Vector3: Object(_ecs_helpers__WEBPACK_IMPORTED_MODULE_0__[\"buildArray\"])(6, _Vector3__WEBPACK_IMPORTED_MODULE_1__[\"Vector3\"].Zero),\n    Matrix: Object(_ecs_helpers__WEBPACK_IMPORTED_MODULE_0__[\"buildArray\"])(2, _Matrix__WEBPACK_IMPORTED_MODULE_3__[\"Matrix\"].Identity),\n    Quaternion: Object(_ecs_helpers__WEBPACK_IMPORTED_MODULE_0__[\"buildArray\"])(3, _Quaternion__WEBPACK_IMPORTED_MODULE_2__[\"Quaternion\"].Zero),\n    staticUp: _Vector3__WEBPACK_IMPORTED_MODULE_1__[\"Vector3\"].Up(),\n    tmpMatrix: _Matrix__WEBPACK_IMPORTED_MODULE_3__[\"Matrix\"].Zero()\n};\n\n\n//# sourceURL=webpack:///./packages/decentraland-ecs/src/decentraland/math/preallocatedVariables.ts?");

/***/ }),

/***/ "./packages/decentraland-ecs/src/decentraland/math/types.ts":
/*!******************************************************************!*\
  !*** ./packages/decentraland-ecs/src/decentraland/math/types.ts ***!
  \******************************************************************/
/*! exports provided: Orientation, Space, ToGammaSpace, ToLinearSpace, Epsilon, DEG2RAD, RAD2DEG */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"Orientation\", function() { return Orientation; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"Space\", function() { return Space; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"ToGammaSpace\", function() { return ToGammaSpace; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"ToLinearSpace\", function() { return ToLinearSpace; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"Epsilon\", function() { return Epsilon; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"DEG2RAD\", function() { return DEG2RAD; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"RAD2DEG\", function() { return RAD2DEG; });\nvar Orientation;\n(function (Orientation) {\n    Orientation[Orientation[\"CW\"] = 0] = \"CW\";\n    Orientation[Orientation[\"CCW\"] = 1] = \"CCW\";\n})(Orientation || (Orientation = {}));\nvar Space;\n(function (Space) {\n    Space[Space[\"LOCAL\"] = 0] = \"LOCAL\";\n    Space[Space[\"WORLD\"] = 1] = \"WORLD\";\n    Space[Space[\"BONE\"] = 2] = \"BONE\";\n})(Space || (Space = {}));\nconst ToGammaSpace = 1 / 2.2;\nconst ToLinearSpace = 2.2;\nconst Epsilon = 0.000001;\nconst DEG2RAD = Math.PI / 180;\nconst RAD2DEG = 360 / (Math.PI * 2);\n\n\n//# sourceURL=webpack:///./packages/decentraland-ecs/src/decentraland/math/types.ts?");

/***/ }),

/***/ "./packages/decentraland-ecs/src/ecs/Observable.ts":
/*!*********************************************************!*\
  !*** ./packages/decentraland-ecs/src/ecs/Observable.ts ***!
  \*********************************************************/
/*! exports provided: ObserverEventState, Observer, MultiObserver, Observable */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"ObserverEventState\", function() { return ObserverEventState; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"Observer\", function() { return Observer; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"MultiObserver\", function() { return MultiObserver; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"Observable\", function() { return Observable; });\n/* harmony import */ var _Task__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Task */ \"./packages/decentraland-ecs/src/ecs/Task.ts\");\n\nclass ObserverEventState {\n    constructor(mask, skipNextObservers = false, target, currentTarget) {\n        this.initalize(mask, skipNextObservers, target, currentTarget);\n    }\n    initalize(mask, skipNextObservers = false, target, currentTarget) {\n        this.mask = mask;\n        this.skipNextObservers = skipNextObservers;\n        this.target = target;\n        this.currentTarget = currentTarget;\n        return this;\n    }\n}\nclass Observer {\n    constructor(callback, mask, scope = null) {\n        this.callback = callback;\n        this.mask = mask;\n        this.scope = scope;\n        this.unregisterOnNextCall = false;\n        this._willBeUnregistered = false;\n    }\n}\nclass MultiObserver {\n    constructor() {\n        this._observers = null;\n        this._observables = null;\n    }\n    static Watch(observables, callback, mask = -1, scope = null) {\n        let result = new MultiObserver();\n        result._observers = new Array();\n        result._observables = observables;\n        for (let observable of observables) {\n            let observer = observable.add(callback, mask, false, scope);\n            if (observer) {\n                result._observers.push(observer);\n            }\n        }\n        return result;\n    }\n    dispose() {\n        if (this._observers && this._observables) {\n            for (let index = 0; index < this._observers.length; index++) {\n                this._observables[index].remove(this._observers[index]);\n            }\n        }\n        this._observers = null;\n        this._observables = null;\n    }\n}\nclass Observable {\n    constructor(onObserverAdded) {\n        this._observers = new Array();\n        this._onObserverAdded = null;\n        this._eventState = new ObserverEventState(0);\n        if (onObserverAdded) {\n            this._onObserverAdded = onObserverAdded;\n        }\n    }\n    add(callback, mask = -1, insertFirst = false, scope = null, unregisterOnFirstCall = false) {\n        if (!callback) {\n            return null;\n        }\n        let observer = new Observer(callback, mask, scope);\n        observer.unregisterOnNextCall = unregisterOnFirstCall;\n        if (insertFirst) {\n            this._observers.unshift(observer);\n        }\n        else {\n            this._observers.push(observer);\n        }\n        if (this._onObserverAdded) {\n            this._onObserverAdded(observer);\n        }\n        return observer;\n    }\n    addOnce(callback) {\n        return this.add(callback, undefined, undefined, undefined, true);\n    }\n    remove(observer) {\n        if (!observer) {\n            return false;\n        }\n        let index = this._observers.indexOf(observer);\n        if (index !== -1) {\n            this._deferUnregister(observer);\n            return true;\n        }\n        return false;\n    }\n    removeCallback(callback, scope) {\n        for (let index = 0; index < this._observers.length; index++) {\n            if (this._observers[index].callback === callback && (!scope || scope === this._observers[index].scope)) {\n                this._deferUnregister(this._observers[index]);\n                return true;\n            }\n        }\n        return false;\n    }\n    notifyObservers(eventData, mask = -1, target, currentTarget) {\n        if (!this._observers.length) {\n            return true;\n        }\n        let state = this._eventState;\n        state.mask = mask;\n        state.target = target;\n        state.currentTarget = currentTarget;\n        state.skipNextObservers = false;\n        state.lastReturnValue = eventData;\n        for (let obs of this._observers) {\n            if (obs._willBeUnregistered) {\n                continue;\n            }\n            if (obs.mask & mask) {\n                if (obs.scope) {\n                    state.lastReturnValue = obs.callback.apply(obs.scope, [eventData, state]);\n                }\n                else {\n                    state.lastReturnValue = obs.callback(eventData, state);\n                }\n                if (obs.unregisterOnNextCall) {\n                    this._deferUnregister(obs);\n                }\n            }\n            if (state.skipNextObservers) {\n                return false;\n            }\n        }\n        return true;\n    }\n    notifyObserversWithPromise(eventData, mask = -1, target, currentTarget) {\n        let p = Promise.resolve(eventData);\n        if (!this._observers.length) {\n            return p;\n        }\n        let state = this._eventState;\n        state.mask = mask;\n        state.target = target;\n        state.currentTarget = currentTarget;\n        state.skipNextObservers = false;\n        this._observers.forEach(obs => {\n            if (state.skipNextObservers) {\n                return;\n            }\n            if (obs._willBeUnregistered) {\n                return;\n            }\n            if (obs.mask & mask) {\n                if (obs.scope) {\n                    p = p.then(lastReturnedValue => {\n                        state.lastReturnValue = lastReturnedValue;\n                        return obs.callback.apply(obs.scope, [eventData, state]);\n                    });\n                }\n                else {\n                    p = p.then(lastReturnedValue => {\n                        state.lastReturnValue = lastReturnedValue;\n                        return obs.callback(eventData, state);\n                    });\n                }\n                if (obs.unregisterOnNextCall) {\n                    this._deferUnregister(obs);\n                }\n            }\n        });\n        return p.then(() => {\n            return eventData;\n        });\n    }\n    notifyObserver(observer, eventData, mask = -1) {\n        let state = this._eventState;\n        state.mask = mask;\n        state.skipNextObservers = false;\n        observer.callback(eventData, state);\n    }\n    hasObservers() {\n        return this._observers.length > 0;\n    }\n    clear() {\n        this._observers = new Array();\n        this._onObserverAdded = null;\n    }\n    clone() {\n        let result = new Observable();\n        result._observers = this._observers.slice(0);\n        return result;\n    }\n    hasSpecificMask(mask = -1) {\n        for (let obs of this._observers) {\n            if (obs.mask & mask || obs.mask === mask) {\n                return true;\n            }\n        }\n        return false;\n    }\n    _deferUnregister(observer) {\n        observer.unregisterOnNextCall = false;\n        observer._willBeUnregistered = true;\n        Object(_Task__WEBPACK_IMPORTED_MODULE_0__[\"executeTask\"])(async () => this._remove(observer));\n    }\n    _remove(observer) {\n        if (!observer) {\n            return false;\n        }\n        let index = this._observers.indexOf(observer);\n        if (index !== -1) {\n            this._observers.splice(index, 1);\n            return true;\n        }\n        return false;\n    }\n}\n\n\n//# sourceURL=webpack:///./packages/decentraland-ecs/src/ecs/Observable.ts?");

/***/ }),

/***/ "./packages/decentraland-ecs/src/ecs/Task.ts":
/*!***************************************************!*\
  !*** ./packages/decentraland-ecs/src/ecs/Task.ts ***!
  \***************************************************/
/*! exports provided: executeTask */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"executeTask\", function() { return executeTask; });\n/* harmony import */ var _helpers__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./helpers */ \"./packages/decentraland-ecs/src/ecs/helpers.ts\");\n\nconst _defer = Promise.resolve().then.bind(Promise.resolve());\nfunction executeTask(task) {\n    const result = _defer(task);\n    result.isComplete = false;\n    result\n        .then($ => {\n        result.isComplete = true;\n        result.result = $;\n        result.didFail = false;\n    })\n        .catch($ => {\n        result.isComplete = true;\n        result.error = $;\n        result.didFail = true;\n        Object(_helpers__WEBPACK_IMPORTED_MODULE_0__[\"error\"])('executeTask: FAILED ' + $.toString(), $);\n    });\n    return result;\n}\n\n\n//# sourceURL=webpack:///./packages/decentraland-ecs/src/ecs/Task.ts?");

/***/ }),

/***/ "./packages/decentraland-ecs/src/ecs/helpers.ts":
/*!******************************************************!*\
  !*** ./packages/decentraland-ecs/src/ecs/helpers.ts ***!
  \******************************************************/
/*! exports provided: log, error, newId, uuid, buildArray */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"log\", function() { return log; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"error\", function() { return error; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"newId\", function() { return newId; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"uuid\", function() { return uuid; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"buildArray\", function() { return buildArray; });\nlet lastGeneratedId = 0;\nfunction log(...args) {\n    if (typeof dcl !== 'undefined') {\n        dcl.log(...args);\n    }\n    else {\n        console.log('DEBUG:', ...args);\n    }\n}\nfunction error(error, data) {\n    if (typeof dcl !== 'undefined') {\n        dcl.error(error, data);\n    }\n    else {\n        console.error('ERROR:', error, data);\n    }\n}\nfunction newId(type) {\n    lastGeneratedId++;\n    if (type.length === 0)\n        throw new Error('newId(type: string): type cannot be empty');\n    return type + lastGeneratedId.toString(36);\n}\nfunction uuid() {\n    return 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, function (c) {\n        let r = (Math.random() * 16) | 0;\n        let v = c === 'x' ? r : (r & 0x3) | 0x8;\n        return v.toString(16);\n    });\n}\nfunction buildArray(size, itemBuilder) {\n    const a = [];\n    for (let i = 0; i < size; ++i) {\n        a.push(itemBuilder());\n    }\n    return a;\n}\n\n\n//# sourceURL=webpack:///./packages/decentraland-ecs/src/ecs/helpers.ts?");

/***/ }),

/***/ "./packages/decentraland-loader/lifecycle/controllers/download.ts":
/*!************************************************************************!*\
  !*** ./packages/decentraland-loader/lifecycle/controllers/download.ts ***!
  \************************************************************************/
/*! exports provided: SceneDataDownloadManager */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"SceneDataDownloadManager\", function() { return SceneDataDownloadManager; });\n/* harmony import */ var fp_future__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! fp-future */ \"./node_modules/fp-future/index.js\");\n/* harmony import */ var fp_future__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(fp_future__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var atomicHelpers_jsonFetch__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! atomicHelpers/jsonFetch */ \"./packages/atomicHelpers/jsonFetch.ts\");\n/* harmony import */ var shared_logger__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! shared/logger */ \"./packages/shared/logger.ts\");\n\n\n\nconst emptyScenes = __webpack_require__(/*! ./emptyScenes.json */ \"./packages/decentraland-loader/lifecycle/controllers/emptyScenes.json\");\nconst logger = Object(shared_logger__WEBPACK_IMPORTED_MODULE_2__[\"createLogger\"])('loader');\nconst { error } = logger;\nfunction getSceneIdFromSceneMappingResponse(scene) {\n    return scene.root_cid;\n}\nclass SceneDataDownloadManager {\n    constructor(options) {\n        this.options = options;\n        this.positionToSceneId = new Map();\n        this.sceneIdToLandData = new Map();\n        this.rootIdToLandData = new Map();\n    }\n    async resolveSceneSceneId(pos) {\n        if (this.positionToSceneId.has(pos)) {\n            return this.positionToSceneId.get(pos);\n        }\n        const promised = Object(fp_future__WEBPACK_IMPORTED_MODULE_0__[\"future\"])();\n        this.positionToSceneId.set(pos, promised);\n        const nw = pos.split(',').map($ => parseInt($, 10));\n        const responseContent = await fetch(this.options.contentServer + `/scenes?x1=${nw[0]}&x2=${nw[0]}&y1=${nw[1]}&y2=${nw[1]}`);\n        if (!responseContent.ok) {\n            error(`Error in ${this.options.contentServer}/scenes response!`, responseContent);\n            const ret = new Error(`Error in ${this.options.contentServer}/scenes response!`);\n            promised.reject(ret);\n            throw ret;\n        }\n        else {\n            const contents = (await responseContent.json());\n            if (!contents.data.length) {\n                promised.resolve(null);\n                return null;\n            }\n            this.setSceneRoots(contents);\n        }\n        return promised;\n    }\n    setSceneRoots(contents) {\n        for (let result of contents.data) {\n            const sceneId = getSceneIdFromSceneMappingResponse(result);\n            const promised = this.positionToSceneId.get(result.parcel_id) || Object(fp_future__WEBPACK_IMPORTED_MODULE_0__[\"future\"])();\n            if (promised.isPending) {\n                promised.resolve(sceneId);\n            }\n            this.positionToSceneId.set(result.parcel_id, promised);\n        }\n    }\n    createFakeILand(sceneId, coordinates) {\n        const pick = ((coordinates.split(',').reduce((prev, next) => prev + Math.abs(parseInt(next, 10)), 0) % 12) + 1)\n            .toString()\n            .padStart(2, '0');\n        return {\n            sceneId: sceneId,\n            baseUrl: this.options.contentServer + '/contents/',\n            name: 'Empty parcel',\n            scene: {\n                display: { title: 'Empty parcel' },\n                owner: '',\n                contact: {},\n                name: 'Empty parcel',\n                main: `bin/${pick}.js`,\n                tags: [],\n                scene: { parcels: [coordinates], base: coordinates },\n                policy: {},\n                communications: { commServerUrl: '' }\n            },\n            mappingsResponse: {\n                parcel_id: coordinates,\n                contents: [\n                    {\n                        file: 'scene.json',\n                        hash: 'QmRcgEd7iCWWqLijV78QDEEFQzTXac2htSP2WYCsV9ZC8N'\n                    }\n                ].concat(emptyScenes),\n                root_cid: sceneId,\n                publisher: '0x13371b17ddb77893cd19e10ffa58461396ebcc19'\n            }\n        };\n    }\n    async resolveLandData(sceneId) {\n        if (this.sceneIdToLandData.has(sceneId)) {\n            return this.sceneIdToLandData.get(sceneId);\n        }\n        const promised = Object(fp_future__WEBPACK_IMPORTED_MODULE_0__[\"future\"])();\n        this.sceneIdToLandData.set(sceneId, promised);\n        if (sceneId.endsWith('00000000000000000000')) {\n            const promisedPos = Object(fp_future__WEBPACK_IMPORTED_MODULE_0__[\"future\"])();\n            const pos = sceneId.replace('Qm', '').replace(/m0+/, '');\n            promisedPos.resolve(sceneId);\n            this.positionToSceneId.set(pos, promisedPos);\n            const scene = this.createFakeILand(sceneId, pos);\n            promised.resolve(scene);\n            return promised;\n        }\n        const actualResponse = await fetch(this.options.contentServer + `/parcel_info?cids=${sceneId}`);\n        if (!actualResponse.ok) {\n            error(`Error in ${this.options.contentServer}/parcel_info response!`, actualResponse);\n            const ret = new Error(`Error in ${this.options.contentServer}/parcel_info response!`);\n            promised.reject(ret);\n            throw ret;\n        }\n        const mappings = (await actualResponse.json());\n        if (!promised.isPending) {\n            return promised;\n        }\n        const content = mappings.data[0];\n        if (!content || !content.content || !content.content.contents) {\n            logger.info(`Resolved ${sceneId} to null -- no contents`, content);\n            promised.resolve(null);\n            return null;\n        }\n        const sceneJsonMapping = content.content.contents.find($ => $.file === 'scene.json');\n        if (!sceneJsonMapping) {\n            logger.info(`Resolved ${sceneId} to null -- no sceneJsonMapping`);\n            promised.resolve(null);\n            return null;\n        }\n        const baseUrl = this.options.contentServer + '/contents/';\n        const scene = (await Object(atomicHelpers_jsonFetch__WEBPACK_IMPORTED_MODULE_1__[\"jsonFetch\"])(baseUrl + sceneJsonMapping.hash));\n        if (!promised.isPending) {\n            return promised;\n        }\n        const data = {\n            sceneId: sceneId,\n            baseUrl,\n            name: scene.name,\n            scene,\n            mappingsResponse: content.content\n        };\n        const pendingSceneData = this.sceneIdToLandData.get(sceneId) || Object(fp_future__WEBPACK_IMPORTED_MODULE_0__[\"future\"])();\n        if (pendingSceneData.isPending) {\n            pendingSceneData.resolve(data);\n        }\n        if (!this.sceneIdToLandData.has(sceneId)) {\n            this.sceneIdToLandData.set(sceneId, pendingSceneData);\n        }\n        try {\n            const resolvedSceneId = Object(fp_future__WEBPACK_IMPORTED_MODULE_0__[\"future\"])();\n            resolvedSceneId.resolve(sceneId);\n            scene.scene.parcels.forEach($ => {\n                this.positionToSceneId.set($, resolvedSceneId);\n            });\n        }\n        catch (e) {\n            logger.error(e);\n        }\n        promised.resolve(data);\n        return data;\n    }\n    async getParcelDataBySceneId(sceneId) {\n        return this.sceneIdToLandData.get(sceneId);\n    }\n    async getParcelData(position) {\n        const sceneId = await this.resolveSceneSceneId(position);\n        if (sceneId === null) {\n            return null;\n        }\n        return this.resolveLandData(sceneId);\n    }\n}\n\n\n//# sourceURL=webpack:///./packages/decentraland-loader/lifecycle/controllers/download.ts?");

/***/ }),

/***/ "./packages/decentraland-loader/lifecycle/controllers/emptyScenes.json":
/*!*****************************************************************************!*\
  !*** ./packages/decentraland-loader/lifecycle/controllers/emptyScenes.json ***!
  \*****************************************************************************/
/*! exports provided: 0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, 51, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, 62, 63, 64, 65, 66, 67, 68, 69, 70, 71, 72, 73, 74, 75, 76, 77, 78, 79, 80, 81, 82, 83, 84, 85, 86, 87, 88, 89, 90, 91, 92, 93, 94, 95, 96, 97, 98, default */
/***/ (function(module) {

eval("module.exports = JSON.parse(\"[{\\\"file\\\":\\\"models/RockSmall_02/RockSmall_02.glb\\\",\\\"hash\\\":\\\"QmRmcGJSmuN1PNA6jCK9cvJQxUrMY3hF3Sb69P3yrSwahU\\\"},{\\\"file\\\":\\\"models/Grass_01/Grass_01.glb\\\",\\\"hash\\\":\\\"QmNmMwJSk6fTW8BF5PT6cdoiPPyNJM2EAPUve8LepVkuAR\\\"},{\\\"file\\\":\\\"models/Grass_03/PiratesPack_TX.png.png\\\",\\\"hash\\\":\\\"QmRzYug6rwWdLb1YT8ZUjXi6qcKUtJWdBXqnhMjzCruMMw\\\"},{\\\"file\\\":\\\"models/JunglePlant_01/PiratesPack_TX.png.png\\\",\\\"hash\\\":\\\"QmRzYug6rwWdLb1YT8ZUjXi6qcKUtJWdBXqnhMjzCruMMw\\\"},{\\\"file\\\":\\\"models/Bush_01/file1.png\\\",\\\"hash\\\":\\\"QmYACL8SnbXEonXQeRHdWYbfm8vxvaFAWnsLHUaDG4ABp5\\\"},{\\\"file\\\":\\\"models/Mushroom_02/file1.png\\\",\\\"hash\\\":\\\"QmYACL8SnbXEonXQeRHdWYbfm8vxvaFAWnsLHUaDG4ABp5\\\"},{\\\"file\\\":\\\"models/TreeSycamore_01/file1.png\\\",\\\"hash\\\":\\\"QmYACL8SnbXEonXQeRHdWYbfm8vxvaFAWnsLHUaDG4ABp5\\\"},{\\\"file\\\":\\\"models/TreeSycamore_03/TreeSycamore_03.glb\\\",\\\"hash\\\":\\\"QmeBP6z1rKrWWwvKXZWRLYvPEsjd1HJFmkibMYqVdDrE6A\\\"},{\\\"file\\\":\\\"models/Grass_05/Grass_05.glb\\\",\\\"hash\\\":\\\"QmYhpLk3e5br12dhtAe16LFbX3fspLUFQFWnNy1HHskuAD\\\"},{\\\"file\\\":\\\"bin/07.js\\\",\\\"hash\\\":\\\"QmZqzd5Ry9YfhWSd52Vw92XRoyxHR2LuAHrx267ga6Tkij\\\"},{\\\"file\\\":\\\"models/TreeTall_01/TreeTall_01.glb\\\",\\\"hash\\\":\\\"QmeHDxBDVxxXZz9Yc9JjxmErMjLXvxeYULJpjLmxzei7ZP\\\"},{\\\"file\\\":\\\"models/JunglePlant_02/JunglePlant_02.glb\\\",\\\"hash\\\":\\\"QmPQxhJozLig5bGwf2QckEJfLJgcQck1csN87SZXGcKEKB\\\"},{\\\"file\\\":\\\"models/RockMedium_01/RockMedium_01.glb\\\",\\\"hash\\\":\\\"QmZ1VuhSrB73QPD85bFf5Typ81fPBS5amQ7XbR5uhW5TFb\\\"},{\\\"file\\\":\\\"models/FloorBaseGrass_01/FloorBaseGrass_01.glb\\\",\\\"hash\\\":\\\"QmSyvWnb5nKCaGHw9oHLSkwywvS5NYpj6vgb8L121kWveS\\\"},{\\\"file\\\":\\\"models/Pebble_03/Pebble_03.glb\\\",\\\"hash\\\":\\\"QmbMQggZw9HXjSCQugK3Myq5R7WkT9aKeKP7gGEDPfsUAt\\\"},{\\\"file\\\":\\\"models/Grass_05/PiratesPack_TX.png.png\\\",\\\"hash\\\":\\\"QmRzYug6rwWdLb1YT8ZUjXi6qcKUtJWdBXqnhMjzCruMMw\\\"},{\\\"file\\\":\\\"models/JunglePlant_06/PiratesPack_TX.png.png\\\",\\\"hash\\\":\\\"QmRzYug6rwWdLb1YT8ZUjXi6qcKUtJWdBXqnhMjzCruMMw\\\"},{\\\"file\\\":\\\"models/Bush_02/file1.png\\\",\\\"hash\\\":\\\"QmYACL8SnbXEonXQeRHdWYbfm8vxvaFAWnsLHUaDG4ABp5\\\"},{\\\"file\\\":\\\"models/Plant_03/file1.png\\\",\\\"hash\\\":\\\"QmYACL8SnbXEonXQeRHdWYbfm8vxvaFAWnsLHUaDG4ABp5\\\"},{\\\"file\\\":\\\"models/SpiralStone_02/file1.png\\\",\\\"hash\\\":\\\"QmYACL8SnbXEonXQeRHdWYbfm8vxvaFAWnsLHUaDG4ABp5\\\"},{\\\"file\\\":\\\"models/RockSmall_01/RockSmall_01.glb\\\",\\\"hash\\\":\\\"QmcrUFK49cQ1kGpxHF5p6vpD4Jrb5kwHv563LY14Puao7L\\\"},{\\\"file\\\":\\\"models/TreePine_01/TreePine_01.glb\\\",\\\"hash\\\":\\\"QmaGkc6Dnmzj8mYsLS54abCWFTY1qiGPPARENLh6QKKVms\\\"},{\\\"file\\\":\\\"models/JunglePlant_02/PiratesPack_TX.png.png\\\",\\\"hash\\\":\\\"QmRzYug6rwWdLb1YT8ZUjXi6qcKUtJWdBXqnhMjzCruMMw\\\"},{\\\"file\\\":\\\"models/Pond_02/Pond_02.glb\\\",\\\"hash\\\":\\\"QmXMqSY9Q5zECDXjbkPG2t3mTfRoq2RFge5C8zJPdZGiaR\\\"},{\\\"file\\\":\\\"models/Log_02/file1.png\\\",\\\"hash\\\":\\\"QmYACL8SnbXEonXQeRHdWYbfm8vxvaFAWnsLHUaDG4ABp5\\\"},{\\\"file\\\":\\\"models/RockMedium_02/file1.png\\\",\\\"hash\\\":\\\"QmYACL8SnbXEonXQeRHdWYbfm8vxvaFAWnsLHUaDG4ABp5\\\"},{\\\"file\\\":\\\"models/Grass_03/Grass_03.glb\\\",\\\"hash\\\":\\\"QmcK8QAoEaxXPnVUeCbk3DpGjUnurTEtQDzzNTeLVxwGTJ\\\"},{\\\"file\\\":\\\"models/SpiralStone_02/SpiralStone_02.glb\\\",\\\"hash\\\":\\\"QmUesWoqW3u9hWBs5h53p8P3ptXuywfdab6DTxk6FzMU3N\\\"},{\\\"file\\\":\\\"models/TreeSycamore_03/file1.png\\\",\\\"hash\\\":\\\"QmYACL8SnbXEonXQeRHdWYbfm8vxvaFAWnsLHUaDG4ABp5\\\"},{\\\"file\\\":\\\"models/TreeStump_01/TreeStump_01.glb\\\",\\\"hash\\\":\\\"QmRBQ9H5NzqiLg83nhRpTEtwSfwGxfUnwYCCAqYpZaEVbL\\\"},{\\\"file\\\":\\\"models/TreePine_03/TreePine_03.glb\\\",\\\"hash\\\":\\\"QmXtrJhFTkuqzStb68H6JH5XQsvtnSaKbjHauvpUTtJnD5\\\"},{\\\"file\\\":\\\"models/Plant_03/Plant_03.glb\\\",\\\"hash\\\":\\\"QmW8mYfFTaRHm4n5fph7mfihk9PQPyZnUbeUXRt3XK6MC2\\\"},{\\\"file\\\":\\\"models/Grass_02/Grass_02.glb\\\",\\\"hash\\\":\\\"Qmd7tojsxnG57syCkUeDLsf5MTo7aTRgcfREaDQ2rPJt7h\\\"},{\\\"file\\\":\\\"models/JunglePlant_06/JunglePlant_06.glb\\\",\\\"hash\\\":\\\"QmZyJQcyZ9evHCcyv1ojrCMotxg6Y5rEgXomyfWY8cfSbk\\\"},{\\\"file\\\":\\\"models/JunglePlant_09/PiratesPack_TX.png.png\\\",\\\"hash\\\":\\\"QmRzYug6rwWdLb1YT8ZUjXi6qcKUtJWdBXqnhMjzCruMMw\\\"},{\\\"file\\\":\\\"models/RockSmall_01/file1.png\\\",\\\"hash\\\":\\\"QmYACL8SnbXEonXQeRHdWYbfm8vxvaFAWnsLHUaDG4ABp5\\\"},{\\\"file\\\":\\\"bin/game.js\\\",\\\"hash\\\":\\\"QmWVFkie5GTw1PjxiGmJLU9Yidek5xsvrxwxuPnam6MhZX\\\"},{\\\"file\\\":\\\"models/TreePine_03/file1.png\\\",\\\"hash\\\":\\\"QmTg7f7fH4X1Csw7YgzdkgCDGa2qUc1mW5J8zZBodWHdks\\\"},{\\\"file\\\":\\\"models/RockSmall_03/RockSmall_03.glb\\\",\\\"hash\\\":\\\"QmeSsZpUZxVbLNyVpiwVrKoaNmGiSVehA78fxjoSoXPDc8\\\"},{\\\"file\\\":\\\"models/Bush_01/Bush_01.glb\\\",\\\"hash\\\":\\\"QmYyuk4fyCZfLsNssaR4E9HUQw2GJQY6nonVzHdi9oXg8y\\\"},{\\\"file\\\":\\\"models/Mushroom_02/Mushroom_02.glb\\\",\\\"hash\\\":\\\"QmcLrsMQNcsvrakQJrjmd1VR6rpHqQ5rRnjr823DfUPnTZ\\\"},{\\\"file\\\":\\\"models/Plant_05/file1.png\\\",\\\"hash\\\":\\\"QmYACL8SnbXEonXQeRHdWYbfm8vxvaFAWnsLHUaDG4ABp5\\\"},{\\\"file\\\":\\\"models/RockMedium_03/file1.png\\\",\\\"hash\\\":\\\"QmYACL8SnbXEonXQeRHdWYbfm8vxvaFAWnsLHUaDG4ABp5\\\"},{\\\"file\\\":\\\"models/RockSmall_03/file1.png\\\",\\\"hash\\\":\\\"QmYACL8SnbXEonXQeRHdWYbfm8vxvaFAWnsLHUaDG4ABp5\\\"},{\\\"file\\\":\\\"models/TreeStump_01/file1.png\\\",\\\"hash\\\":\\\"QmYACL8SnbXEonXQeRHdWYbfm8vxvaFAWnsLHUaDG4ABp5\\\"},{\\\"file\\\":\\\"models/Plant_05/Plant_05.glb\\\",\\\"hash\\\":\\\"QmVwkiRQNQA2wZ68693jH29eCMYwoUNmSZsNh8LJpBJNG6\\\"},{\\\"file\\\":\\\"models/TreeSycamore_01/TreeSycamore_01.glb\\\",\\\"hash\\\":\\\"Qmecp3Pu8dfY4JeuRC26Lx2PxUf8YoxpuuS3QQuAvKJHxT\\\"},{\\\"file\\\":\\\"bin/12.js\\\",\\\"hash\\\":\\\"QmUGXhSzkcKqoaZUR1udmJtEbwELRZEJvrcJgcPrZzuHFu\\\"},{\\\"file\\\":\\\"bin/09.js\\\",\\\"hash\\\":\\\"QmQfzrYBhhuvZNZVTUicsxWWG8EvSFJSSGrRkbjJ1yabCC\\\"},{\\\"file\\\":\\\"models/Pebble_01/Pebble_01.glb\\\",\\\"hash\\\":\\\"QmYJUW3AWoQZXeNMz88z7dcLQraP4xSGhnjM6iw85yWNcC\\\"},{\\\"file\\\":\\\"models/Plant_04/file1.png\\\",\\\"hash\\\":\\\"QmYACL8SnbXEonXQeRHdWYbfm8vxvaFAWnsLHUaDG4ABp5\\\"},{\\\"file\\\":\\\"models/Pebble_02/Pebble_02.glb\\\",\\\"hash\\\":\\\"QmbY8EuUii99BWuc2abYRaCuN2WpyQrv6x1N9mNsMo9Pjs\\\"},{\\\"file\\\":\\\"bin/06.js\\\",\\\"hash\\\":\\\"Qmf4xo9DgH51xmxki2ReEFjw4nMYuooGNsApbrTNkzyUEj\\\"},{\\\"file\\\":\\\"bin/02.js\\\",\\\"hash\\\":\\\"QmSSNVhBQBPpMyydqYz5ieohHEW3FCAhQZf2UfeHPDCrvZ\\\"},{\\\"file\\\":\\\"bin/03.js\\\",\\\"hash\\\":\\\"QmQf86DiQeEWhZj24Fy4dVJVKY2ggZfesns8XLfgHNsM1G\\\"},{\\\"file\\\":\\\"models/TreeRoundPine_03/TreeRoundPine_03.glb\\\",\\\"hash\\\":\\\"QmdUAKMxFBWjDAgdmUWi2Ta6TUBqYDSvdhDLUDaYd61aDr\\\"},{\\\"file\\\":\\\"models/RockSmall_02/file1.png\\\",\\\"hash\\\":\\\"QmYACL8SnbXEonXQeRHdWYbfm8vxvaFAWnsLHUaDG4ABp5\\\"},{\\\"file\\\":\\\"models/TreeTall_01/file1.png\\\",\\\"hash\\\":\\\"QmYACL8SnbXEonXQeRHdWYbfm8vxvaFAWnsLHUaDG4ABp5\\\"},{\\\"file\\\":\\\"bin/11.js\\\",\\\"hash\\\":\\\"Qmf6dqrkU1yqvERyXuD3cSSc5fKxuvxrbW8araVwLxjgR4\\\"},{\\\"file\\\":\\\"bin/01.js\\\",\\\"hash\\\":\\\"QmdScwNK7DmL3HDFYLYJZLp7tozXGPaP2yfz52oKZd2xhN\\\"},{\\\"file\\\":\\\"models/Bush_03/file1.png\\\",\\\"hash\\\":\\\"QmYACL8SnbXEonXQeRHdWYbfm8vxvaFAWnsLHUaDG4ABp5\\\"},{\\\"file\\\":\\\"models/Log_02/Log_02.glb\\\",\\\"hash\\\":\\\"QmW7CSEFNdG2p1UsYg5T4yETaDV3xMA6zaLHMoYK4Ggf25\\\"},{\\\"file\\\":\\\"models/JunglePlant_09/JunglePlant_09.glb\\\",\\\"hash\\\":\\\"QmXJ5s29ceeG5VWB9k6ozrYniicGkWLb39dUdYtwj8GYNQ\\\"},{\\\"file\\\":\\\"models/RockMedium_02/RockMedium_02.glb\\\",\\\"hash\\\":\\\"QmaB4WeRc1nBnN8VGejuZXt9bMHdmDGnQK6U1pAfZqRkGb\\\"},{\\\"file\\\":\\\"models/Log_03/Log_03.glb\\\",\\\"hash\\\":\\\"QmSVxToMipkiEfUUjPgSji5Dt7Sbhgxdq9oExChcMgZrcU\\\"},{\\\"file\\\":\\\"models/Log_03/file1.png\\\",\\\"hash\\\":\\\"QmYACL8SnbXEonXQeRHdWYbfm8vxvaFAWnsLHUaDG4ABp5\\\"},{\\\"file\\\":\\\"models/Plant_01/file1.png\\\",\\\"hash\\\":\\\"QmYACL8SnbXEonXQeRHdWYbfm8vxvaFAWnsLHUaDG4ABp5\\\"},{\\\"file\\\":\\\"models/Plant_07/file1.png\\\",\\\"hash\\\":\\\"QmYACL8SnbXEonXQeRHdWYbfm8vxvaFAWnsLHUaDG4ABp5\\\"},{\\\"file\\\":\\\"models/RockMedium_01/file1.png\\\",\\\"hash\\\":\\\"QmYACL8SnbXEonXQeRHdWYbfm8vxvaFAWnsLHUaDG4ABp5\\\"},{\\\"file\\\":\\\"models/TreeRoundPine_02/TreeRoundPine_02.glb\\\",\\\"hash\\\":\\\"QmdVoQrhTkRycqEZBWcTdCuC7xwEeEjqS798SxAo1dmEUT\\\"},{\\\"file\\\":\\\"bin/10.js\\\",\\\"hash\\\":\\\"QmNvNxzt8gaBmLjGF5Bmn13fQbbysdViDFBjg7KwL2v3VW\\\"},{\\\"file\\\":\\\"models/Plant_02/Plant_02.glb\\\",\\\"hash\\\":\\\"QmeAFnWF7odhbqU6N1jAPNyGa2GWKSQ23SUsne4vg2n48s\\\"},{\\\"file\\\":\\\"bin/08.js\\\",\\\"hash\\\":\\\"QmS9k3UUyTRh4MLh8EbcK35ZzXQHF1B5pR4ERQECL3GNDH\\\"},{\\\"file\\\":\\\"models/FloorBaseGrass_01/Floor_Grass01.png.png\\\",\\\"hash\\\":\\\"QmT1WfQPMBVhgwyxV5SfcfWivZ6hqMCT74nxdKXwyZBiXb\\\"},{\\\"file\\\":\\\"models/Pebble_02/file1.png\\\",\\\"hash\\\":\\\"QmYACL8SnbXEonXQeRHdWYbfm8vxvaFAWnsLHUaDG4ABp5\\\"},{\\\"file\\\":\\\"models/Plant_02/file1.png\\\",\\\"hash\\\":\\\"QmYACL8SnbXEonXQeRHdWYbfm8vxvaFAWnsLHUaDG4ABp5\\\"},{\\\"file\\\":\\\"models/TreeRoundPine_03/file1.png\\\",\\\"hash\\\":\\\"QmYACL8SnbXEonXQeRHdWYbfm8vxvaFAWnsLHUaDG4ABp5\\\"},{\\\"file\\\":\\\"models/TreeTall_02/file1.png\\\",\\\"hash\\\":\\\"QmYACL8SnbXEonXQeRHdWYbfm8vxvaFAWnsLHUaDG4ABp5\\\"},{\\\"file\\\":\\\"models/TreePine_01/file1.png\\\",\\\"hash\\\":\\\"QmTg7f7fH4X1Csw7YgzdkgCDGa2qUc1mW5J8zZBodWHdks\\\"},{\\\"file\\\":\\\"models/Bush_02/Bush_02.glb\\\",\\\"hash\\\":\\\"QmeKVSMfKPbg8fHpvPc5N5hzxBQyeRkkNwUb8ZkDv7Rqnv\\\"},{\\\"file\\\":\\\"bin/05.js\\\",\\\"hash\\\":\\\"QmZ4pSjWTxpRQ44EpXFEPH1t9yaqoNZ8UVPyMDPTYifEdu\\\"},{\\\"file\\\":\\\"models/TreeRoundPine_01/TreeRoundPine_01.glb\\\",\\\"hash\\\":\\\"QmeE8RUJZAtfmyREqW6fncMyN1AN6MzRhMG4xeEAHJp6jf\\\"},{\\\"file\\\":\\\"models/Pebble_01/file1.png\\\",\\\"hash\\\":\\\"QmYACL8SnbXEonXQeRHdWYbfm8vxvaFAWnsLHUaDG4ABp5\\\"},{\\\"file\\\":\\\"models/TreeRoundPine_02/file1.png\\\",\\\"hash\\\":\\\"QmYACL8SnbXEonXQeRHdWYbfm8vxvaFAWnsLHUaDG4ABp5\\\"},{\\\"file\\\":\\\"models/Plant_01/Plant_01.glb\\\",\\\"hash\\\":\\\"QmSecUKvuhmrVBKEd2Ymdz9MuEiphTrK6hPy8nwWv5ZEMa\\\"},{\\\"file\\\":\\\"bin/04.js\\\",\\\"hash\\\":\\\"QmaMq2eLgudXsT5fV1FAU22jsNdPKH71pM3fYWDRqqY8AV\\\"},{\\\"file\\\":\\\"models/Plant_07/Plant_07.glb\\\",\\\"hash\\\":\\\"QmVSBhzZGChURqzCfGPCdCmWVvtxAfgWuQnYoj3WFEHbGS\\\"},{\\\"file\\\":\\\"models/Grass_01/PiratesPack_TX.png.png\\\",\\\"hash\\\":\\\"QmRzYug6rwWdLb1YT8ZUjXi6qcKUtJWdBXqnhMjzCruMMw\\\"},{\\\"file\\\":\\\"models/Mushroom_01/file1.png\\\",\\\"hash\\\":\\\"QmYACL8SnbXEonXQeRHdWYbfm8vxvaFAWnsLHUaDG4ABp5\\\"},{\\\"file\\\":\\\"models/Pebble_03/file1.png\\\",\\\"hash\\\":\\\"QmYACL8SnbXEonXQeRHdWYbfm8vxvaFAWnsLHUaDG4ABp5\\\"},{\\\"file\\\":\\\"models/JunglePlant_01/JunglePlant_01.glb\\\",\\\"hash\\\":\\\"QmbjPPqczJLXZURY8ui4q67LWpFoxD6Tn63iQxknnytFTE\\\"},{\\\"file\\\":\\\"models/Plant_04/Plant_04.glb\\\",\\\"hash\\\":\\\"QmP4jifwaa2wuzzPhGhYbsA414Kvd31T82VZBbzAgYat93\\\"},{\\\"file\\\":\\\"models/Bush_03/Bush_03.glb\\\",\\\"hash\\\":\\\"QmUFhqkXS3sCDVWhqUzUPscBUDjeL8KGRnrzekBhJMm3Ao\\\"},{\\\"file\\\":\\\"models/Grass_02/PiratesPack_TX.png.png\\\",\\\"hash\\\":\\\"QmRzYug6rwWdLb1YT8ZUjXi6qcKUtJWdBXqnhMjzCruMMw\\\"},{\\\"file\\\":\\\"models/Pond_02/file1.png\\\",\\\"hash\\\":\\\"QmYACL8SnbXEonXQeRHdWYbfm8vxvaFAWnsLHUaDG4ABp5\\\"},{\\\"file\\\":\\\"models/TreeRoundPine_01/file1.png\\\",\\\"hash\\\":\\\"QmYACL8SnbXEonXQeRHdWYbfm8vxvaFAWnsLHUaDG4ABp5\\\"},{\\\"file\\\":\\\"models/TreeTall_02/TreeTall_02.glb\\\",\\\"hash\\\":\\\"QmVh5vDy6d4LK5jcLYiAkb6arVPbcEhDgcNakfHWwYnkWj\\\"},{\\\"file\\\":\\\"models/RockMedium_03/RockMedium_03.glb\\\",\\\"hash\\\":\\\"QmPV4WN5piBCe4yXHHMQhAwy6NxtyyFhGrfaDkcjMibhiU\\\"},{\\\"file\\\":\\\"models/Mushroom_01/Mushroom_01.glb\\\",\\\"hash\\\":\\\"QmPFQV4W7ine8GYEGgx7TrcgQ67E9buf23YnChDQSn6cqM\\\"}]\");\n\n//# sourceURL=webpack:///./packages/decentraland-loader/lifecycle/controllers/emptyScenes.json?");

/***/ }),

/***/ "./packages/decentraland-loader/lifecycle/controllers/parcel.ts":
/*!**********************************************************************!*\
  !*** ./packages/decentraland-loader/lifecycle/controllers/parcel.ts ***!
  \**********************************************************************/
/*! exports provided: ParcelLifeCycleController */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"ParcelLifeCycleController\", function() { return ParcelLifeCycleController; });\n/* harmony import */ var events__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! events */ \"./node_modules/events/events.js\");\n/* harmony import */ var events__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(events__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _lib_scope__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../lib/scope */ \"./packages/decentraland-loader/lifecycle/lib/scope.ts\");\n/* harmony import */ var _lib_parcel_status__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../lib/parcel.status */ \"./packages/decentraland-loader/lifecycle/lib/parcel.status.ts\");\n\n\n\nclass ParcelLifeCycleController extends events__WEBPACK_IMPORTED_MODULE_0__[\"EventEmitter\"] {\n    constructor(config) {\n        super();\n        this.isTargetPlaced = false;\n        this.missingDataParcelsCount = 0;\n        this.parcelStatus = new Map();\n        this.currentlySightedParcels = new Set();\n        this.config = config;\n    }\n    reportCurrentPosition(position) {\n        if (this.currentPosition && this.currentPosition.x === position.x && this.currentPosition.y === position.y) {\n            return undefined;\n        }\n        this.currentPosition = position;\n        this.isTargetPlaced = true;\n        const sightedParcels = Object(_lib_scope__WEBPACK_IMPORTED_MODULE_1__[\"parcelsInScope\"])(this.config.lineOfSightRadius, position);\n        const sightedParcelsSet = new Set();\n        const newlySightedParcels = sightedParcels.filter(parcel => {\n            sightedParcelsSet.add(parcel);\n            return this.parcelSighted(parcel);\n        });\n        const secureParcels = new Set(Object(_lib_scope__WEBPACK_IMPORTED_MODULE_1__[\"parcelsInScope\"])(this.config.lineOfSightRadius + this.config.secureRadius, position));\n        const currentlyPlusNewlySightedParcels = [...this.currentlySightedParcels];\n        const newlyOOSParcels = currentlyPlusNewlySightedParcels\n            .filter(parcel => !secureParcels.has(parcel))\n            .filter(parcel => this.switchParcelToOutOfSight(parcel));\n        this.currentlySightedParcels = new Set(currentlyPlusNewlySightedParcels.filter($ => secureParcels.has($)));\n        this.emit('Sighted', newlySightedParcels);\n        this.emit('Lost sight', newlyOOSParcels);\n        return { sighted: newlySightedParcels, lostSight: newlyOOSParcels };\n    }\n    inSight(parcel) {\n        return !!this.currentlySightedParcels.has(parcel);\n    }\n    parcelSighted(parcel) {\n        let status = this.getParcelStatus(parcel);\n        if (status.isOutOfSight()) {\n            this.currentlySightedParcels.add(parcel);\n            status.setInSight();\n            return true;\n        }\n        return false;\n    }\n    getParcelStatus(parcel) {\n        let status;\n        this.parcelStatus.get(parcel);\n        if (!status) {\n            status = new _lib_parcel_status__WEBPACK_IMPORTED_MODULE_2__[\"ParcelLifeCycleStatus\"](parcel);\n            this.parcelStatus.set(parcel, status);\n        }\n        return status;\n    }\n    switchParcelToOutOfSight(parcel) {\n        if (!this.parcelStatus.has(parcel)) {\n            return false;\n        }\n        const status = this.parcelStatus.get(parcel);\n        if (status && status.isInSight()) {\n            status.setOffSight();\n            return true;\n        }\n        return false;\n    }\n}\n\n\n//# sourceURL=webpack:///./packages/decentraland-loader/lifecycle/controllers/parcel.ts?");

/***/ }),

/***/ "./packages/decentraland-loader/lifecycle/controllers/position.ts":
/*!************************************************************************!*\
  !*** ./packages/decentraland-loader/lifecycle/controllers/position.ts ***!
  \************************************************************************/
/*! exports provided: PositionLifecycleController */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"PositionLifecycleController\", function() { return PositionLifecycleController; });\n/* harmony import */ var events__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! events */ \"./node_modules/events/events.js\");\n/* harmony import */ var events__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(events__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _atomicHelpers_parcelScenePositions__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../atomicHelpers/parcelScenePositions */ \"./packages/atomicHelpers/parcelScenePositions.ts\");\n/* harmony import */ var shared_world_positionThings__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! shared/world/positionThings */ \"./packages/shared/world/positionThings.ts\");\n\n\n\nclass PositionLifecycleController extends events__WEBPACK_IMPORTED_MODULE_0__[\"EventEmitter\"] {\n    constructor(downloadManager, parcelController, sceneController) {\n        super();\n        this.downloadManager = downloadManager;\n        this.parcelController = parcelController;\n        this.sceneController = sceneController;\n        this.positionSettled = false;\n        this.currentlySightedScenes = [];\n        sceneController.on('Scene status', () => this.checkPositionSettlement());\n    }\n    async reportCurrentPosition(position, teleported) {\n        let resolvedPosition = position;\n        if (teleported) {\n            const land = await this.downloadManager.getParcelData(`${position.x},${position.y}`);\n            if (land) {\n                const spawnPoint = Object(shared_world_positionThings__WEBPACK_IMPORTED_MODULE_2__[\"pickWorldSpawnpoint\"])(land);\n                resolvedPosition = Object(_atomicHelpers_parcelScenePositions__WEBPACK_IMPORTED_MODULE_1__[\"worldToGrid\"])(spawnPoint.position);\n                this.queueTrackingEvent('Scene Spawn', { parcel: land.scene.scene.base, spawnpoint: spawnPoint.position });\n                this.currentSpawnpoint = spawnPoint;\n            }\n            else {\n                this.currentSpawnpoint = { position: Object(_atomicHelpers_parcelScenePositions__WEBPACK_IMPORTED_MODULE_1__[\"gridToWorld\"])(position.x, position.y) };\n            }\n        }\n        const parcels = this.parcelController.reportCurrentPosition(resolvedPosition);\n        if (parcels) {\n            const newlySightedScenes = await this.sceneController.reportSightedParcels(parcels.sighted, parcels.lostSight);\n            if (!this.eqSet(this.currentlySightedScenes, newlySightedScenes.sighted)) {\n                this.currentlySightedScenes = newlySightedScenes.sighted;\n            }\n        }\n        if (teleported) {\n            this.positionSettled = false;\n            this.emit('Unsettled Position');\n        }\n        this.checkPositionSettlement();\n    }\n    eqSet(as, bs) {\n        if (as.length !== bs.length)\n            return false;\n        for (const a of as)\n            if (!bs.includes(a))\n                return false;\n        return true;\n    }\n    checkPositionSettlement() {\n        if (!this.positionSettled) {\n            const settling = this.currentlySightedScenes.every($ => this.sceneController.isRenderable($));\n            if (settling) {\n                this.positionSettled = settling;\n                this.emit('Settled Position', this.currentSpawnpoint);\n            }\n        }\n    }\n    queueTrackingEvent(name, data) {\n        this.emit('Tracking Event', { name, data });\n    }\n}\n\n\n//# sourceURL=webpack:///./packages/decentraland-loader/lifecycle/controllers/position.ts?");

/***/ }),

/***/ "./packages/decentraland-loader/lifecycle/controllers/scene.ts":
/*!*********************************************************************!*\
  !*** ./packages/decentraland-loader/lifecycle/controllers/scene.ts ***!
  \*********************************************************************/
/*! exports provided: sceneLifeCycleObservable, SceneLifeCycleController */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"sceneLifeCycleObservable\", function() { return sceneLifeCycleObservable; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"SceneLifeCycleController\", function() { return SceneLifeCycleController; });\n/* harmony import */ var _lib_scene_status__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../lib/scene.status */ \"./packages/decentraland-loader/lifecycle/lib/scene.status.ts\");\n/* harmony import */ var fp_future__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! fp-future */ \"./node_modules/fp-future/index.js\");\n/* harmony import */ var fp_future__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(fp_future__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var events__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! events */ \"./node_modules/events/events.js\");\n/* harmony import */ var events__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(events__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var decentraland_ecs_src_ecs_Observable__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! decentraland-ecs/src/ecs/Observable */ \"./packages/decentraland-ecs/src/ecs/Observable.ts\");\n/* harmony import */ var shared_logger__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! shared/logger */ \"./packages/shared/logger.ts\");\n\n\n\n\n\nconst sceneLifeCycleObservable = new decentraland_ecs_src_ecs_Observable__WEBPACK_IMPORTED_MODULE_3__[\"Observable\"]();\nclass SceneLifeCycleController extends events__WEBPACK_IMPORTED_MODULE_2__[\"EventEmitter\"] {\n    constructor(opts) {\n        super();\n        this._positionToSceneId = new Map();\n        this.futureOfPositionToSceneId = new Map();\n        this.sceneStatus = new Map();\n        this.downloadManager = opts.downloadManager;\n        this.enabledEmpty = opts.enabledEmpty;\n    }\n    contains(status, position) {\n        return (status.sceneDescription && status.sceneDescription.scene.scene.parcels.includes(`${position.x},${position.y}`));\n    }\n    hasStarted(position) {\n        return (this._positionToSceneId.has(position) &&\n            this.sceneStatus.has(this._positionToSceneId.get(position)) &&\n            this.sceneStatus.get(this._positionToSceneId.get(position)).isAwake());\n    }\n    distinct(value, index, self) {\n        return self.indexOf(value) === index;\n    }\n    diff(a1, a2) {\n        return a1.filter(i => a2.indexOf(i) < 0);\n    }\n    async reportSightedParcels(sightedParcels, lostSightParcels) {\n        const sighted = await this.fetchSceneIds(sightedParcels);\n        const lostSight = await this.fetchSceneIds(lostSightParcels);\n        await this.onSight(sighted);\n        const difference = this.diff(lostSight, sighted);\n        this.lostSight(difference);\n        return { sighted, lostSight: difference };\n    }\n    async fetchSceneIds(positions) {\n        const sceneIds = await Promise.all(positions.map(position => this.requestSceneId(position)));\n        return sceneIds.filter($ => !!$).filter(this.distinct);\n    }\n    async onSight(sceneIds) {\n        sceneIds.forEach(async (sceneId) => {\n            try {\n                if (!this.sceneStatus.has(sceneId)) {\n                    const data = await this.downloadManager.resolveLandData(sceneId);\n                    if (data) {\n                        this.sceneStatus.set(sceneId, new _lib_scene_status__WEBPACK_IMPORTED_MODULE_0__[\"SceneLifeCycleStatus\"](data));\n                    }\n                }\n                if (this.sceneStatus.get(sceneId).isDead()) {\n                    this.emit('Preload scene', sceneId);\n                    this.sceneStatus.get(sceneId).status = 'awake';\n                }\n            }\n            catch (e) {\n                shared_logger__WEBPACK_IMPORTED_MODULE_4__[\"default\"].error(`error while loading scene ${sceneId}`, e);\n            }\n        });\n    }\n    lostSight(sceneIds) {\n        sceneIds.forEach(sceneId => {\n            const sceneStatus = this.sceneStatus.get(sceneId);\n            if (sceneStatus && sceneStatus.isAwake()) {\n                sceneStatus.status = 'unloaded';\n                this.emit('Unload scene', sceneId);\n            }\n        });\n    }\n    reportDataLoaded(sceneId) {\n        if (this.sceneStatus.has(sceneId) && this.sceneStatus.get(sceneId).status === 'awake') {\n            this.sceneStatus.get(sceneId).status = 'loaded';\n            this.emit('Start scene', sceneId);\n        }\n    }\n    isRenderable(sceneId) {\n        const status = this.sceneStatus.get(sceneId);\n        return !!status && (status.isReady() || status.isFailed());\n    }\n    reportStatus(sceneId, status) {\n        const lifeCycleStatus = this.sceneStatus.get(sceneId);\n        if (!lifeCycleStatus) {\n            shared_logger__WEBPACK_IMPORTED_MODULE_4__[\"default\"].info(`no lifecycle status for scene ${sceneId}`);\n            return;\n        }\n        lifeCycleStatus.status = status;\n        this.emit('Scene status', { sceneId, status });\n    }\n    async requestSceneId(position) {\n        if (this._positionToSceneId.has(position)) {\n            return this._positionToSceneId.get(position);\n        }\n        if (!this.futureOfPositionToSceneId.has(position)) {\n            this.futureOfPositionToSceneId.set(position, fp_future__WEBPACK_IMPORTED_MODULE_1___default()());\n            try {\n                const land = await this.downloadManager.getParcelData(position);\n                if (!land) {\n                    this.futureOfPositionToSceneId\n                        .get(position)\n                        .resolve(this.enabledEmpty ? ('Qm' + position + 'm').padEnd(46, '0') : undefined);\n                    return this.futureOfPositionToSceneId.get(position);\n                }\n                for (const pos of land.scene.scene.parcels) {\n                    if (!this._positionToSceneId.has(pos)) {\n                        this._positionToSceneId.set(pos, land.sceneId);\n                    }\n                    const futurePosition = this.futureOfPositionToSceneId.get(pos);\n                    if (futurePosition && futurePosition.isPending) {\n                        futurePosition.resolve(land.sceneId);\n                    }\n                }\n            }\n            catch (e) {\n                this.futureOfPositionToSceneId.get(position).reject(e);\n            }\n            return this.futureOfPositionToSceneId.get(position);\n        }\n        else {\n            const sceneId = await this.futureOfPositionToSceneId.get(position);\n            this._positionToSceneId.set(position, sceneId);\n            return sceneId;\n        }\n    }\n}\n\n\n//# sourceURL=webpack:///./packages/decentraland-loader/lifecycle/controllers/scene.ts?");

/***/ }),

/***/ "./packages/decentraland-loader/lifecycle/lib/adapter.ts":
/*!***************************************************************!*\
  !*** ./packages/decentraland-loader/lifecycle/lib/adapter.ts ***!
  \***************************************************************/
/*! exports provided: Adapter */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"Adapter\", function() { return Adapter; });\n/* harmony import */ var decentraland_rpc_lib_common_json_rpc_Client__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! decentraland-rpc/lib/common/json-rpc/Client */ \"./node_modules/decentraland-rpc/lib/common/json-rpc/Client.js\");\n\nclass Adapter extends decentraland_rpc_lib_common_json_rpc_Client__WEBPACK_IMPORTED_MODULE_0__[\"Client\"] {\n    constructor(transport) {\n        super({});\n        this.transport = transport;\n        if (transport.onError) {\n            transport.onError(e => {\n                this.emit('error', e);\n            });\n        }\n        if (transport.onClose) {\n            transport.onClose(() => {\n                this.emit('transportClosed');\n            });\n        }\n        transport.onMessage(message => {\n            this.processMessage(message);\n        });\n        if (transport.onConnect) {\n            transport.onConnect(() => {\n                this.didConnect();\n            });\n        }\n        else {\n            this.didConnect();\n        }\n    }\n    sendMessage(message) {\n        this.transport.sendMessage(message);\n    }\n}\n\n\n//# sourceURL=webpack:///./packages/decentraland-loader/lifecycle/lib/adapter.ts?");

/***/ }),

/***/ "./packages/decentraland-loader/lifecycle/lib/parcel.status.ts":
/*!*********************************************************************!*\
  !*** ./packages/decentraland-loader/lifecycle/lib/parcel.status.ts ***!
  \*********************************************************************/
/*! exports provided: ParcelLifeCycleStatus */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"ParcelLifeCycleStatus\", function() { return ParcelLifeCycleStatus; });\n/* harmony import */ var atomicHelpers_parcelScenePositions__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! atomicHelpers/parcelScenePositions */ \"./packages/atomicHelpers/parcelScenePositions.ts\");\n\nclass ParcelLifeCycleStatus {\n    constructor(coord) {\n        const { x, y } = Object(atomicHelpers_parcelScenePositions__WEBPACK_IMPORTED_MODULE_0__[\"parseParcelPosition\"])(coord);\n        this.x = x;\n        this.y = y;\n        this.xy = coord;\n        this.status = 'oos';\n    }\n    isOutOfSight() {\n        return this.status === 'oos';\n    }\n    isInSight() {\n        return this.status === 'in sight';\n    }\n    setInSight() {\n        this.status = 'in sight';\n    }\n    setOffSight() {\n        this.status = 'oos';\n    }\n}\n\n\n//# sourceURL=webpack:///./packages/decentraland-loader/lifecycle/lib/parcel.status.ts?");

/***/ }),

/***/ "./packages/decentraland-loader/lifecycle/lib/scene.status.ts":
/*!********************************************************************!*\
  !*** ./packages/decentraland-loader/lifecycle/lib/scene.status.ts ***!
  \********************************************************************/
/*! exports provided: SceneLifeCycleStatus */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"SceneLifeCycleStatus\", function() { return SceneLifeCycleStatus; });\nclass SceneLifeCycleStatus {\n    constructor(sceneDescription) {\n        this.sceneDescription = sceneDescription;\n        this.status = 'unloaded';\n    }\n    isAwake() {\n        return this.status !== 'unloaded';\n    }\n    isDead() {\n        return this.status === 'unloaded';\n    }\n    isReady() {\n        return this.status === 'ready';\n    }\n    isFailed() {\n        return this.status === 'failed';\n    }\n}\n\n\n//# sourceURL=webpack:///./packages/decentraland-loader/lifecycle/lib/scene.status.ts?");

/***/ }),

/***/ "./packages/decentraland-loader/lifecycle/lib/scope.ts":
/*!*************************************************************!*\
  !*** ./packages/decentraland-loader/lifecycle/lib/scope.ts ***!
  \*************************************************************/
/*! exports provided: squareAndSum, parcelsInScope */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"squareAndSum\", function() { return squareAndSum; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"parcelsInScope\", function() { return parcelsInScope; });\nfunction squareAndSum(a, b) {\n    return a * a + b * b;\n}\nconst cachedDeltas = {};\nfunction parcelsInScope(lineOfSightRadius, position) {\n    const result = [];\n    if (!cachedDeltas[lineOfSightRadius]) {\n        cachedDeltas[lineOfSightRadius] = [];\n    }\n    let length = cachedDeltas[lineOfSightRadius].length;\n    if (!length) {\n        calculateCachedDeltas(lineOfSightRadius);\n        length = cachedDeltas[lineOfSightRadius].length;\n    }\n    for (let i = 0; i < length; i++) {\n        result.push(`${position.x + cachedDeltas[lineOfSightRadius][i].x},${position.y + cachedDeltas[lineOfSightRadius][i].y}`);\n    }\n    return result;\n}\nfunction calculateCachedDeltas(limit) {\n    const squaredRadius = limit * limit;\n    for (let x = -limit; x <= limit; x++) {\n        for (let y = -limit; y <= limit; y++) {\n            if (x * x + y * y <= squaredRadius) {\n                cachedDeltas[limit].push({ x, y });\n            }\n        }\n    }\n    cachedDeltas[limit].sort((a, b) => squareAndSum(a.x, a.y) - squareAndSum(b.x, b.y));\n}\n\n\n//# sourceURL=webpack:///./packages/decentraland-loader/lifecycle/lib/scope.ts?");

/***/ }),

/***/ "./packages/decentraland-loader/lifecycle/worker.ts":
/*!**********************************************************!*\
  !*** ./packages/decentraland-loader/lifecycle/worker.ts ***!
  \**********************************************************/
/*! no exports provided */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var decentraland_rpc__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! decentraland-rpc */ \"./node_modules/decentraland-rpc/lib/client/index.js\");\n/* harmony import */ var _lib_adapter__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./lib/adapter */ \"./packages/decentraland-loader/lifecycle/lib/adapter.ts\");\n/* harmony import */ var _controllers_parcel__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./controllers/parcel */ \"./packages/decentraland-loader/lifecycle/controllers/parcel.ts\");\n/* harmony import */ var _controllers_scene__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./controllers/scene */ \"./packages/decentraland-loader/lifecycle/controllers/scene.ts\");\n/* harmony import */ var _controllers_position__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./controllers/position */ \"./packages/decentraland-loader/lifecycle/controllers/position.ts\");\n/* harmony import */ var _controllers_download__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./controllers/download */ \"./packages/decentraland-loader/lifecycle/controllers/download.ts\");\n/* harmony import */ var shared_logger__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! shared/logger */ \"./packages/shared/logger.ts\");\n\n\n\n\n\n\n\nconst connector = new _lib_adapter__WEBPACK_IMPORTED_MODULE_1__[\"Adapter\"](Object(decentraland_rpc__WEBPACK_IMPORTED_MODULE_0__[\"WebWorkerTransport\"])(self));\nlet parcelController;\nlet sceneController;\nlet positionController;\nlet downloadManager;\n{\n    connector.on('Lifecycle.initialize', (options) => {\n        downloadManager = new _controllers_download__WEBPACK_IMPORTED_MODULE_5__[\"SceneDataDownloadManager\"]({ contentServer: options.contentServer });\n        parcelController = new _controllers_parcel__WEBPACK_IMPORTED_MODULE_2__[\"ParcelLifeCycleController\"]({\n            lineOfSightRadius: options.lineOfSightRadius,\n            secureRadius: options.secureRadius\n        });\n        sceneController = new _controllers_scene__WEBPACK_IMPORTED_MODULE_3__[\"SceneLifeCycleController\"]({ downloadManager, enabledEmpty: options.emptyScenes });\n        positionController = new _controllers_position__WEBPACK_IMPORTED_MODULE_4__[\"PositionLifecycleController\"](downloadManager, parcelController, sceneController);\n        parcelController.on('Sighted', (parcels) => connector.notify('Parcel.sighted', { parcels }));\n        parcelController.on('Lost sight', (parcels) => connector.notify('Parcel.lostSight', { parcels }));\n        positionController.on('Settled Position', (spawnPoint) => {\n            connector.notify('Position.settled', { spawnPoint });\n        });\n        positionController.on('Unsettled Position', () => {\n            connector.notify('Position.unsettled');\n        });\n        positionController.on('Tracking Event', (event) => connector.notify('Event.track', event));\n        sceneController.on('Start scene', sceneId => {\n            connector.notify('Scene.shouldStart', { sceneId });\n        });\n        sceneController.on('Preload scene', sceneId => {\n            connector.notify('Scene.shouldPrefetch', { sceneId });\n        });\n        sceneController.on('Unload scene', sceneId => {\n            connector.notify('Scene.shouldUnload', { sceneId });\n        });\n        connector.on('User.setPosition', (opt) => {\n            positionController.reportCurrentPosition(opt.position, opt.teleported).catch(e => {\n                shared_logger__WEBPACK_IMPORTED_MODULE_6__[\"default\"].error(`error while resolving new scenes around`, e);\n            });\n        });\n        connector.on('Scene.dataRequest', async (data) => connector.notify('Scene.dataResponse', {\n            data: (await downloadManager.getParcelDataBySceneId(data.sceneId))\n        }));\n        connector.on('Scene.prefetchDone', (opt) => {\n            sceneController.reportDataLoaded(opt.sceneId);\n        });\n        connector.on('Scene.status', (data) => {\n            sceneController.reportStatus(data.sceneId, data.status);\n        });\n    });\n}\n\n\n//# sourceURL=webpack:///./packages/decentraland-loader/lifecycle/worker.ts?");

/***/ }),

/***/ "./packages/shared/logger.ts":
/*!***********************************!*\
  !*** ./packages/shared/logger.ts ***!
  \***********************************/
/*! exports provided: createLogger, defaultLogger, default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"createLogger\", function() { return createLogger; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"defaultLogger\", function() { return defaultLogger; });\nfunction createLogger(prefix) {\n    return {\n        error(message, ...args) {\n            if (typeof message === 'object' && message.stack) {\n                console.error(prefix + message, ...args, message.stack);\n            }\n            else {\n                console.error(prefix + message, ...args);\n            }\n        },\n        log(message, ...args) {\n            if (args && args[0] && args[0].startsWith && args[0].startsWith('The entity is already in the engine.')) {\n                return;\n            }\n            console.log(prefix + message, ...args);\n        },\n        warn(message, ...args) {\n            console.log(prefix + message, ...args);\n        },\n        info(message, ...args) {\n            console.info(prefix + message, ...args);\n        },\n        trace(message, ...args) {\n            console.trace(prefix + message, ...args);\n        }\n    };\n}\nconst defaultLogger = createLogger('');\n/* harmony default export */ __webpack_exports__[\"default\"] = (defaultLogger);\n\n\n//# sourceURL=webpack:///./packages/shared/logger.ts?");

/***/ }),

/***/ "./packages/shared/world/positionThings.ts":
/*!*************************************************!*\
  !*** ./packages/shared/world/positionThings.ts ***!
  \*************************************************/
/*! exports provided: positionObservable, teleportObservable, lastPlayerPosition, initializeUrlPositionObserver, pickWorldSpawnpoint, getLandBase */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"positionObservable\", function() { return positionObservable; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"teleportObservable\", function() { return teleportObservable; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"lastPlayerPosition\", function() { return lastPlayerPosition; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"initializeUrlPositionObserver\", function() { return initializeUrlPositionObserver; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"pickWorldSpawnpoint\", function() { return pickWorldSpawnpoint; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getLandBase\", function() { return getLandBase; });\n/* harmony import */ var atomicHelpers_parcelScenePositions__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! atomicHelpers/parcelScenePositions */ \"./packages/atomicHelpers/parcelScenePositions.ts\");\n/* harmony import */ var decentraland_ecs_src_decentraland_math__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! decentraland-ecs/src/decentraland/math */ \"./packages/decentraland-ecs/src/decentraland/math/index.ts\");\n/* harmony import */ var decentraland_ecs_src_ecs_Observable__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! decentraland-ecs/src/ecs/Observable */ \"./packages/decentraland-ecs/src/ecs/Observable.ts\");\nconst qs = __webpack_require__(/*! query-string */ \"./node_modules/query-string/index.js\");\n\n\n\nconst positionObservable = new decentraland_ecs_src_ecs_Observable__WEBPACK_IMPORTED_MODULE_2__[\"Observable\"]();\nconst teleportObservable = new decentraland_ecs_src_ecs_Observable__WEBPACK_IMPORTED_MODULE_2__[\"Observable\"]();\nconst lastPlayerPosition = new decentraland_ecs_src_decentraland_math__WEBPACK_IMPORTED_MODULE_1__[\"Vector3\"]();\npositionObservable.add(event => {\n    lastPlayerPosition.copyFrom(event.position);\n});\nfunction initializeUrlPositionObserver() {\n    let lastTime = performance.now();\n    let previousPosition = null;\n    const gridPosition = decentraland_ecs_src_decentraland_math__WEBPACK_IMPORTED_MODULE_1__[\"Vector2\"].Zero();\n    function updateUrlPosition(cameraVector) {\n        if (performance.now() - lastTime > 1000) {\n            Object(atomicHelpers_parcelScenePositions__WEBPACK_IMPORTED_MODULE_0__[\"worldToGrid\"])(cameraVector, gridPosition);\n            const currentPosition = `${gridPosition.x | 0},${gridPosition.y | 0}`;\n            if (previousPosition !== currentPosition) {\n                const stateObj = { position: currentPosition };\n                previousPosition = currentPosition;\n                const q = qs.parse(location.search);\n                q.position = currentPosition;\n                history.replaceState(stateObj, 'position', `?${qs.stringify(q)}`);\n            }\n            lastTime = performance.now();\n        }\n    }\n    positionObservable.add(event => {\n        updateUrlPosition(event.position);\n    });\n    if (lastPlayerPosition.equalsToFloats(0, 0, 0)) {\n        const query = qs.parse(location.search);\n        if (query.position) {\n            const parcelCoords = query.position.split(',');\n            Object(atomicHelpers_parcelScenePositions__WEBPACK_IMPORTED_MODULE_0__[\"gridToWorld\"])(parseFloat(parcelCoords[0]), parseFloat(parcelCoords[1]), lastPlayerPosition);\n        }\n        else {\n            lastPlayerPosition.x = Math.round(Math.random() * 10) - 5;\n            lastPlayerPosition.z = 0;\n        }\n    }\n}\nfunction pickWorldSpawnpoint(land) {\n    const pick = pickSpawnpoint(land);\n    const spawnpoint = pick || { position: { x: 0, y: 0, z: 0 } };\n    const baseParcel = land.scene.scene.base;\n    const [bx, by] = baseParcel.split(',');\n    const basePosition = new decentraland_ecs_src_decentraland_math__WEBPACK_IMPORTED_MODULE_1__[\"Vector3\"]();\n    const { position, cameraTarget } = spawnpoint;\n    Object(atomicHelpers_parcelScenePositions__WEBPACK_IMPORTED_MODULE_0__[\"gridToWorld\"])(parseInt(bx, 10), parseInt(by, 10), basePosition);\n    return {\n        position: basePosition.add(position),\n        cameraTarget: cameraTarget ? basePosition.add(cameraTarget) : undefined\n    };\n}\nfunction pickSpawnpoint(land) {\n    if (!land.scene || !land.scene.spawnPoints || land.scene.spawnPoints.length === 0) {\n        return undefined;\n    }\n    const defaults = land.scene.spawnPoints.filter($ => $.default);\n    const eligiblePoints = defaults.length === 0 ? land.scene.spawnPoints : defaults;\n    const { position, cameraTarget } = eligiblePoints[Math.floor(Math.random() * eligiblePoints.length)];\n    return {\n        position: {\n            x: computeComponentValue(position.x),\n            y: computeComponentValue(position.y),\n            z: computeComponentValue(position.z)\n        },\n        cameraTarget\n    };\n}\nfunction computeComponentValue(x) {\n    if (typeof x === 'number') {\n        return x;\n    }\n    if (x.length !== 2) {\n        throw new Error(`array must have two values ${JSON.stringify(x)}`);\n    }\n    const [min, max] = x;\n    if (max <= min) {\n        throw new Error(`max value (${max}) must be greater than min value (${min})`);\n    }\n    return Math.random() * (max - min) + min;\n}\nfunction getLandBase(land) {\n    if (land.scene &&\n        land.scene.scene &&\n        land.scene.scene.base &&\n        typeof land.scene.scene.base === 'string') {\n        return Object(atomicHelpers_parcelScenePositions__WEBPACK_IMPORTED_MODULE_0__[\"parseParcelPosition\"])(land.scene.scene.base);\n    }\n    else {\n        return Object(atomicHelpers_parcelScenePositions__WEBPACK_IMPORTED_MODULE_0__[\"parseParcelPosition\"])(land.mappingsResponse.parcel_id);\n    }\n}\n\n\n//# sourceURL=webpack:///./packages/shared/world/positionThings.ts?");

/***/ })

/******/ })));